(()=>{var e={};e.id=880,e.ids=[880],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},59633:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>o}),s(74851),s(75275),s(35866),s(11506);var a=s(23191),i=s(88716),r=s(37922),n=s.n(r),l=s(95231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let o=["",{children:["(admin)",{children:["availability",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,74851)),"/Users/kumar/Business admin/tripfluence-admin/app/(admin)/availability/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,75275)),"/Users/kumar/Business admin/tripfluence-admin/app/(admin)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,11506)),"/Users/kumar/Business admin/tripfluence-admin/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/kumar/Business admin/tripfluence-admin/app/(admin)/availability/page.tsx"],m="/(admin)/availability/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(admin)/availability/page",pathname:"/availability",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},74045:(e,t,s)=>{Promise.resolve().then(s.bind(s,32406))},32406:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>q});var a=s(10326),i=s(17577),r=s(44976),n=s(20108),l=s(10119),d=s(63685),o=s(83855),c=s(69561),m=s(31540),u=s(48998),x=s(24061),h=s(37358),p=s(77636),g=s(85999),f=s(85065),j=s(78306),v=s(60243),b=s(78432),y=s(99068),N=s(9663),w=s(45079),T=s(90772),k=s(54432),S=s(567),A=s(33071),I=s(34474),D=s(11585);let Z=[{id:"1",listingId:"1",listingTitle:"Sunset Yoga Retreat",date:"2024-02-15",startTime:"18:00",endTime:"20:00",capacity:20,booked:12,available:8,location:"Beach Pavilion",isBlackout:!1,price:299,status:"available",createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-20T14:30:00Z"},{id:"2",listingId:"2",listingTitle:"Farm-to-Table Cooking Class",date:"2024-02-20",startTime:"14:00",endTime:"17:00",capacity:12,booked:8,available:4,location:"Kitchen Studio",room:"Main Kitchen",isBlackout:!1,price:150,status:"available",createdAt:"2024-01-10T09:00:00Z",updatedAt:"2024-01-18T16:45:00Z"},{id:"3",listingId:"5",listingTitle:"Fine Dining Restaurant",date:"2024-02-18",startTime:"19:30",endTime:"22:00",capacity:60,booked:45,available:15,location:"Main Dining Room",table:"Tables 1-20",isBlackout:!1,price:120,status:"available",createdAt:"2024-01-12T12:00:00Z",updatedAt:"2024-01-19T10:15:00Z"},{id:"4",listingId:"3",listingTitle:"Luxury Beach Villa",date:"2024-02-25",startTime:"15:00",endTime:"11:00",capacity:8,booked:6,available:2,location:"Beach Villa",room:"Villa A",isBlackout:!1,price:800,status:"available",createdAt:"2024-01-05T11:00:00Z",updatedAt:"2024-01-22T13:20:00Z"},{id:"5",listingId:"1",listingTitle:"Sunset Yoga Retreat",date:"2024-02-22",startTime:"18:00",endTime:"20:00",capacity:20,booked:0,available:20,location:"Beach Pavilion",isBlackout:!0,notes:"Maintenance day",status:"maintenance",createdAt:"2024-01-25T15:00:00Z",updatedAt:"2024-01-25T15:00:00Z"}],C={getAll:async()=>(await new Promise(e=>setTimeout(e,500)),[...Z]),getByListing:async e=>(await new Promise(e=>setTimeout(e,300)),Z.filter(t=>t.listingId===e)),async getByDateRange(e,t){await new Promise(e=>setTimeout(e,400));let s=new Date(e),a=new Date(t);return Z.filter(e=>{let t=new Date(e.date);return t>=s&&t<=a})},getById:async e=>(await new Promise(e=>setTimeout(e,300)),Z.find(t=>t.id===e)||null),async create(e){await new Promise(e=>setTimeout(e,800));let t={id:(Z.length+1).toString(),listingTitle:"Unknown Listing",booked:0,available:e.capacity,status:"available",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...e,date:e.date.toISOString().split("T")[0]};return Z.push(t),t},async update(e,t){await new Promise(e=>setTimeout(e,600));let s=Z.findIndex(t=>t.id===e);if(-1===s)throw Error("Slot not found");return Z[s]={...Z[s],...t,date:t.date?t.date.toISOString().split("T")[0]:Z[s].date,updatedAt:new Date().toISOString()},Z[s]},async delete(e){await new Promise(e=>setTimeout(e,400));let t=Z.findIndex(t=>t.id===e);if(-1===t)throw Error("Slot not found");Z.splice(t,1)},async bulkCreate(e){await new Promise(e=>setTimeout(e,1200));let t=[],s=new Date(e.startDate),a=new Date(e.endDate);for(let i=new Date(s);i<=a;i.setDate(i.getDate()+1))if(e.daysOfWeek.includes(i.getDay())){let s={id:(Z.length+t.length+1).toString(),listingId:e.listingId,listingTitle:"Unknown Listing",date:i.toISOString().split("T")[0],startTime:e.startTime,endTime:e.endTime,capacity:e.capacity,booked:0,available:e.capacity,location:e.location,room:e.room,table:e.table,isBlackout:e.isBlackout,price:e.price,status:"available",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};t.push(s)}return Z.push(...t),t},async toggleBlackout(e){await new Promise(e=>setTimeout(e,400));let t=Z.findIndex(t=>t.id===e);if(-1===t)throw Error("Slot not found");return Z[t]={...Z[t],isBlackout:!Z[t].isBlackout,status:Z[t].isBlackout?"available":"blocked",updatedAt:new Date().toISOString()},Z[t]}};var P=s(40690),M=s(49969);M.KmV(["available","booked","blocked","maintenance"]);let B=M.Ryn({listingId:M.Z_8().min(1,"Listing is required"),date:M.hTZ(),startTime:M.Z_8().min(1,"Start time is required"),endTime:M.Z_8().min(1,"End time is required"),capacity:M.Rxh().min(1,"Capacity must be at least 1"),location:M.Z_8().optional(),room:M.Z_8().optional(),table:M.Z_8().optional(),isBlackout:M.O72().default(!1),price:M.Rxh().min(0,"Price must be non-negative").optional(),notes:M.Z_8().optional()}),E=B.partial(),O=M.Ryn({listingId:M.Z_8().min(1,"Listing is required"),startDate:M.hTZ(),endDate:M.hTZ(),startTime:M.Z_8().min(1,"Start time is required"),endTime:M.Z_8().min(1,"End time is required"),capacity:M.Rxh().min(1,"Capacity must be at least 1"),daysOfWeek:M.IXX(M.Rxh().min(0).max(6)).default([0,1,2,3,4,5,6]),location:M.Z_8().optional(),room:M.Z_8().optional(),table:M.Z_8().optional(),isBlackout:M.O72().default(!1),price:M.Rxh().min(0,"Price must be non-negative").optional()});var R=s(30361);let _=(0,s(62881).Z)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var z=s(69508),L=s(98091),U=s(62288),V=s(68483);function F({slot:e,isOpen:t,onClose:s,onEdit:i,onDelete:r,onToggleBlackout:n}){let l=Math.round(e.booked/e.capacity*100),d=l>=80?"text-red-600":l>=60?"text-yellow-600":"text-green-600";return a.jsx(U.Vq,{open:t,onOpenChange:s,children:(0,a.jsxs)(U.cZ,{className:"max-w-2xl",children:[a.jsx(U.fK,{children:(0,a.jsxs)(U.$N,{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Slot Details"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(S.C,{className:{available:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",booked:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",blocked:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",maintenance:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}[e.status]||"bg-gray-100 text-gray-800",children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),e.isBlackout&&a.jsx(S.C,{variant:"destructive",children:"Blacked Out"})]})]})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[a.jsx(h.Z,{className:"h-4 w-4"}),"Basic Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border rounded-lg",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Listing"}),a.jsx("div",{className:"font-medium",children:e.listingTitle})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Date"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(h.Z,{className:"h-4 w-4"}),a.jsx("span",{children:(0,w.WU)(new Date(e.date),"EEEE, MMMM dd, yyyy")})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Time"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(u.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:[e.startTime," - ",e.endTime]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Capacity"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(x.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{className:`font-medium ${d}`,children:[e.booked,"/",e.capacity]}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:["(",l,"% full)"]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Available"}),(0,a.jsxs)("div",{className:"font-medium text-green-600",children:[e.available," spots"]})]}),e.price&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Price"}),(0,a.jsxs)("div",{className:"font-medium",children:["$",e.price]})]})]})]})]}),(e.location||e.room||e.table)&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[a.jsx(p.Z,{className:"h-4 w-4"}),"Location Details"]}),a.jsx("div",{className:"p-4 border rounded-lg",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.location&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Location"}),a.jsx("div",{className:"font-medium",children:e.location})]}),e.room&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Room"}),a.jsx("div",{className:"font-medium",children:e.room})]}),e.table&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Table"}),a.jsx("div",{className:"font-medium",children:e.table})]})]})})]}),e.notes&&(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold",children:"Notes"}),a.jsx("div",{className:"p-4 border rounded-lg bg-muted/50",children:a.jsx("p",{className:"text-sm",children:e.notes})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold",children:"Timestamps"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border rounded-lg",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),a.jsx("div",{className:"text-sm",children:(0,w.WU)(new Date(e.createdAt),"MMM dd, yyyy 'at' h:mm a")})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),a.jsx("div",{className:"text-sm",children:(0,w.WU)(new Date(e.updatedAt),"MMM dd, yyyy 'at' h:mm a")})]})]})]}),a.jsx(V.Z,{}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex gap-2",children:a.jsx(T.z,{variant:"outline",onClick:()=>n(e.id),className:e.isBlackout?"text-green-600":"text-red-600",children:e.isBlackout?(0,a.jsxs)(a.Fragment,{children:[a.jsx(R.Z,{className:"mr-2 h-4 w-4"}),"Remove Blackout"]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(_,{className:"mr-2 h-4 w-4"}),"Blackout"]})})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(T.z,{variant:"outline",onClick:()=>i(e),children:[a.jsx(z.Z,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,a.jsxs)(T.z,{variant:"destructive",onClick:()=>r(e.id),children:[a.jsx(L.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})]})})}function q(){let[e,t]=(0,i.useState)(new Date),[s,Z]=(0,i.useState)(null),[M,R]=(0,i.useState)(!1),[_,z]=(0,i.useState)(!1),[L,U]=(0,i.useState)(null),[V,q]=(0,i.useState)({listingId:"",view:"month"}),K=(0,r.NL)(),{data:W=[]}=(0,n.a)({queryKey:["availability",e.getFullYear(),e.getMonth()],queryFn:()=>{let t=(0,f.N)(e),s=(0,j.V)(e);return C.getByDateRange(t.toISOString().split("T")[0],s.toISOString().split("T")[0])}}),{data:Y=[]}=(0,n.a)({queryKey:["listings"],queryFn:P.e.getAll}),Q=(0,l.D)({mutationFn:C.create,onSuccess:()=>{K.invalidateQueries({queryKey:["availability"]}),g.Am.success("Slot created successfully"),R(!1)},onError:()=>{g.Am.error("Failed to create slot")}}),H=(0,l.D)({mutationFn:({id:e,data:t})=>C.update(e,t),onSuccess:()=>{K.invalidateQueries({queryKey:["availability"]}),g.Am.success("Slot updated successfully"),U(null)},onError:()=>{g.Am.error("Failed to update slot")}}),$=(0,l.D)({mutationFn:C.delete,onSuccess:()=>{K.invalidateQueries({queryKey:["availability"]}),g.Am.success("Slot deleted successfully"),Z(null)},onError:()=>{g.Am.error("Failed to delete slot")}}),G=(0,l.D)({mutationFn:C.bulkCreate,onSuccess:()=>{K.invalidateQueries({queryKey:["availability"]}),g.Am.success("Slots created successfully"),z(!1)},onError:()=>{g.Am.error("Failed to create slots")}}),J=(0,l.D)({mutationFn:C.toggleBlackout,onSuccess:()=>{K.invalidateQueries({queryKey:["availability"]}),g.Am.success("Blackout status updated")},onError:()=>{g.Am.error("Failed to update blackout status")}}),X=V.listingId?W.filter(e=>e.listingId===V.listingId):W,ee=(0,f.N)(e),et=(0,j.V)(e),es=(0,v.D)({start:ee,end:et}),ea=e=>X.filter(t=>(0,b.K)(new Date(t.date),e)),ei=e=>{t(t=>"next"===e?(0,y.z)(t,1):(0,N.W)(t,1))};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Availability & Inventory"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your availability calendar and inventory slots"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(T.z,{variant:"outline",onClick:()=>z(!0),children:[a.jsx(d.Z,{className:"mr-2 h-4 w-4"}),"Bulk Create"]}),(0,a.jsxs)(T.z,{onClick:()=>R(!0),children:[a.jsx(o.Z,{className:"mr-2 h-4 w-4"}),"Add Slot"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 p-4 border rounded-lg bg-muted/50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(c.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Filters:"})]}),(0,a.jsxs)(I.Ph,{value:V.listingId,onValueChange:e=>q(t=>({...t,listingId:e})),children:[a.jsx(I.i4,{className:"w-48",children:a.jsx(I.ki,{placeholder:"All Listings"})}),(0,a.jsxs)(I.Bw,{children:[a.jsx(I.Ql,{value:"all",children:"All Listings"}),Y.map(e=>a.jsx(I.Ql,{value:e.id,children:e.title},e.id))]})]}),(0,a.jsxs)(I.Ph,{value:V.view,onValueChange:e=>q(t=>({...t,view:e})),children:[a.jsx(I.i4,{className:"w-32",children:a.jsx(I.ki,{})}),(0,a.jsxs)(I.Bw,{children:[a.jsx(I.Ql,{value:"month",children:"Month"}),a.jsx(I.Ql,{value:"week",children:"Week"})]})]}),a.jsx(T.z,{variant:"outline",size:"sm",onClick:()=>q({listingId:"",view:"month"}),children:"Clear Filters"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx(T.z,{variant:"outline",onClick:()=>ei("prev"),children:"← Previous"}),a.jsx("h2",{className:"text-xl font-semibold",children:(0,w.WU)(e,"MMMM yyyy")}),a.jsx(T.z,{variant:"outline",onClick:()=>ei("next"),children:"Next →"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(T.z,{variant:"outline",size:"sm",children:[a.jsx(m.Z,{className:"mr-2 h-4 w-4"}),"Export iCal"]}),(0,a.jsxs)(T.z,{variant:"outline",size:"sm",children:[a.jsx(d.Z,{className:"mr-2 h-4 w-4"}),"Import iCal"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-7 gap-1 border rounded-lg",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>a.jsx("div",{className:"p-2 text-center font-medium text-sm bg-muted",children:e},e)),es.map(t=>{let s=ea(t),i=(0,b.K)(t,new Date),r=t.getMonth()===e.getMonth();return(0,a.jsxs)("div",{className:`min-h-[120px] p-2 border ${r?"bg-background":"bg-muted/50"} ${i?"ring-2 ring-primary":""}`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:`text-sm font-medium ${r?"text-foreground":"text-muted-foreground"}`,children:(0,w.WU)(t,"d")}),s.length>0&&a.jsx(S.C,{variant:"secondary",className:"text-xs",children:s.length})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[s.slice(0,3).map(e=>(0,a.jsxs)("div",{className:`p-1 rounded text-xs cursor-pointer ${e.isBlackout?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300":"booked"===e.status?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300"}`,onClick:()=>Z(e),children:[a.jsx("div",{className:"font-medium truncate",children:e.listingTitle}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(u.Z,{className:"h-3 w-3"}),e.startTime]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(x.Z,{className:"h-3 w-3"}),e.booked,"/",e.capacity]})]},e.id)),s.length>3&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["+",s.length-3," more"]})]})]},t.toISOString())})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)(A.Zb,{children:[(0,a.jsxs)(A.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(A.ll,{className:"text-sm font-medium",children:"Total Slots"}),a.jsx(h.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(A.aY,{children:[a.jsx("div",{className:"text-2xl font-bold",children:X.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"})]})]}),(0,a.jsxs)(A.Zb,{children:[(0,a.jsxs)(A.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(A.ll,{className:"text-sm font-medium",children:"Available"}),a.jsx(x.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(A.aY,{children:[a.jsx("div",{className:"text-2xl font-bold",children:X.filter(e=>"available"===e.status).length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Open slots"})]})]}),(0,a.jsxs)(A.Zb,{children:[(0,a.jsxs)(A.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(A.ll,{className:"text-sm font-medium",children:"Booked"}),a.jsx(u.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(A.aY,{children:[a.jsx("div",{className:"text-2xl font-bold",children:X.filter(e=>"booked"===e.status).length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Reserved slots"})]})]}),(0,a.jsxs)(A.Zb,{children:[(0,a.jsxs)(A.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(A.ll,{className:"text-sm font-medium",children:"Blacked Out"}),a.jsx(p.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(A.aY,{children:[a.jsx("div",{className:"text-2xl font-bold",children:X.filter(e=>e.isBlackout).length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Unavailable slots"})]})]})]}),s&&a.jsx(F,{slot:s,isOpen:!!s,onClose:()=>Z(null),onEdit:U,onDelete:e=>{confirm("Are you sure you want to delete this slot?")&&$.mutate(e)},onToggleBlackout:e=>{J.mutate(e)}}),a.jsx(D.aN,{isOpen:M,onClose:()=>R(!1),title:"Create New Slot",description:"Add a new availability slot",schema:B,onSubmit:e=>{Q.mutate(e)},isLoading:Q.isPending,children:e=>(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Listing"}),(0,a.jsxs)(I.Ph,{onValueChange:t=>e.setValue("listingId",t),children:[a.jsx(I.i4,{children:a.jsx(I.ki,{placeholder:"Select listing"})}),a.jsx(I.Bw,{children:Y.map(e=>a.jsx(I.Ql,{value:e.id,children:e.title},e.id))})]}),e.formState.errors.listingId&&a.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.listingId.message})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Date"}),a.jsx(k.I,{...e.register("date",{valueAsDate:!0}),type:"date"}),e.formState.errors.date&&a.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.date.message})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Start Time"}),a.jsx(k.I,{...e.register("startTime"),type:"time"}),e.formState.errors.startTime&&a.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.startTime.message})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"End Time"}),a.jsx(k.I,{...e.register("endTime"),type:"time"}),e.formState.errors.endTime&&a.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.endTime.message})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Capacity"}),a.jsx(k.I,{...e.register("capacity",{valueAsNumber:!0}),type:"number",min:"1"}),e.formState.errors.capacity&&a.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.capacity.message})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Price (Optional)"}),a.jsx(k.I,{...e.register("price",{valueAsNumber:!0}),type:"number",step:"0.01",min:"0"}),e.formState.errors.price&&a.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.price.message})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Location"}),a.jsx(k.I,{...e.register("location"),placeholder:"e.g., Main Hall"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Room"}),a.jsx(k.I,{...e.register("room"),placeholder:"e.g., Room A"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Table"}),a.jsx(k.I,{...e.register("table"),placeholder:"e.g., Table 1"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Notes"}),a.jsx("textarea",{...e.register("notes"),className:"w-full p-2 border rounded-md",rows:3,placeholder:"Additional notes..."})]})]})}),a.jsx(D.aN,{isOpen:_,onClose:()=>z(!1),title:"Bulk Create Slots",description:"Create multiple slots for a date range",schema:O,onSubmit:e=>{G.mutate(e)},isLoading:G.isPending,children:e=>(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Listing"}),(0,a.jsxs)(I.Ph,{onValueChange:t=>e.setValue("listingId",t),children:[a.jsx(I.i4,{children:a.jsx(I.ki,{placeholder:"Select listing"})}),a.jsx(I.Bw,{children:Y.map(e=>a.jsx(I.Ql,{value:e.id,children:e.title},e.id))})]}),e.formState.errors.listingId&&a.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.listingId.message})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Start Date"}),a.jsx(k.I,{...e.register("startDate",{valueAsDate:!0}),type:"date"}),e.formState.errors.startDate&&a.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.startDate.message})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"End Date"}),a.jsx(k.I,{...e.register("endDate",{valueAsDate:!0}),type:"date"}),e.formState.errors.endDate&&a.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.endDate.message})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Start Time"}),a.jsx(k.I,{...e.register("startTime"),type:"time"}),e.formState.errors.startTime&&a.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.startTime.message})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"End Time"}),a.jsx(k.I,{...e.register("endTime"),type:"time"}),e.formState.errors.endTime&&a.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.endTime.message})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Capacity"}),a.jsx(k.I,{...e.register("capacity",{valueAsNumber:!0}),type:"number",min:"1"}),e.formState.errors.capacity&&a.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.capacity.message})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Days of Week"}),a.jsx("div",{className:"grid grid-cols-7 gap-2 mt-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((t,s)=>(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",defaultChecked:!0,onChange:t=>{let a=e.getValues("daysOfWeek")||[0,1,2,3,4,5,6];t.target.checked?e.setValue("daysOfWeek",[...a,s]):e.setValue("daysOfWeek",a.filter(e=>e!==s))}}),a.jsx("span",{className:"text-sm",children:t})]},t))})]})]})}),L&&a.jsx(D.aN,{isOpen:!!L,onClose:()=>U(null),title:"Edit Slot",description:"Update slot information",schema:E,defaultValues:{...L,date:new Date(L.date)},onSubmit:e=>{L&&H.mutate({id:L.id,data:e})},isLoading:H.isPending,children:e=>(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Date"}),a.jsx(k.I,{...e.register("date",{valueAsDate:!0}),type:"date"}),e.formState.errors.date&&a.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.date.message})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Start Time"}),a.jsx(k.I,{...e.register("startTime"),type:"time"}),e.formState.errors.startTime&&a.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.startTime.message})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"End Time"}),a.jsx(k.I,{...e.register("endTime"),type:"time"}),e.formState.errors.endTime&&a.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.endTime.message})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Capacity"}),a.jsx(k.I,{...e.register("capacity",{valueAsNumber:!0}),type:"number",min:"1"}),e.formState.errors.capacity&&a.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.capacity.message})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Price (Optional)"}),a.jsx(k.I,{...e.register("price",{valueAsNumber:!0}),type:"number",step:"0.01",min:"0"}),e.formState.errors.price&&a.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.price.message})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Location"}),a.jsx(k.I,{...e.register("location"),placeholder:"e.g., Main Hall"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Room"}),a.jsx(k.I,{...e.register("room"),placeholder:"e.g., Room A"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Table"}),a.jsx(k.I,{...e.register("table"),placeholder:"e.g., Table 1"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Notes"}),a.jsx("textarea",{...e.register("notes"),className:"w-full p-2 border rounded-md",rows:3,placeholder:"Additional notes..."})]})]})})]})}},62288:(e,t,s)=>{"use strict";s.d(t,{$N:()=>h,Be:()=>p,Vq:()=>l,cN:()=>x,cZ:()=>m,fK:()=>u,hg:()=>d});var a=s(10326);s(17577);var i=s(98958),r=s(94019),n=s(77863);function l({...e}){return a.jsx(i.fC,{"data-slot":"dialog",...e})}function d({...e}){return a.jsx(i.xz,{"data-slot":"dialog-trigger",...e})}function o({...e}){return a.jsx(i.h_,{"data-slot":"dialog-portal",...e})}function c({className:e,...t}){return a.jsx(i.aV,{"data-slot":"dialog-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function m({className:e,children:t,showCloseButton:s=!0,...l}){return(0,a.jsxs)(o,{"data-slot":"dialog-portal",children:[a.jsx(c,{}),(0,a.jsxs)(i.VY,{"data-slot":"dialog-content",className:(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...l,children:[t,s&&(0,a.jsxs)(i.x8,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(r.Z,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function u({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-header",className:(0,n.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function x({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-footer",className:(0,n.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function h({className:e,...t}){return a.jsx(i.Dx,{"data-slot":"dialog-title",className:(0,n.cn)("text-lg leading-none font-semibold",e),...t})}function p({className:e,...t}){return a.jsx(i.dk,{"data-slot":"dialog-description",className:(0,n.cn)("text-muted-foreground text-sm",e),...t})}},31048:(e,t,s)=>{"use strict";s.d(t,{_:()=>o});var a=s(10326),i=s(17577),r=s(34478),n=s(79360),l=s(77863);let d=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=i.forwardRef(({className:e,...t},s)=>a.jsx(r.f,{ref:s,className:(0,l.cn)(d(),e),...t}));o.displayName=r.f.displayName},34474:(e,t,s)=>{"use strict";s.d(t,{Bw:()=>u,Ph:()=>o,Ql:()=>x,i4:()=>m,ki:()=>c});var a=s(10326);s(17577);var i=s(44875),r=s(941),n=s(32933),l=s(96633),d=s(77863);function o({...e}){return a.jsx(i.fC,{"data-slot":"select",...e})}function c({...e}){return a.jsx(i.B4,{"data-slot":"select-value",...e})}function m({className:e,size:t="default",children:s,...n}){return(0,a.jsxs)(i.xz,{"data-slot":"select-trigger","data-size":t,className:(0,d.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[s,a.jsx(i.JO,{asChild:!0,children:a.jsx(r.Z,{className:"size-4 opacity-50"})})]})}function u({className:e,children:t,position:s="popper",...r}){return a.jsx(i.h_,{children:(0,a.jsxs)(i.VY,{"data-slot":"select-content",className:(0,d.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[a.jsx(h,{}),a.jsx(i.l_,{className:(0,d.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),a.jsx(p,{})]})})}function x({className:e,children:t,...s}){return(0,a.jsxs)(i.ck,{"data-slot":"select-item",className:(0,d.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...s,children:[a.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:a.jsx(i.wU,{children:a.jsx(n.Z,{className:"size-4"})})}),a.jsx(i.eT,{children:t})]})}function h({className:e,...t}){return a.jsx(i.u_,{"data-slot":"select-scroll-up-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(l.Z,{className:"size-4"})})}function p({className:e,...t}){return a.jsx(i.$G,{"data-slot":"select-scroll-down-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(r.Z,{className:"size-4"})})}},68483:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var a=s(10326),i=s(17577),r=s(45226),n="horizontal",l=["horizontal","vertical"],d=i.forwardRef((e,t)=>{let{decorative:s,orientation:i=n,...d}=e,o=l.includes(i)?i:n;return(0,a.jsx)(r.WV.div,{"data-orientation":o,...s?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...d,ref:t})});d.displayName="Separator";var o=s(77863);let c=i.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...i},r)=>a.jsx(d,{ref:r,decorative:s,orientation:t,className:(0,o.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...i}));c.displayName=d.displayName},87673:(e,t,s)=>{"use strict";s.d(t,{g:()=>n});var a=s(10326),i=s(17577),r=s(77863);let n=i.forwardRef(({className:e,...t},s)=>a.jsx("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));n.displayName="Textarea"},40690:(e,t,s)=>{"use strict";s.d(t,{e:()=>i});let a=[{id:"1",businessId:"business-1",title:"Sunset Yoga Retreat",slug:"sunset-yoga-retreat",type:"RETREAT",status:"PUBLISHED",category:"Wellness",locationCity:"Bali",locationCountry:"Indonesia",capacity:20,priceFrom:29900,currency:"USD",seoMeta:"Transform your mind and body with our sunset yoga retreat in beautiful Bali",description:"Join us for a transformative 3-day yoga retreat overlooking the stunning Balinese sunset. Perfect for beginners and experienced practitioners alike.",photos:["/images/yoga-retreat-1.jpg","/images/yoga-retreat-2.jpg"],details:{kind:"RETREAT",startDate:"2024-02-15T09:00:00Z",endDate:"2024-02-17T17:00:00Z",packagePrice:29900,includes:["Accommodation","All meals","Yoga sessions","Meditation","Nature walks"]},createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-20T14:30:00Z"},{id:"2",businessId:"business-1",title:"Farm-to-Table Cooking Class",slug:"farm-to-table-cooking",type:"ACTIVITY",status:"PUBLISHED",category:"Culinary",locationCity:"Napa Valley",locationCountry:"USA",capacity:12,priceFrom:15e3,currency:"USD",seoMeta:"Learn to cook with fresh, local ingredients in our hands-on cooking class",description:"Experience the joy of cooking with the freshest ingredients from local farms. Learn traditional techniques and modern twists.",photos:["/images/cooking-class-1.jpg"],details:{kind:"ACTIVITY",schedule:[{date:"2024-02-20T10:00:00Z",durationMin:180}],pricePerPerson:15e3,skillLevel:"BEGINNER",equipmentProvided:!0,meetPoint:"Napa Valley Culinary Institute"},createdAt:"2024-01-10T09:00:00Z",updatedAt:"2024-01-18T16:45:00Z"},{id:"3",businessId:"business-1",title:"Luxury Beach Villa",slug:"luxury-beach-villa",type:"PROPERTY",status:"PUBLISHED",category:"Accommodation",locationCity:"Malibu",locationCountry:"USA",capacity:8,priceFrom:8e4,currency:"USD",seoMeta:"Stunning beachfront villa with panoramic ocean views and luxury amenities",description:"Escape to our exclusive beachfront villa featuring panoramic ocean views, private beach access, and world-class amenities.",photos:["/images/villa-1.jpg","/images/villa-2.jpg","/images/villa-3.jpg"],details:{kind:"PROPERTY",rentalType:"NIGHTLY",rate:8e4,cleaningFee:5e3,securityDeposit:2e4,bedrooms:4,baths:3,amenities:["WiFi","Kitchen","Parking","Pool","Beach Access"],address:"123 Ocean Drive, Malibu, CA 90265"},createdAt:"2024-01-05T11:00:00Z",updatedAt:"2024-01-22T13:20:00Z"},{id:"4",businessId:"business-1",title:"Wine Tasting Experience",slug:"wine-tasting-experience",type:"EVENT",status:"DRAFT",category:"Entertainment",locationCity:"Sonoma",locationCountry:"USA",capacity:15,priceFrom:7500,currency:"USD",seoMeta:"Discover exceptional wines with expert sommeliers in beautiful Sonoma",description:"Join our expert sommeliers for an intimate wine tasting experience featuring rare vintages and local favorites.",photos:["/images/wine-tasting-1.jpg"],details:{kind:"EVENT",start:"2024-03-01T18:00:00Z",end:"2024-03-01T21:00:00Z",venue:{name:"Sonoma Wine Cellar",address:"456 Vineyard Road, Sonoma, CA 95476"},tickets:[{name:"General Admission",price:7500,qty:15}]},createdAt:"2024-01-25T15:00:00Z",updatedAt:"2024-01-25T15:00:00Z"},{id:"5",businessId:"business-1",title:"Fine Dining Restaurant",slug:"fine-dining-restaurant",type:"RESTAURANT",status:"PUBLISHED",category:"Dining",locationCity:"San Francisco",locationCountry:"USA",capacity:60,priceFrom:12e3,currency:"USD",seoMeta:"Award-winning fine dining with innovative cuisine and exceptional service",description:"Experience culinary excellence at our Michelin-starred restaurant featuring innovative cuisine and exceptional service.",photos:["/images/restaurant-1.jpg","/images/restaurant-2.jpg"],details:{kind:"RESTAURANT",menuUrl:"https://example.com/menu",reservationUrl:"https://opentable.com/restaurant",cuisines:["French","Contemporary","Fine Dining"]},createdAt:"2024-01-12T12:00:00Z",updatedAt:"2024-01-19T10:15:00Z"}],i={getAll:async()=>(await new Promise(e=>setTimeout(e,500)),[...a]),getById:async e=>(await new Promise(e=>setTimeout(e,300)),a.find(t=>t.id===e)||null),async create(e){await new Promise(e=>setTimeout(e,800));let t={id:(a.length+1).toString(),businessId:"business-1",...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return a.push(t),t},async update(e,t){await new Promise(e=>setTimeout(e,600));let s=a.findIndex(t=>t.id===e);if(-1===s)throw Error("Listing not found");return a[s]={...a[s],...t,updatedAt:new Date().toISOString()},a[s]},async delete(e){await new Promise(e=>setTimeout(e,400));let t=a.findIndex(t=>t.id===e);if(-1===t)throw Error("Listing not found");a.splice(t,1)},async archive(e){await new Promise(e=>setTimeout(e,400));let t=a.findIndex(t=>t.id===e);if(-1===t)throw Error("Listing not found");return a[t]={...a[t],status:"ARCHIVED",updatedAt:new Date().toISOString()},a[t]}}},31540:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},69561:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},63685:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},74851:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`/Users/kumar/Business admin/tripfluence-admin/app/(admin)/availability/page.tsx#default`)},10119:(e,t,s)=>{"use strict";s.d(t,{D:()=>c});var a=s(17577),i=s(71180),r=s(12113),n=s(64351),l=s(3341),d=class extends n.l{#e;#t=void 0;#s;#a;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,l.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,l.Ym)(t.mutationKey)!==(0,l.Ym)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#r(e)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#i(),this.#r()}mutate(e,t){return this.#a=t,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(e)}#i(){let e=this.#s?.state??(0,i.R)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#r(e){r.Vr.batch(()=>{if(this.#a&&this.hasListeners()){let t=this.#t.variables,s=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#a.onSuccess?.(e.data,t,s,a),this.#a.onSettled?.(e.data,null,t,s,a)):e?.type==="error"&&(this.#a.onError?.(e.error,t,s,a),this.#a.onSettled?.(void 0,e.error,t,s,a))}this.listeners.forEach(e=>{e(this.#t)})})}},o=s(44976);function c(e,t){let s=(0,o.NL)(t),[i]=a.useState(()=>new d(s,e));a.useEffect(()=>{i.setOptions(e)},[i,e]);let n=a.useSyncExternalStore(a.useCallback(e=>i.subscribe(r.Vr.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),c=a.useCallback((e,t)=>{i.mutate(e,t).catch(l.ZT)},[i]);if(n.error&&(0,l.L3)(i.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:c,mutateAsync:n.mutate}}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[8948,1365,354,6582,5403,260,1468,1724,2880,5079,1427,8192],()=>s(59633));module.exports=a})();