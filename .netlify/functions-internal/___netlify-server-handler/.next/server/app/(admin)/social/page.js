(()=>{var e={};e.id=1140,e.ids=[1140],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},70922:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c}),t(39744),t(75275),t(35866),t(11506);var a=t(23191),l=t(88716),i=t(37922),n=t.n(i),r=t(95231),o={};for(let e in r)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>r[e]);t.d(s,o);let c=["",{children:["(admin)",{children:["social",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,39744)),"/Users/kumar/Business admin/tripfluence-admin/app/(admin)/social/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,75275)),"/Users/kumar/Business admin/tripfluence-admin/app/(admin)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,11506)),"/Users/kumar/Business admin/tripfluence-admin/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/kumar/Business admin/tripfluence-admin/app/(admin)/social/page.tsx"],m="/(admin)/social/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/(admin)/social/page",pathname:"/social",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},85030:(e,s,t)=>{Promise.resolve().then(t.bind(t,70691))},70691:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>ee});var a=t(10326),l=t(17577),i=t(44976),n=t(20108),r=t(10119),o=t(88378),c=t(83855),d=t(34738),m=t(71806),u=t(40617),x=t(76993),h=t(26754),p=t(37358),g=t(85999),f=t(85065),j=t(78306),b=t(60243),y=t(78432),N=t(99068),v=t(9663),k=t(45079),w=t(90772),C=t(54432),Z=t(567),A=t(33071),P=t(34474),S=t(82089),T=t(11585);let D=[{id:"1",platform:"instagram",accountName:"Tripfluence Official",accountHandle:"@tripfluence",profileImage:"/images/instagram-profile.jpg",isConnected:!0,lastSyncAt:"2024-01-25T10:00:00Z",createdAt:"2024-01-01T00:00:00Z"},{id:"2",platform:"facebook",accountName:"Tripfluence",accountHandle:"TripfluenceOfficial",profileImage:"/images/facebook-profile.jpg",isConnected:!0,lastSyncAt:"2024-01-25T09:30:00Z",createdAt:"2024-01-01T00:00:00Z"},{id:"3",platform:"tiktok",accountName:"Tripfluence",accountHandle:"@tripfluence",isConnected:!1,createdAt:"2024-01-01T00:00:00Z"}],I=[{id:"1",content:"\uD83C\uDF05 Experience the magic of sunrise yoga in Bali! Our retreat combines ancient practices with modern luxury. Book your spot today! #YogaRetreat #Bali #Wellness #Mindfulness",media:["/images/yoga-sunrise.jpg","/images/retreat-center.jpg"],hashtags:["#YogaRetreat","#Bali","#Wellness","#Mindfulness"],links:["https://tripfluence.com/retreats/bali-yoga"],platforms:["instagram","facebook"],status:"published",publishedAt:"2024-01-24T08:00:00Z",analytics:{impressions:12500,clicks:234,likes:456,shares:89,comments:67,bookings:12,revenue:3600},createdAt:"2024-01-23T15:00:00Z",updatedAt:"2024-01-24T08:00:00Z"},{id:"2",content:"\uD83C\uDF7D️ Tonight's special: Farm-to-table dining experience with locally sourced ingredients. Reserve your table now! #FineDining #FarmToTable #LocalFood #CulinaryExperience",media:["/images/farm-to-table.jpg"],hashtags:["#FineDining","#FarmToTable","#LocalFood","#CulinaryExperience"],links:["https://tripfluence.com/restaurants/farm-to-table"],platforms:["instagram","facebook","tiktok"],status:"scheduled",scheduledAt:"2024-01-26T19:00:00Z",analytics:{impressions:0,clicks:0,likes:0,shares:0,comments:0,bookings:0,revenue:0},createdAt:"2024-01-25T14:00:00Z",updatedAt:"2024-01-25T14:00:00Z"},{id:"3",content:"\uD83C\uDFD6️ Luxury beach villa with panoramic ocean views. Perfect for your next getaway! #LuxuryTravel #BeachVilla #VacationRental #OceanViews",media:["/images/beach-villa-1.jpg","/images/beach-villa-2.jpg","/images/beach-villa-3.jpg"],hashtags:["#LuxuryTravel","#BeachVilla","#VacationRental","#OceanViews"],links:["https://tripfluence.com/properties/luxury-beach-villa"],platforms:["instagram"],status:"published",publishedAt:"2024-01-22T16:00:00Z",analytics:{impressions:8900,clicks:156,likes:234,shares:45,comments:23,bookings:3,revenue:2400},createdAt:"2024-01-22T10:00:00Z",updatedAt:"2024-01-22T16:00:00Z"},{id:"4",content:"\uD83C\uDFA8 Join our pottery workshop this weekend! Learn traditional techniques from master artisans. Limited spots available. #PotteryWorkshop #ArtisanCraft #WeekendActivity #CreativeLearning",media:["/images/pottery-workshop.jpg"],hashtags:["#PotteryWorkshop","#ArtisanCraft","#WeekendActivity","#CreativeLearning"],platforms:["facebook","instagram"],status:"draft",analytics:{impressions:0,clicks:0,likes:0,shares:0,comments:0,bookings:0,revenue:0},createdAt:"2024-01-25T11:00:00Z",updatedAt:"2024-01-25T11:00:00Z"}],F={getAccounts:async()=>(await new Promise(e=>setTimeout(e,500)),[...D]),async connectAccount(e){await new Promise(e=>setTimeout(e,800));let s={id:(D.length+1).toString(),accountHandle:`@${e.accountName.toLowerCase()}`,isConnected:!0,lastSyncAt:new Date().toISOString(),createdAt:new Date().toISOString(),...e};return D.push(s),s},async disconnectAccount(e){await new Promise(e=>setTimeout(e,400));let s=D.findIndex(s=>s.id===e);if(-1===s)throw Error("Account not found");D[s].isConnected=!1},getAllPosts:async()=>(await new Promise(e=>setTimeout(e,500)),[...I]),getPostById:async e=>(await new Promise(e=>setTimeout(e,300)),I.find(s=>s.id===e)||null),async createPost(e){await new Promise(e=>setTimeout(e,800));let s={id:(I.length+1).toString(),status:e.isPublished?"published":e.scheduledAt?"scheduled":"draft",publishedAt:e.isPublished?new Date().toISOString():void 0,analytics:{impressions:0,clicks:0,likes:0,shares:0,comments:0,bookings:0,revenue:0},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...e};return I.push(s),s},async updatePost(e,s){await new Promise(e=>setTimeout(e,600));let t=I.findIndex(s=>s.id===e);if(-1===t)throw Error("Post not found");return I[t]={...I[t],...s,updatedAt:new Date().toISOString()},I[t]},async deletePost(e){await new Promise(e=>setTimeout(e,400));let s=I.findIndex(s=>s.id===e);if(-1===s)throw Error("Post not found");I.splice(s,1)},async publishPost(e){await new Promise(e=>setTimeout(e,600));let s=I.findIndex(s=>s.id===e);if(-1===s)throw Error("Post not found");return I[s]={...I[s],status:"published",publishedAt:new Date().toISOString(),updatedAt:new Date().toISOString()},I[s]},async schedulePost(e,s){await new Promise(e=>setTimeout(e,600));let t=I.findIndex(s=>s.id===e);if(-1===t)throw Error("Post not found");return I[t]={...I[t],status:"scheduled",scheduledAt:s,updatedAt:new Date().toISOString()},I[t]},async getAnalyticsSummary(){await new Promise(e=>setTimeout(e,400));let e=I.filter(e=>"published"===e.status),s=e.reduce((e,s)=>e+s.analytics.impressions,0),t=e.reduce((e,s)=>e+s.analytics.clicks,0),a=e.reduce((e,s)=>e+s.analytics.likes,0),l=e.reduce((e,s)=>e+s.analytics.shares,0),i=e.reduce((e,s)=>e+s.analytics.comments,0),n=e.reduce((e,s)=>e+s.analytics.bookings,0),r=e.reduce((e,s)=>e+s.analytics.revenue,0);return{totalPosts:e.length,totalImpressions:s,totalClicks:t,totalLikes:a,totalShares:l,totalComments:i,totalBookings:n,totalRevenue:r,engagementRate:Math.round(100*(s>0?(a+l+i)/s*100:0))/100,conversionRate:Math.round(100*(t>0?n/t*100:0))/100}},async getPostsByDateRange(e,s){await new Promise(e=>setTimeout(e,400));let t=new Date(e),a=new Date(s);return I.filter(e=>{let s=new Date(e.createdAt);return s>=t&&s<=a})}};var _=t(49969);let O=_.KmV(["facebook","instagram","twitter","linkedin","tiktok","youtube"]),M=_.Ryn({content:_.Z_8().min(1).max(2e3),platforms:_.IXX(O),mediaUrls:_.IXX(_.Z_8().url()).optional(),scheduledAt:_.Z_8().datetime().optional(),isPublished:_.O72().default(!1),tags:_.IXX(_.Z_8()).optional(),hashtags:_.IXX(_.Z_8()).optional()}),V=_.Ryn({content:_.Z_8().min(1).max(2e3).optional(),platforms:_.IXX(O).optional(),mediaUrls:_.IXX(_.Z_8().url()).optional(),scheduledAt:_.Z_8().datetime().optional(),isPublished:_.O72().optional(),tags:_.IXX(_.Z_8()).optional(),hashtags:_.IXX(_.Z_8()).optional()}),q=_.Ryn({platform:O,accountId:_.Z_8().min(1),accountName:_.Z_8().min(1).max(100),accessToken:_.Z_8().min(1),refreshToken:_.Z_8().optional(),expiresAt:_.Z_8().datetime().optional(),isActive:_.O72().default(!0)});_.Ryn({accountName:_.Z_8().min(1).max(100).optional(),accessToken:_.Z_8().min(1).optional(),refreshToken:_.Z_8().optional(),expiresAt:_.Z_8().datetime().optional(),isActive:_.O72().optional()}),_.Ryn({platform:O.optional(),dateRange:_.Ryn({from:_.Z_8().datetime(),to:_.Z_8().datetime()}),metrics:_.IXX(_.KmV(["likes","shares","comments","clicks","impressions","reach"])).optional()}),_.Ryn({platforms:_.IXX(O).optional(),isPublished:_.O72().optional(),scheduledAt:_.Ryn({from:_.Z_8().datetime().optional(),to:_.Z_8().datetime().optional()}).optional(),tags:_.IXX(_.Z_8()).optional(),page:_.Rxh().int().positive().default(1),limit:_.Rxh().int().positive().max(100).default(20)}),_.Ryn({platform:O.optional(),isActive:_.O72().optional(),page:_.Rxh().int().positive().default(1),limit:_.Rxh().int().positive().max(100).default(20)});var R=t(12969),X=t(15919),B=t(69508),E=t(69436),K=t(98091),z=t(60097);let L=({onEdit:e,onDelete:s,onPublish:t})=>[{accessorKey:"content",header:({column:e})=>(0,a.jsxs)(w.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Content",a.jsx(R.Z,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{let s=e.getValue("content"),t=e.original.hashtags;return(0,a.jsxs)("div",{className:"space-y-1 max-w-[300px]",children:[a.jsx("div",{className:"text-sm truncate",children:s}),t&&t.length>0&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[t.slice(0,3).map(e=>a.jsx(Z.C,{variant:"outline",className:"text-xs",children:e},e)),t.length>3&&(0,a.jsxs)(Z.C,{variant:"outline",className:"text-xs",children:["+",t.length-3]})]})]})}},{accessorKey:"platforms",header:"Platforms",cell:({row:e})=>{let s=e.getValue("platforms");return a.jsx("div",{className:"flex items-center gap-1",children:s.map(e=>{let s={instagram:a.jsx(d.Z,{className:"h-4 w-4 text-pink-600"}),facebook:a.jsx(m.Z,{className:"h-4 w-4 text-blue-600"}),tiktok:a.jsx(u.Z,{className:"h-4 w-4 text-black"}),google_business:a.jsx(x.Z,{className:"h-4 w-4 text-green-600"})};return a.jsx("div",{title:e,children:s[e]},e)})})}},{accessorKey:"status",header:"Status",cell:({row:e})=>{let s=e.getValue("status");return a.jsx(Z.C,{className:{draft:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300",scheduled:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",published:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",failed:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"}[s]||"bg-gray-100 text-gray-800",children:s.charAt(0).toUpperCase()+s.slice(1)})}},{accessorKey:"scheduledAt",header:({column:e})=>(0,a.jsxs)(w.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Scheduled",a.jsx(R.Z,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{let s=e.getValue("scheduledAt"),t=e.original.publishedAt,l=s||t;return l?(0,a.jsxs)("div",{className:"text-sm",children:[(0,k.WU)(new Date(l),"MMM dd, yyyy"),a.jsx("div",{className:"text-xs text-muted-foreground",children:(0,k.WU)(new Date(l),"h:mm a")})]}):a.jsx("span",{className:"text-muted-foreground",children:"-"})}},{accessorKey:"analytics",header:"Performance",cell:({row:e})=>{let s=e.getValue("analytics");return(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-sm font-medium",children:s.impressions.toLocaleString()}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[s.clicks," clicks, ",s.likes," likes"]})]})}},{accessorKey:"createdAt",header:({column:e})=>(0,a.jsxs)(w.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Created",a.jsx(R.Z,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{let s=e.getValue("createdAt");return a.jsx("div",{className:"text-sm",children:(0,k.WU)(new Date(s),"MMM dd, yyyy")})}},{id:"actions",enableHiding:!1,cell:({row:l})=>{let i=l.original;return(0,a.jsxs)(z.h_,{children:[a.jsx(z.$F,{asChild:!0,children:(0,a.jsxs)(w.z,{variant:"ghost",className:"h-8 w-8 p-0",children:[a.jsx("span",{className:"sr-only",children:"Open menu"}),a.jsx(X.Z,{className:"h-4 w-4"})]})}),(0,a.jsxs)(z.AW,{align:"end",children:[a.jsx(z.Ju,{children:"Actions"}),a.jsx(z.Xi,{onClick:()=>navigator.clipboard.writeText(i.id),children:"Copy post ID"}),a.jsx(z.VD,{}),(0,a.jsxs)(z.Xi,{onClick:()=>e(i),children:[a.jsx(B.Z,{className:"mr-2 h-4 w-4"}),"Edit"]}),"draft"===i.status&&(0,a.jsxs)(z.Xi,{onClick:()=>t(i.id),children:[a.jsx(E.Z,{className:"mr-2 h-4 w-4"}),"Publish Now"]}),a.jsx(z.VD,{}),(0,a.jsxs)(z.Xi,{onClick:()=>s(i.id),className:"text-red-600",children:[a.jsx(K.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})}}];var G=t(74723),U=t(74064),Q=t(48998),W=t(62288);function $({isOpen:e,onClose:s,onSubmit:t,isLoading:i}){let[n,r]=(0,l.useState)(["instagram"]),[o,c]=(0,l.useState)(!1),h=(0,G.cI)({resolver:(0,U.F)(M),defaultValues:{content:"",media:[],hashtags:[],links:[],platforms:["instagram"],scheduledAt:void 0,isPublished:!1}}),g=e=>{let s=h.getValues("platforms")||[];if(s.includes(e)){let t=s.filter(s=>s!==e);h.setValue("platforms",t),r(t)}else{let t=[...s,e];h.setValue("platforms",t),r(t)}},f=[{id:"instagram",name:"Instagram",icon:d.Z,color:"text-pink-600"},{id:"facebook",name:"Facebook",icon:m.Z,color:"text-blue-600"},{id:"tiktok",name:"TikTok",icon:u.Z,color:"text-black"},{id:"google_business",name:"Google Business",icon:x.Z,color:"text-green-600"}];return a.jsx(W.Vq,{open:e,onOpenChange:s,children:(0,a.jsxs)(W.cZ,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(W.fK,{children:a.jsx(W.$N,{children:"Create Social Media Post"})}),(0,a.jsxs)("form",{onSubmit:h.handleSubmit(e=>{t({...e,platforms:n,isPublished:!o})}),className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-3 block",children:"Select Platforms"}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:f.map(e=>{let s=e.icon,t=n.includes(e.id);return a.jsx(A.Zb,{className:`cursor-pointer transition-colors ${t?"ring-2 ring-primary bg-primary/5":"hover:bg-muted/50"}`,onClick:()=>g(e.id),children:a.jsx(A.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(s,{className:`h-5 w-5 ${e.color}`}),a.jsx("span",{className:"font-medium",children:e.name})]})})},e.id)})}),h.formState.errors.platforms&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.formState.errors.platforms.message})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Post Content"}),a.jsx("textarea",{...h.register("content"),className:"w-full p-3 border rounded-md mt-1",rows:6,placeholder:"What's on your mind? Share your thoughts, updates, or promotions..."}),h.formState.errors.content&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.formState.errors.content.message}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[h.watch("content")?.length||0,"/2000 characters"]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[n.length," platform",1!==n.length?"s":""," selected"]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Hashtags (Optional)"}),a.jsx(C.I,{...h.register("hashtags"),placeholder:"#yoga #wellness #retreat #mindfulness",className:"mt-1"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Separate hashtags with spaces. They will be automatically formatted."})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Links (Optional)"}),a.jsx(C.I,{...h.register("links"),placeholder:"https://tripfluence.com/retreats/bali-yoga",className:"mt-1"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Add links to your website, booking pages, or other relevant content."})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Media (Optional)"}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-6 text-center mt-1",children:[(0,a.jsxs)("div",{className:"text-muted-foreground",children:[a.jsx("div",{className:"text-sm",children:"Drag and drop images or videos here"}),a.jsx("div",{className:"text-xs mt-1",children:"or click to browse"})]}),a.jsx("input",{type:"file",multiple:!0,accept:"image/*,video/*",className:"hidden",id:"media-upload"}),a.jsx("label",{htmlFor:"media-upload",className:"cursor-pointer",children:a.jsx(w.z,{variant:"outline",size:"sm",className:"mt-2",children:"Choose Files"})})]})]}),(0,a.jsxs)(A.Zb,{children:[a.jsx(A.Ol,{children:a.jsx(A.ll,{className:"text-base",children:"Publishing Options"})}),(0,a.jsxs)(A.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",id:"publish-now",name:"publish-option",checked:!o,onChange:()=>c(!1),className:"rounded"}),(0,a.jsxs)("label",{htmlFor:"publish-now",className:"flex items-center gap-2",children:[a.jsx(E.Z,{className:"h-4 w-4"}),a.jsx("span",{children:"Publish Now"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"radio",id:"schedule",name:"publish-option",checked:o,onChange:()=>c(!0),className:"rounded"}),(0,a.jsxs)("label",{htmlFor:"schedule",className:"flex items-center gap-2",children:[a.jsx(p.Z,{className:"h-4 w-4"}),a.jsx("span",{children:"Schedule for Later"})]})]}),o&&(0,a.jsxs)("div",{className:"ml-6",children:[a.jsx("label",{className:"text-sm font-medium",children:"Schedule Date & Time"}),a.jsx(C.I,{type:"datetime-local",...h.register("scheduledAt",{valueAsDate:!0}),className:"mt-1"})]})]})]}),(0,a.jsxs)(A.Zb,{children:[(0,a.jsxs)(A.Ol,{children:[a.jsx(A.ll,{className:"text-base",children:"Preview"}),a.jsx(A.SZ,{children:"How your post will appear on selected platforms"})]}),a.jsx(A.aY,{children:a.jsx("div",{className:"space-y-4",children:n.map(e=>{let s=f.find(s=>s.id===e),t=s?.icon;return(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[t&&a.jsx(t,{className:`h-4 w-4 ${s.color}`}),a.jsx("span",{className:"font-medium",children:s?.name})]}),a.jsx("div",{className:"text-sm",children:h.watch("content")||"Your post content will appear here..."}),h.watch("hashtags")&&a.jsx("div",{className:"text-sm text-blue-600 mt-2",children:h.watch("hashtags")})]},e)})})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx(w.z,{type:"button",variant:"outline",onClick:s,children:"Cancel"}),a.jsx(w.z,{type:"submit",disabled:i||0===n.length,children:i?"Creating...":o?(0,a.jsxs)(a.Fragment,{children:[a.jsx(Q.Z,{className:"mr-2 h-4 w-4"}),"Schedule Post"]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(E.Z,{className:"mr-2 h-4 w-4"}),"Publish Now"]})})]})]})]})})}var Y=t(30361),H=t(7027);function J({isOpen:e,onClose:s,onSubmit:t,isLoading:i}){let[n,r]=(0,l.useState)(null),o=(0,G.cI)({resolver:(0,U.F)(q),defaultValues:{platform:"instagram",accountName:"",accessToken:"",refreshToken:"",expiresAt:void 0}}),c=e=>{r(e),o.setValue("platform",e)},h=[{id:"instagram",name:"Instagram",description:"Connect your Instagram business account",icon:d.Z,color:"text-pink-600",bgColor:"bg-pink-50",borderColor:"border-pink-200",steps:["Go to Facebook Developer Console","Create a new app or use existing one","Add Instagram Basic Display product","Generate access token","Paste token below"],helpUrl:"https://developers.facebook.com/docs/instagram-basic-display-api"},{id:"facebook",name:"Facebook",description:"Connect your Facebook page",icon:m.Z,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",steps:["Go to Facebook Developer Console","Create a new app","Add Facebook Login product","Generate page access token","Paste token below"],helpUrl:"https://developers.facebook.com/docs/pages/access-tokens"},{id:"tiktok",name:"TikTok",description:"Connect your TikTok for Business account",icon:u.Z,color:"text-black",bgColor:"bg-gray-50",borderColor:"border-gray-200",steps:["Go to TikTok for Business","Create a developer account","Create a new app","Generate access token","Paste token below"],helpUrl:"https://developers.tiktok.com/"},{id:"google_business",name:"Google Business",description:"Connect your Google My Business account",icon:x.Z,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",steps:["Go to Google Cloud Console","Enable Google My Business API","Create credentials","Generate access token","Paste token below"],helpUrl:"https://developers.google.com/my-business"}],p=h.find(e=>e.id===n);return a.jsx(W.Vq,{open:e,onOpenChange:s,children:(0,a.jsxs)(W.cZ,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(W.fK,{children:a.jsx(W.$N,{children:"Connect Social Media Account"})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-medium",children:"Select Platform"}),a.jsx("div",{className:"space-y-3",children:h.map(e=>{let s=e.icon,t=n===e.id;return a.jsx(A.Zb,{className:`cursor-pointer transition-colors ${t?`ring-2 ring-primary ${e.bgColor}`:"hover:bg-muted/50"}`,onClick:()=>c(e.id),children:a.jsx(A.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(s,{className:`h-6 w-6 ${e.color}`}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:e.name}),a.jsx("div",{className:"text-sm text-muted-foreground",children:e.description})]}),t&&a.jsx(Y.Z,{className:"h-5 w-5 text-primary"})]})})},e.id)})})]}),a.jsx("div",{className:"space-y-4",children:p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-medium",children:"Connection Details"}),(0,a.jsxs)(w.z,{variant:"outline",size:"sm",onClick:()=>window.open(p.helpUrl,"_blank"),children:[a.jsx(H.Z,{className:"mr-2 h-4 w-4"}),"Help Guide"]})]}),(0,a.jsxs)("form",{onSubmit:o.handleSubmit(e=>{t(e)}),className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Account Name"}),a.jsx(C.I,{...o.register("accountName"),placeholder:"My Business Account",className:"mt-1"}),o.formState.errors.accountName&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:o.formState.errors.accountName.message})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Access Token"}),a.jsx(C.I,{...o.register("accessToken"),type:"password",placeholder:"Enter your access token",className:"mt-1"}),o.formState.errors.accessToken&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:o.formState.errors.accessToken.message})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Refresh Token (Optional)"}),a.jsx(C.I,{...o.register("refreshToken"),type:"password",placeholder:"Enter refresh token if available",className:"mt-1"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Expires At (Optional)"}),a.jsx(C.I,{...o.register("expiresAt",{valueAsDate:!0}),type:"datetime-local",className:"mt-1"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[a.jsx(w.z,{type:"button",variant:"outline",onClick:s,children:"Cancel"}),a.jsx(w.z,{type:"submit",disabled:i,children:i?"Connecting...":"Connect Account"})]})]})]}):a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Select a platform to continue"})})]}),p&&a.jsx("div",{className:"mt-6",children:(0,a.jsxs)(A.Zb,{children:[(0,a.jsxs)(A.Ol,{children:[a.jsx(A.ll,{className:"text-base",children:"Setup Instructions"}),(0,a.jsxs)(A.SZ,{children:["Follow these steps to get your access token for ",p.name]})]}),a.jsx(A.aY,{children:a.jsx("div",{className:"space-y-3",children:p.steps.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-primary text-primary-foreground text-sm flex items-center justify-center",children:s+1}),a.jsx("div",{className:"text-sm",children:e})]},s))})})]})})]})})}function ee(){let[e,s]=(0,l.useState)(!1),[t,D]=(0,l.useState)(!1),[I,_]=(0,l.useState)(null),[O,M]=(0,l.useState)(new Date),[q,R]=(0,l.useState)({search:"",platform:"",status:""}),X=(0,i.NL)(),{data:B=[]}=(0,n.a)({queryKey:["social-posts"],queryFn:F.getAllPosts}),{data:E=[]}=(0,n.a)({queryKey:["social-accounts"],queryFn:F.getAccounts}),{data:K}=(0,n.a)({queryKey:["social-analytics"],queryFn:F.getAnalyticsSummary}),z=(0,r.D)({mutationFn:F.createPost,onSuccess:()=>{X.invalidateQueries({queryKey:["social-posts"]}),X.invalidateQueries({queryKey:["social-analytics"]}),g.Am.success("Post created successfully"),s(!1)},onError:()=>{g.Am.error("Failed to create post")}}),G=(0,r.D)({mutationFn:({id:e,data:s})=>F.updatePost(e,s),onSuccess:()=>{X.invalidateQueries({queryKey:["social-posts"]}),g.Am.success("Post updated successfully"),_(null)},onError:()=>{g.Am.error("Failed to update post")}}),U=(0,r.D)({mutationFn:F.deletePost,onSuccess:()=>{X.invalidateQueries({queryKey:["social-posts"]}),X.invalidateQueries({queryKey:["social-analytics"]}),g.Am.success("Post deleted successfully")},onError:()=>{g.Am.error("Failed to delete post")}}),Q=(0,r.D)({mutationFn:F.publishPost,onSuccess:()=>{X.invalidateQueries({queryKey:["social-posts"]}),X.invalidateQueries({queryKey:["social-analytics"]}),g.Am.success("Post published successfully")},onError:()=>{g.Am.error("Failed to publish post")}}),W=(0,r.D)({mutationFn:F.connectAccount,onSuccess:()=>{X.invalidateQueries({queryKey:["social-accounts"]}),g.Am.success("Account connected successfully"),D(!1)},onError:()=>{g.Am.error("Failed to connect account")}}),Y=B.filter(e=>{let s=e.content.toLowerCase().includes(q.search.toLowerCase()),t=!q.platform||e.platforms.includes(q.platform),a=!q.status||e.status===q.status;return s&&t&&a}),H=(0,f.N)(O),ee=(0,j.V)(O),es=(0,b.D)({start:H,end:ee}),et=e=>Y.filter(s=>s.scheduledAt?(0,y.K)(new Date(s.scheduledAt),e):!!s.publishedAt&&(0,y.K)(new Date(s.publishedAt),e)),ea=e=>{M(s=>"next"===e?(0,N.z)(s,1):(0,v.W)(s,1))},el=L({onEdit:_,onDelete:e=>{confirm("Are you sure you want to delete this post?")&&U.mutate(e)},onPublish:e=>{Q.mutate(e)}}),ei=E.filter(e=>e.isConnected);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Social Media Hub"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your social media presence and content calendar"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(w.z,{variant:"outline",onClick:()=>D(!0),children:[a.jsx(o.Z,{className:"mr-2 h-4 w-4"}),"Connect Account"]}),(0,a.jsxs)(w.z,{onClick:()=>s(!0),children:[a.jsx(c.Z,{className:"mr-2 h-4 w-4"}),"Create Post"]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:ei.map(e=>a.jsx(A.Zb,{children:a.jsx(A.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"h-10 w-10 rounded-full bg-muted flex items-center justify-center",children:["instagram"===e.platform&&a.jsx(d.Z,{className:"h-5 w-5"}),"facebook"===e.platform&&a.jsx(m.Z,{className:"h-5 w-5"}),"tiktok"===e.platform&&a.jsx(u.Z,{className:"h-5 w-5"}),"google_business"===e.platform&&a.jsx(x.Z,{className:"h-5 w-5"})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"font-medium",children:e.accountName}),a.jsx("div",{className:"text-sm text-muted-foreground",children:e.accountHandle})]})]})})},e.id))}),K&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)(A.Zb,{children:[(0,a.jsxs)(A.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(A.ll,{className:"text-sm font-medium",children:"Total Posts"}),a.jsx(x.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(A.aY,{children:[a.jsx("div",{className:"text-2xl font-bold",children:K.totalPosts}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Published posts"})]})]}),(0,a.jsxs)(A.Zb,{children:[(0,a.jsxs)(A.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(A.ll,{className:"text-sm font-medium",children:"Total Impressions"}),a.jsx(h.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(A.aY,{children:[a.jsx("div",{className:"text-2xl font-bold",children:K.totalImpressions.toLocaleString()}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[K.engagementRate,"% engagement rate"]})]})]}),(0,a.jsxs)(A.Zb,{children:[(0,a.jsxs)(A.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(A.ll,{className:"text-sm font-medium",children:"Total Clicks"}),a.jsx("div",{className:"h-4 w-4 rounded-full bg-blue-500"})]}),(0,a.jsxs)(A.aY,{children:[a.jsx("div",{className:"text-2xl font-bold",children:K.totalClicks.toLocaleString()}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[K.conversionRate,"% conversion rate"]})]})]}),(0,a.jsxs)(A.Zb,{children:[(0,a.jsxs)(A.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(A.ll,{className:"text-sm font-medium",children:"Revenue Generated"}),a.jsx("div",{className:"h-4 w-4 rounded-full bg-green-500"})]}),(0,a.jsxs)(A.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:["$",K.totalRevenue.toLocaleString()]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["From ",K.totalBookings," bookings"]})]})]})]}),(0,a.jsxs)(A.Zb,{children:[a.jsx(A.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(A.ll,{className:"flex items-center gap-2",children:[a.jsx(p.Z,{className:"h-4 w-4"}),"Content Calendar"]}),a.jsx(A.SZ,{children:"Schedule and manage your social media posts"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(w.z,{variant:"outline",size:"sm",onClick:()=>ea("prev"),children:"← Previous"}),a.jsx("h3",{className:"text-lg font-semibold",children:(0,k.WU)(O,"MMMM yyyy")}),a.jsx(w.z,{variant:"outline",size:"sm",onClick:()=>ea("next"),children:"Next →"})]})]})}),a.jsx(A.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-7 gap-1 border rounded-lg",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>a.jsx("div",{className:"p-2 text-center font-medium text-sm bg-muted",children:e},e)),es.map(e=>{let s=et(e),t=(0,y.K)(e,new Date),l=e.getMonth()===O.getMonth();return(0,a.jsxs)("div",{className:`min-h-[100px] p-2 border ${l?"bg-background":"bg-muted/50"} ${t?"ring-2 ring-primary":""}`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:`text-sm font-medium ${l?"text-foreground":"text-muted-foreground"}`,children:(0,k.WU)(e,"d")}),s.length>0&&a.jsx(Z.C,{variant:"secondary",className:"text-xs",children:s.length})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[s.slice(0,2).map(e=>(0,a.jsxs)("div",{className:`p-1 rounded text-xs cursor-pointer ${"published"===e.status?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"scheduled"===e.status?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}`,children:[(0,a.jsxs)("div",{className:"truncate",children:[e.content.substring(0,30),"..."]}),a.jsx("div",{className:"flex items-center gap-1",children:e.platforms.map(e=>(0,a.jsxs)("div",{className:"text-xs",children:["instagram"===e&&"\uD83D\uDCF7","facebook"===e&&"\uD83D\uDCD8","tiktok"===e&&"\uD83C\uDFB5","google_business"===e&&"\uD83C\uDFE2"]},e))})]},e.id)),s.length>2&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["+",s.length-2," more"]})]})]},e.toISOString())})]})})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 p-4 border rounded-lg bg-muted/50",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{className:"text-sm font-medium",children:"Filters:"})}),a.jsx(C.I,{placeholder:"Search posts...",value:q.search,onChange:e=>R(s=>({...s,search:e.target.value})),className:"w-64"}),(0,a.jsxs)(P.Ph,{value:q.platform,onValueChange:e=>R(s=>({...s,platform:e})),children:[a.jsx(P.i4,{className:"w-40",children:a.jsx(P.ki,{placeholder:"Platform"})}),(0,a.jsxs)(P.Bw,{children:[a.jsx(P.Ql,{value:"all",children:"All Platforms"}),a.jsx(P.Ql,{value:"instagram",children:"Instagram"}),a.jsx(P.Ql,{value:"facebook",children:"Facebook"}),a.jsx(P.Ql,{value:"tiktok",children:"TikTok"}),a.jsx(P.Ql,{value:"google_business",children:"Google Business"})]})]}),(0,a.jsxs)(P.Ph,{value:q.status,onValueChange:e=>R(s=>({...s,status:e})),children:[a.jsx(P.i4,{className:"w-40",children:a.jsx(P.ki,{placeholder:"Status"})}),(0,a.jsxs)(P.Bw,{children:[a.jsx(P.Ql,{value:"all",children:"All Status"}),a.jsx(P.Ql,{value:"draft",children:"Draft"}),a.jsx(P.Ql,{value:"scheduled",children:"Scheduled"}),a.jsx(P.Ql,{value:"published",children:"Published"}),a.jsx(P.Ql,{value:"failed",children:"Failed"})]})]}),a.jsx(w.z,{variant:"outline",size:"sm",onClick:()=>R({search:"",platform:"",status:""}),children:"Clear Filters"})]}),a.jsx(S.w,{columns:el,data:Y,searchKey:"content",searchPlaceholder:"Search posts..."}),a.jsx($,{isOpen:e,onClose:()=>s(!1),onSubmit:e=>{z.mutate(e)},isLoading:z.isPending}),a.jsx(J,{isOpen:t,onClose:()=>D(!1),onSubmit:e=>{W.mutate(e)},isLoading:W.isPending}),I&&a.jsx(T.aN,{isOpen:!!I,onClose:()=>_(null),title:"Edit Post",description:"Update post content and settings",schema:V,defaultValues:I,onSubmit:e=>{I&&G.mutate({id:I.id,data:e})},isLoading:G.isPending,children:e=>(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Content"}),a.jsx("textarea",{...e.register("content"),className:"w-full p-2 border rounded-md",rows:4,placeholder:"Write your post content..."}),e.formState.errors.content&&a.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.content.message})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Platforms"}),a.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:["instagram","facebook","tiktok","google_business"].map(s=>(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:e.watch("platforms")?.includes(s),onChange:t=>{let a=e.getValues("platforms")||[];t.target.checked?e.setValue("platforms",[...a,s]):e.setValue("platforms",a.filter(e=>e!==s))}}),a.jsx("span",{className:"text-sm capitalize",children:s.replace("_"," ")})]},s))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Hashtags (Optional)"}),a.jsx(C.I,{...e.register("hashtags"),placeholder:"#yoga #wellness #retreat"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Separate hashtags with spaces"})]})]})})]})}},12969:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]])},15919:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},7027:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},69436:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},39744:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`/Users/kumar/Business admin/tripfluence-admin/app/(admin)/social/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[8948,1365,354,6582,5403,260,1468,1724,2880,5079,6179,1427,3708,8192],()=>t(70922));module.exports=a})();