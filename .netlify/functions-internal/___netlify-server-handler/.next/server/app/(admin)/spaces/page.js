(()=>{var e={};e.id=1566,e.ids=[1566],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},70709:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>o,routeModule:()=>p,tree:()=>d}),a(47724),a(75275),a(35866),a(11506);var t=a(23191),i=a(88716),r=a(37922),l=a.n(r),n=a(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);a.d(s,c);let d=["",{children:["(admin)",{children:["spaces",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,47724)),"/Users/kumar/Business admin/tripfluence-admin/app/(admin)/spaces/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,75275)),"/Users/kumar/Business admin/tripfluence-admin/app/(admin)/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,11506)),"/Users/kumar/Business admin/tripfluence-admin/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/kumar/Business admin/tripfluence-admin/app/(admin)/spaces/page.tsx"],u="/(admin)/spaces/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(admin)/spaces/page",pathname:"/spaces",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},75115:(e,s,a)=>{Promise.resolve().then(a.bind(a,36818))},36818:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>O});var t=a(10326),i=a(17577),r=a(44976),l=a(20108),n=a(10119),c=a(83855),d=a(69561),o=a(85999),u=a(90772),m=a(54432),p=a(33071),h=a(34474),x=a(82089),y=a(11585),g=a(83093),j=a(27100),v=a(567),f=a(60097),b=a(77636),N=a(24061),w=a(71821),Z=a(12714),R=a(15919),q=a(69508);let k=(0,a(62881).Z)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var S=a(40900),I=a(98091),_=a(45079);let A=({onEdit:e,onDelete:s,onPublish:a,onArchive:i})=>[{accessorKey:"title",header:"Space",cell:({row:e})=>{let s=e.original;return(0,t.jsxs)("div",{className:"space-y-1",children:[t.jsx("div",{className:"font-medium",children:s.title}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[t.jsx(b.Z,{className:"h-3 w-3"}),s.location.address]})]})}},{accessorKey:"status",header:"Status",cell:({row:e})=>{let s=e.getValue("status");return t.jsx(v.C,{variant:"PUBLISHED"===s?"default":"DRAFT"===s?"secondary":"outline",children:s})}},{accessorKey:"capacity",header:"Capacity",cell:({row:e})=>{let s=e.getValue("capacity");return(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx(N.Z,{className:"h-4 w-4 text-muted-foreground"}),s]})}},{accessorKey:"pricingRules",header:"Pricing",cell:({row:e})=>{let s=e.original,a=s.pricingRules?.find(e=>"HOURLY"===e.kind),i=s.pricingRules?.find(e=>"DAILY"===e.kind);return a||i?(0,t.jsxs)("div",{className:"space-y-1",children:[a&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[t.jsx(w.Z,{className:"h-3 w-3"}),a.amount,"/",a.currency,"/hr"]}),i&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[t.jsx(w.Z,{className:"h-3 w-3"}),i.amount,"/",i.currency,"/day"]})]}):t.jsx("span",{className:"text-muted-foreground",children:"No pricing set"})}},{accessorKey:"requests",header:"Requests",cell:({row:e})=>{let s=e.original,a=s.requests?.length||0,i=s.requests?.filter(e=>"PENDING"===e.status).length||0;return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"text-sm",children:[a," total"]}),i>0&&(0,t.jsxs)(v.C,{variant:"secondary",className:"text-xs",children:[i," pending"]})]})}},{accessorKey:"createdAt",header:"Created",cell:({row:e})=>{let s=e.getValue("createdAt");return(0,_.WU)(new Date(s),"MMM d, yyyy")}},{id:"actions",header:"Actions",cell:({row:r})=>{let l=r.original;return(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(u.z,{variant:"ghost",size:"sm",onClick:()=>window.open(`/venues/${l.location.address.split(",")[0].toLowerCase().replace(/\s+/g,"-")}/${l.slug}`,"_blank"),children:t.jsx(Z.Z,{className:"h-4 w-4"})}),(0,t.jsxs)(f.h_,{children:[t.jsx(f.$F,{asChild:!0,children:t.jsx(u.z,{variant:"ghost",size:"sm",children:t.jsx(R.Z,{className:"h-4 w-4"})})}),(0,t.jsxs)(f.AW,{align:"end",children:[(0,t.jsxs)(f.Xi,{onClick:()=>e(l),children:[t.jsx(q.Z,{className:"mr-2 h-4 w-4"}),"Edit"]}),"DRAFT"===l.status&&(0,t.jsxs)(f.Xi,{onClick:()=>a(l),children:[t.jsx(k,{className:"mr-2 h-4 w-4"}),"Publish"]}),"PUBLISHED"===l.status&&(0,t.jsxs)(f.Xi,{onClick:()=>i(l),children:[t.jsx(S.Z,{className:"mr-2 h-4 w-4"}),"Archive"]}),t.jsx(f.VD,{}),(0,t.jsxs)(f.Xi,{onClick:()=>s(l),className:"text-destructive",children:[t.jsx(I.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})}}];var C=a(74723),M=a(74064),P=a(21608),E=a(94019),Q=a(31048),D=a(87673),L=a(96655);function $({schema:e,defaultValues:s,onSubmit:a,isLoading:r}){let[l,n]=(0,i.useState)(s?.photos||[]),[d,o]=(0,i.useState)(s?.amenities||[]),[h,x]=(0,i.useState)(s?.rules||[]),[y,g]=(0,i.useState)(""),[j,f]=(0,i.useState)({label:"",category:""}),[w,Z]=(0,i.useState)({label:"",required:!1}),{register:R,handleSubmit:q,formState:{errors:k},setValue:S,watch:I}=(0,C.cI)({resolver:(0,M.F)(e),defaultValues:{title:s?.title||"",slug:s?.slug||"",description:s?.description||"",location:s?.location||{address:"",lat:0,lng:0},capacity:s?.capacity||1,floorAreaM2:s?.floorAreaM2||"",...s}});I("location");let _=e=>{n(s=>s.filter((s,a)=>a!==e))},A=e=>{o(s=>s.filter((s,a)=>a!==e))},$=e=>{x(s=>s.filter((s,a)=>a!==e))};return(0,t.jsxs)("form",{onSubmit:q(e=>{a({...e,photos:l,amenities:d,rules:h})}),className:"space-y-6",children:[(0,t.jsxs)(p.Zb,{children:[t.jsx(p.Ol,{children:t.jsx(p.ll,{children:"Basic Information"})}),(0,t.jsxs)(p.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(Q._,{htmlFor:"title",children:"Title *"}),t.jsx(m.I,{id:"title",...R("title"),placeholder:"e.g., Serene Yoga Studio"}),k.title&&t.jsx("p",{className:"text-sm text-destructive",children:k.title.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(Q._,{htmlFor:"slug",children:"Slug *"}),t.jsx(m.I,{id:"slug",...R("slug"),placeholder:"e.g., serene-yoga-studio"}),k.slug&&t.jsx("p",{className:"text-sm text-destructive",children:k.slug.message})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(Q._,{htmlFor:"description",children:"Description *"}),t.jsx(D.g,{id:"description",...R("description"),placeholder:"Describe your space, its features, and what makes it special...",rows:4}),k.description&&t.jsx("p",{className:"text-sm text-destructive",children:k.description.message})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(Q._,{htmlFor:"capacity",children:"Capacity *"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(N.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(m.I,{id:"capacity",type:"number",...R("capacity",{valueAsNumber:!0}),className:"pl-10",min:"1"})]}),k.capacity&&t.jsx("p",{className:"text-sm text-destructive",children:k.capacity.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(Q._,{htmlFor:"floorAreaM2",children:"Floor Area (m\xb2)"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(P.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(m.I,{id:"floorAreaM2",type:"number",...R("floorAreaM2",{valueAsNumber:!0}),className:"pl-10",min:"1"})]}),k.floorAreaM2&&t.jsx("p",{className:"text-sm text-destructive",children:k.floorAreaM2.message})]})]})]})]}),(0,t.jsxs)(p.Zb,{children:[t.jsx(p.Ol,{children:t.jsx(p.ll,{children:"Location"})}),(0,t.jsxs)(p.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(Q._,{htmlFor:"address",children:"Address *"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(b.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(m.I,{id:"address",...R("location.address"),className:"pl-10",placeholder:"Enter the full address"})]}),k.location?.address&&t.jsx("p",{className:"text-sm text-destructive",children:k.location.address.message})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(Q._,{htmlFor:"lat",children:"Latitude"}),t.jsx(m.I,{id:"lat",type:"number",step:"any",...R("location.lat",{valueAsNumber:!0}),placeholder:"e.g., 40.7128"}),k.location?.lat&&t.jsx("p",{className:"text-sm text-destructive",children:k.location.lat.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(Q._,{htmlFor:"lng",children:"Longitude"}),t.jsx(m.I,{id:"lng",type:"number",step:"any",...R("location.lng",{valueAsNumber:!0}),placeholder:"e.g., -74.0060"}),k.location?.lng&&t.jsx("p",{className:"text-sm text-destructive",children:k.location.lng.message})]})]})]})]}),(0,t.jsxs)(p.Zb,{children:[t.jsx(p.Ol,{children:t.jsx(p.ll,{children:"Photos"})}),(0,t.jsxs)(p.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx(m.I,{value:y,onChange:e=>g(e.target.value),placeholder:"Enter photo URL",className:"flex-1"}),t.jsx(u.z,{type:"button",onClick:()=>{y&&y.trim()&&(n(e=>[...e,y.trim()]),g(""))},size:"sm",children:t.jsx(c.Z,{className:"h-4 w-4"})})]}),l.length>0&&t.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.map((e,s)=>(0,t.jsxs)("div",{className:"relative group",children:[t.jsx("img",{src:e,alt:`Space photo ${s+1}`,className:"w-full h-24 object-cover rounded-lg"}),t.jsx(u.z,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>_(s),children:t.jsx(E.Z,{className:"h-3 w-3"})})]},s))})]})]}),(0,t.jsxs)(p.Zb,{children:[t.jsx(p.Ol,{children:t.jsx(p.ll,{children:"Amenities"})}),(0,t.jsxs)(p.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx(m.I,{value:j.label,onChange:e=>f(s=>({...s,label:e.target.value})),placeholder:"Amenity name",className:"flex-1"}),t.jsx(m.I,{value:j.category,onChange:e=>f(s=>({...s,category:e.target.value})),placeholder:"Category (optional)",className:"w-32"}),t.jsx(u.z,{type:"button",onClick:()=>{j.label.trim()&&(o(e=>[...e,{...j,label:j.label.trim()}]),f({label:"",category:""}))},size:"sm",children:t.jsx(c.Z,{className:"h-4 w-4"})})]}),d.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2",children:d.map((e,s)=>(0,t.jsxs)(v.C,{variant:"secondary",className:"flex items-center gap-1",children:[e.label,e.category&&(0,t.jsxs)("span",{className:"text-xs",children:["(",e.category,")"]}),t.jsx(u.z,{type:"button",variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-destructive hover:text-destructive-foreground",onClick:()=>A(s),children:t.jsx(E.Z,{className:"h-3 w-3"})})]},s))})]})]}),(0,t.jsxs)(p.Zb,{children:[t.jsx(p.Ol,{children:t.jsx(p.ll,{children:"Rules"})}),(0,t.jsxs)(p.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx(m.I,{value:w.label,onChange:e=>Z(s=>({...s,label:e.target.value})),placeholder:"Rule description",className:"flex-1"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(Q._,{htmlFor:"required",children:"Required"}),t.jsx(L.r,{id:"required",checked:w.required,onCheckedChange:e=>Z(s=>({...s,required:e}))})]}),t.jsx(u.z,{type:"button",onClick:()=>{w.label.trim()&&(x(e=>[...e,{...w,label:w.label.trim()}]),Z({label:"",required:!1}))},size:"sm",children:t.jsx(c.Z,{className:"h-4 w-4"})})]}),h.length>0&&t.jsx("div",{className:"space-y-2",children:h.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("span",{children:e.label}),e.required&&t.jsx(v.C,{variant:"destructive",className:"text-xs",children:"Required"})]}),t.jsx(u.z,{type:"button",variant:"ghost",size:"sm",onClick:()=>$(s),children:t.jsx(E.Z,{className:"h-4 w-4"})})]},s))})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(u.z,{type:"submit",disabled:r,children:r?"Saving...":"Save Space"})})]})}var F=a(59734),T=a(36283),z=a(37358),U=a(17069);function H({stats:e}){let s=[{title:"Total Spaces",value:e.totalSpaces,icon:F.Z,description:"All spaces in your business"},{title:"Published",value:e.publishedSpaces,icon:k,description:"Live and bookable",color:"text-green-600"},{title:"Draft",value:e.draftSpaces,icon:T.Z,description:"Not yet published",color:"text-yellow-600"},{title:"Total Requests",value:e.totalRequests,icon:N.Z,description:"All booking requests"},{title:"Pending",value:e.pendingRequests,icon:z.Z,description:"Awaiting response",color:"text-orange-600"},{title:"Confirmed",value:e.confirmedRequests,icon:U.Z,description:"Successfully booked",color:"text-green-600"},{title:"Total Revenue",value:`$${e.totalRevenue.toLocaleString()}`,icon:w.Z,description:"All-time earnings",color:"text-green-600"},{title:"Monthly Revenue",value:`$${e.monthlyRevenue.toLocaleString()}`,icon:w.Z,description:"This month's earnings",color:"text-blue-600"}];return t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:s.map((e,s)=>{let a=e.icon;return(0,t.jsxs)(p.Zb,{children:[(0,t.jsxs)(p.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(p.ll,{className:"text-sm font-medium",children:e.title}),t.jsx(a,{className:`h-4 w-4 ${e.color||"text-muted-foreground"}`})]}),(0,t.jsxs)(p.aY,{children:[t.jsx("div",{className:`text-2xl font-bold ${e.color||""}`,children:e.value}),t.jsx("p",{className:"text-xs text-muted-foreground",children:e.description})]})]},s)})})}function O(){let[e,s]=(0,i.useState)(!1),[a,v]=(0,i.useState)(!1),[f,b]=(0,i.useState)(null),[N,w]=(0,i.useState)({search:"",status:"all",city:""}),Z=(0,r.NL)(),{data:R,isLoading:q}=(0,l.a)({queryKey:["spaces",N],queryFn:()=>g.r.list({q:N.search||void 0,status:"all"===N.status?void 0:N.status,city:N.city||void 0})}),{data:k}=(0,l.a)({queryKey:["space-stats"],queryFn:()=>g.r.getStats()}),S=(0,n.D)({mutationFn:g.r.create,onSuccess:()=>{Z.invalidateQueries({queryKey:["spaces"]}),Z.invalidateQueries({queryKey:["space-stats"]}),s(!1),o.Am.success("Space created successfully")},onError:e=>{o.Am.error(e.message||"Failed to create space")}}),I=(0,n.D)({mutationFn:({id:e,data:s})=>g.r.update(e,s),onSuccess:()=>{Z.invalidateQueries({queryKey:["spaces"]}),Z.invalidateQueries({queryKey:["space-stats"]}),v(!1),b(null),o.Am.success("Space updated successfully")},onError:e=>{o.Am.error(e.message||"Failed to update space")}}),_=(0,n.D)({mutationFn:g.r.delete,onSuccess:()=>{Z.invalidateQueries({queryKey:["spaces"]}),Z.invalidateQueries({queryKey:["space-stats"]}),o.Am.success("Space deleted successfully")},onError:e=>{o.Am.error(e.message||"Failed to delete space")}}),C=(0,n.D)({mutationFn:g.r.publish,onSuccess:()=>{Z.invalidateQueries({queryKey:["spaces"]}),Z.invalidateQueries({queryKey:["space-stats"]}),o.Am.success("Space published successfully")},onError:e=>{o.Am.error(e.message||"Failed to publish space")}}),M=(0,n.D)({mutationFn:g.r.archive,onSuccess:()=>{Z.invalidateQueries({queryKey:["spaces"]}),Z.invalidateQueries({queryKey:["space-stats"]}),o.Am.success("Space archived successfully")},onError:e=>{o.Am.error(e.message||"Failed to archive space")}}),P=e=>{S.mutate(e)},E=e=>{f&&I.mutate({id:f.id,data:e})},Q=A({onEdit:e=>{b(e),v(!0)},onDelete:e=>{confirm(`Are you sure you want to delete "${e.title}"?`)&&_.mutate(e.id)},onPublish:e=>{C.mutate(e.id)},onArchive:e=>{M.mutate(e.id)}});return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Space Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage your rental spaces, pricing, and availability"})]}),(0,t.jsxs)(u.z,{onClick:()=>s(!0),children:[t.jsx(c.Z,{className:"mr-2 h-4 w-4"}),"Create Space"]})]}),k&&t.jsx(H,{stats:k}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 p-4 border rounded-lg bg-muted/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(d.Z,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Filters:"})]}),t.jsx(m.I,{placeholder:"Search spaces...",value:N.search,onChange:e=>w(s=>({...s,search:e.target.value})),className:"w-64"}),(0,t.jsxs)(h.Ph,{value:N.status,onValueChange:e=>w(s=>({...s,status:e})),children:[t.jsx(h.i4,{className:"w-40",children:t.jsx(h.ki,{placeholder:"Status"})}),(0,t.jsxs)(h.Bw,{children:[t.jsx(h.Ql,{value:"all",children:"All Status"}),t.jsx(h.Ql,{value:"DRAFT",children:"Draft"}),t.jsx(h.Ql,{value:"PUBLISHED",children:"Published"}),t.jsx(h.Ql,{value:"ARCHIVED",children:"Archived"})]})]}),t.jsx(m.I,{placeholder:"City...",value:N.city,onChange:e=>w(s=>({...s,city:e.target.value})),className:"w-40"})]}),(0,t.jsxs)(p.Zb,{children:[(0,t.jsxs)(p.Ol,{children:[t.jsx(p.ll,{children:"Spaces"}),t.jsx(p.SZ,{children:"Manage your rental spaces and their settings"})]}),t.jsx(p.aY,{children:t.jsx(x.w,{columns:Q,data:R?.spaces||[],isLoading:q,pagination:{page:R?.page||1,limit:R?.limit||20,total:R?.total||0}})})]}),t.jsx(y.aN,{isOpen:e,onClose:()=>s(!1),title:"Create New Space",description:"Add a new rental space to your business",schema:j.qe,onSubmit:P,isLoading:S.isPending,children:e=>t.jsx($,{schema:j.qe,onSubmit:P,isLoading:S.isPending})}),t.jsx(y.aN,{isOpen:a,onClose:()=>{v(!1),b(null)},title:"Edit Space",description:"Update space information and settings",schema:j.IZ,onSubmit:E,isLoading:I.isPending,children:e=>f&&t.jsx($,{schema:j.IZ,defaultValues:f,onSubmit:E,isLoading:I.isPending})})]})}},11585:(e,s,a)=>{"use strict";a.d(s,{aN:()=>d});var t=a(10326),i=a(17577),r=a(74723),l=a(74064),n=a(62288),c=a(90772);function d({isOpen:e,onClose:s,title:a,description:i,schema:d,defaultValues:o,onSubmit:u,children:m,submitLabel:p="Save",cancelLabel:h="Cancel",isLoading:x=!1}){let y=(0,r.cI)({resolver:(0,l.F)(d),defaultValues:o}),g=async e=>{try{await u(e),y.reset(),s()}catch(e){console.error("Form submission error:",e)}};return t.jsx(n.Vq,{open:e,onOpenChange:s,children:(0,t.jsxs)(n.cZ,{className:"sm:max-w-[425px]",children:[(0,t.jsxs)(n.fK,{children:[t.jsx(n.$N,{children:a}),i&&t.jsx(n.Be,{children:i})]}),t.jsx(r.RV,{...y,children:(0,t.jsxs)("div",{"data-testid":"form",className:"space-y-4",children:[m(y),(0,t.jsxs)(n.cN,{children:[t.jsx(c.z,{type:"button",variant:"outline",onClick:s,disabled:x,children:h}),t.jsx(c.z,{type:"button",disabled:x,onClick:()=>y.handleSubmit(g)(),children:x?"Saving...":p})]})]})})]})})}a(31048),a(54432),a(87673),a(34474)},33071:(e,s,a)=>{"use strict";a.d(s,{Ol:()=>n,SZ:()=>d,Zb:()=>l,aY:()=>o,ll:()=>c});var t=a(10326),i=a(17577),r=a(77863);let l=i.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));l.displayName="Card";let n=i.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...s}));n.displayName="CardHeader";let c=i.forwardRef(({className:e,...s},a)=>t.jsx("h3",{ref:a,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));c.displayName="CardTitle";let d=i.forwardRef(({className:e,...s},a)=>t.jsx("p",{ref:a,className:(0,r.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let o=i.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,r.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent",i.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,r.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},96655:(e,s,a)=>{"use strict";a.d(s,{r:()=>w});var t=a(10326),i=a(17577),r=a(82561),l=a(48051),n=a(93095),c=a(52067),d=a(53405),o=a(2566),u=a(45226),m="Switch",[p,h]=(0,n.b)(m),[x,y]=p(m),g=i.forwardRef((e,s)=>{let{__scopeSwitch:a,name:n,checked:d,defaultChecked:o,required:p,disabled:h,value:y="on",onCheckedChange:g,form:j,...v}=e,[N,w]=i.useState(null),Z=(0,l.e)(s,e=>w(e)),R=i.useRef(!1),q=!N||j||!!N.closest("form"),[k,S]=(0,c.T)({prop:d,defaultProp:o??!1,onChange:g,caller:m});return(0,t.jsxs)(x,{scope:a,checked:k,disabled:h,children:[(0,t.jsx)(u.WV.button,{type:"button",role:"switch","aria-checked":k,"aria-required":p,"data-state":b(k),"data-disabled":h?"":void 0,disabled:h,value:y,...v,ref:Z,onClick:(0,r.Mj)(e.onClick,e=>{S(e=>!e),q&&(R.current=e.isPropagationStopped(),R.current||e.stopPropagation())})}),q&&(0,t.jsx)(f,{control:N,bubbles:!R.current,name:n,value:y,checked:k,required:p,disabled:h,form:j,style:{transform:"translateX(-100%)"}})]})});g.displayName=m;var j="SwitchThumb",v=i.forwardRef((e,s)=>{let{__scopeSwitch:a,...i}=e,r=y(j,a);return(0,t.jsx)(u.WV.span,{"data-state":b(r.checked),"data-disabled":r.disabled?"":void 0,...i,ref:s})});v.displayName=j;var f=i.forwardRef(({__scopeSwitch:e,control:s,checked:a,bubbles:r=!0,...n},c)=>{let u=i.useRef(null),m=(0,l.e)(u,c),p=(0,d.D)(a),h=(0,o.t)(s);return i.useEffect(()=>{let e=u.current;if(!e)return;let s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(p!==a&&s){let t=new Event("click",{bubbles:r});s.call(e,a),e.dispatchEvent(t)}},[p,a,r]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...n,tabIndex:-1,ref:m,style:{...n.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function b(e){return e?"checked":"unchecked"}f.displayName="SwitchBubbleInput";var N=a(77863);function w({className:e,...s}){return t.jsx(g,{"data-slot":"switch",className:(0,N.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:t.jsx(v,{"data-slot":"switch-thumb",className:(0,N.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}},83093:(e,s,a)=>{"use strict";a.d(s,{r:()=>l}),a(85999);class t extends Error{constructor(e,s,a){super(e),this.status=s,this.response=a,this.name="ApiError"}}class i{constructor(e="/api"){this.baseUrl=e,this.defaultHeaders={"Content-Type":"application/json"}}async request(e,s={}){let a=`${this.baseUrl}${e}`,i=new AbortController,r=setTimeout(()=>i.abort(),3e4);try{let e=await fetch(a,{...s,headers:{...this.defaultHeaders,...s.headers},signal:i.signal});if(clearTimeout(r),!e.ok){let s=await e.json().catch(()=>({}));throw new t(s.message||`HTTP ${e.status}`,e.status,e)}return await e.json()}catch(e){if(clearTimeout(r),e instanceof t)throw e;if(e instanceof Error&&"AbortError"===e.name)throw new t("Request timeout",408);throw new t(e instanceof Error?e.message:"Unknown error",500)}}async get(e,s){let a=new URL(e,this.baseUrl);return s&&Object.entries(s).forEach(([e,s])=>{null!=s&&a.searchParams.append(e,String(s))}),this.request(a.pathname+a.search,{method:"GET"})}async post(e,s,a){return this.request(e,{method:"POST",body:s?JSON.stringify(s):void 0,headers:a})}async patch(e,s,a){return this.request(e,{method:"PATCH",body:s?JSON.stringify(s):void 0,headers:a})}async delete(e,s){return this.request(e,{method:"DELETE",headers:s})}}let r=new i,l={list:async(e={})=>{let s=new URLSearchParams;return Object.entries(e).forEach(([e,a])=>{null!=a&&s.append(e,String(a))}),r.get(`/space?${s}`)},get:async e=>r.get(`/space/${e}`),create:async e=>r.post("/space",e),update:async(e,s)=>r.patch(`/space/${e}`,s),delete:async e=>r.delete(`/space/${e}`),publish:async e=>r.post(`/space/${e}/publish`),archive:async e=>r.post(`/space/${e}/archive`),updatePricingRules:async e=>r.post(`/space/${e.spaceId}/pricing`,e),updateAvailability:async e=>r.post(`/space/${e.spaceId}/availability`,e),listRequests:async(e={})=>{let s=new URLSearchParams;return Object.entries(e).forEach(([e,a])=>{null!=a&&s.append(e,String(a))}),r.get(`/space/requests?${s}`)},getRequest:async e=>r.get(`/space/requests/${e}`),quoteRequest:async e=>r.post(`/space/requests/${e.requestId}/quote`,e),approveRequest:async e=>r.post(`/space/requests/${e.requestId}/approve`,e),declineRequest:async e=>r.post(`/space/requests/${e.requestId}/decline`,e),cancelRequest:async e=>r.post(`/space/requests/${e.requestId}/cancel`,e),sendMessage:async e=>r.post(`/space/requests/${e.spaceReqId}/messages`,e),getStats:async()=>r.get("/space/stats"),publicList:async(e={})=>{let s=new URLSearchParams;return Object.entries(e).forEach(([e,a])=>{null!=a&&s.append(e,String(a))}),r.get(`/public/space?${s}`)},publicGet:async e=>r.get(`/public/space/${e}`),publicCheckAvailability:async e=>r.post(`/public/space/${e.spaceId}/availability`,e),publicGetQuote:async e=>r.post(`/public/space/${e.spaceId}/quote`,e)}},27100:(e,s,a)=>{"use strict";a.d(s,{IZ:()=>r,QU:()=>n,Xu:()=>d,qe:()=>i});var t=a(49969);let i=t.Ryn({title:t.Z_8().min(1,"Title is required").max(100,"Title too long"),slug:t.Z_8().min(1,"Slug is required").max(50,"Slug too long").regex(/^[a-z0-9-]+$/,"Slug must contain only lowercase letters, numbers, and hyphens"),description:t.Z_8().min(10,"Description must be at least 10 characters").max(1e3,"Description too long"),photos:t.IXX(t.Z_8().url("Invalid photo URL")).max(10,"Maximum 10 photos allowed"),location:t.Ryn({address:t.Z_8().min(1,"Address is required"),lat:t.Rxh().min(-90).max(90),lng:t.Rxh().min(-180).max(180)}),capacity:t.Rxh().int().min(1,"Capacity must be at least 1").max(1e3,"Capacity too large"),floorAreaM2:t.Rxh().int().min(1).max(1e4).optional(),amenities:t.IXX(t.Ryn({label:t.Z_8().min(1,"Amenity label is required"),category:t.Z_8().optional()})).max(20,"Maximum 20 amenities allowed"),rules:t.IXX(t.Ryn({label:t.Z_8().min(1,"Rule label is required"),required:t.O72()})).max(10,"Maximum 10 rules allowed")}),r=i.partial().extend({id:t.Z_8().cuid()});t.Ryn({id:t.Z_8().cuid()});let l=t.Ryn({kind:t.KmV(["HOURLY","DAILY","PEAK","CLEANING_FEE","SECURITY_DEPOSIT"]),amount:t.Rxh().int().min(0,"Amount must be positive"),currency:t.Z_8().length(3,"Currency must be 3 characters"),dow:t.IXX(t.Rxh().int().min(0).max(6)).default([]),startHour:t.Rxh().int().min(0).max(23).optional(),endHour:t.Rxh().int().min(0).max(23).optional()}).refine(e=>void 0===e.startHour||void 0===e.endHour||e.startHour<e.endHour,{message:"Start hour must be before end hour",path:["endHour"]}),n=t.Ryn({spaceId:t.Z_8().cuid(),rules:t.IXX(l).max(10,"Maximum 10 pricing rules allowed")}),c=t.Ryn({spaceId:t.Z_8().cuid(),start:t.oQ2.date(),end:t.oQ2.date(),isBlocked:t.O72().default(!1),notes:t.Z_8().max(500).optional()}).refine(e=>e.start<e.end,{message:"Start time must be before end time",path:["end"]});t.Ryn({spaceId:t.Z_8().cuid(),blocks:t.IXX(c.omit({spaceId:!0})).max(50,"Maximum 50 availability blocks allowed")}),t.Ryn({spaceId:t.Z_8().cuid(),title:t.Z_8().min(1,"Title is required").max(100,"Title too long"),description:t.Z_8().max(500).optional(),attendees:t.Rxh().int().min(1,"At least 1 attendee required").max(1e3,"Too many attendees"),start:t.oQ2.date(),end:t.oQ2.date(),organizerId:t.Z_8().min(1,"Organizer ID is required")}).refine(e=>e.start<e.end,{message:"Start time must be before end time",path:["end"]}).refine(e=>e.end.getTime()-e.start.getTime()<=864e5,{message:"Booking duration cannot exceed 24 hours",path:["end"]});let d=t.Ryn({requestId:t.Z_8().cuid(),quoteAmount:t.Rxh().int().min(0,"Quote amount must be positive"),depositAmount:t.Rxh().int().min(0).optional(),cleaningFee:t.Rxh().int().min(0).optional(),pricingBreakdown:t.IMB(t.YjB())});t.Ryn({requestId:t.Z_8().cuid(),decision:t.KmV(["approve","decline"]),message:t.Z_8().max(500).optional()}),t.Ryn({requestId:t.Z_8().cuid(),reason:t.Z_8().max(200).optional()}),t.Ryn({spaceReqId:t.Z_8().cuid(),body:t.Z_8().min(1,"Message body is required").max(1e3,"Message too long"),attachments:t.IXX(t.Z_8().url("Invalid attachment URL")).max(5,"Maximum 5 attachments allowed").optional()}),t.Ryn({requestId:t.Z_8().cuid(),paymentMethodId:t.Z_8().min(1,"Payment method is required"),idempotencyKey:t.Z_8().uuid("Invalid idempotency key")}),t.Ryn({businessId:t.Z_8().cuid(),returnUrl:t.Z_8().url("Invalid return URL").optional(),refreshUrl:t.Z_8().url("Invalid refresh URL").optional()}),t.Ryn({city:t.Z_8().optional(),priceMin:t.oQ2.number().int().min(0).optional(),priceMax:t.oQ2.number().int().min(0).optional(),capacity:t.oQ2.number().int().min(1).optional(),amenities:t.IXX(t.Z_8()).optional(),from:t.oQ2.date().optional(),to:t.oQ2.date().optional(),page:t.oQ2.number().int().min(1).default(1),limit:t.oQ2.number().int().min(1).max(50).default(24),sort:t.KmV(["relevance","price_asc","price_desc","capacity","distance"]).default("relevance"),lat:t.oQ2.number().optional(),lng:t.oQ2.number().optional(),radius:t.oQ2.number().int().min(1).max(100).default(50)}),t.Ryn({spaceId:t.Z_8().cuid(),from:t.oQ2.date(),to:t.oQ2.date()}),t.Ryn({spaceId:t.Z_8().cuid(),start:t.oQ2.date(),end:t.oQ2.date(),attendees:t.Rxh().int().min(1).max(1e3)}),t.Ryn({q:t.Z_8().min(1,"Search query is required").max(100,"Query too long"),filters:t.Ryn({city:t.Z_8().optional(),priceRange:t.bcc([t.Rxh(),t.Rxh()]).optional(),capacity:t.Rxh().int().min(1).optional(),amenities:t.IXX(t.Z_8()).optional()}).optional(),page:t.oQ2.number().int().min(1).default(1),limit:t.oQ2.number().int().min(1).max(50).default(20)}),t.Ryn({status:t.KmV(["DRAFT","PUBLISHED","ARCHIVED"]).optional(),city:t.Z_8().optional(),capacity:t.oQ2.number().int().min(1).optional(),q:t.Z_8().optional(),page:t.oQ2.number().int().min(1).default(1),limit:t.oQ2.number().int().min(1).max(100).default(20)}),t.Ryn({status:t.KmV(["PENDING","APPROVED","DECLINED","CANCELLED"]).optional(),spaceId:t.Z_8().cuid().optional(),from:t.oQ2.date().optional(),to:t.oQ2.date().optional(),page:t.oQ2.number().int().min(1).default(1),limit:t.oQ2.number().int().min(1).max(100).default(20)})},40900:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]])},15919:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},12714:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},36283:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},69561:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},83855:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},69508:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},21608:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]])},98091:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},17069:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},47724:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(68570).createProxy)(String.raw`/Users/kumar/Business admin/tripfluence-admin/app/(admin)/spaces/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[8948,1365,354,6582,5403,260,1468,1724,2880,5079,6179,1427,3708],()=>a(70709));module.exports=t})();