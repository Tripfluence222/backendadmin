(()=>{var e={};e.id=1114,e.ids=[1114],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},45202:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),n(50688),n(75275),n(35866),n(11506);var a=n(23191),r=n(88716),s=n(37922),i=n.n(s),o=n(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);n.d(t,l);let d=["",{children:["(admin)",{children:["integrations",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,50688)),"/Users/kumar/Business admin/tripfluence-admin/app/(admin)/integrations/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(n.bind(n,75275)),"/Users/kumar/Business admin/tripfluence-admin/app/(admin)/layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(n.bind(n,11506)),"/Users/kumar/Business admin/tripfluence-admin/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/kumar/Business admin/tripfluence-admin/app/(admin)/integrations/page.tsx"],u="/(admin)/integrations/page",m={require:n,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(admin)/integrations/page",pathname:"/integrations",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},53971:(e,t,n)=>{Promise.resolve().then(n.bind(n,99622))},99622:(e,t,n)=>{"use strict";let a;n.r(t),n.d(t,{default:()=>tn});var r=n(10326),s=n(17577),i=n(20108),o=n(33071),l=n(73427),d=n(567),c=n(90772),u=n(65304),m=n(79360),p=n(77863);let h=(0,m.j)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function f({className:e,variant:t,...n}){return r.jsx("div",{"data-slot":"alert",role:"alert",className:(0,p.cn)(h({variant:t}),e),...n})}function x({className:e,...t}){return r.jsx("div",{"data-slot":"alert-description",className:(0,p.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}let g={integrations:{all:["integrations"],accounts:e=>["integrations","accounts",e],logs:e=>["integrations","logs",e]}};var v=n(49969);let b=v.Ryn({DATABASE_URL:v.Z_8().url("Invalid database URL"),REDIS_URL:v.Z_8().url("Invalid Redis URL").optional(),JWT_SECRET:v.Z_8().min(32,"JWT secret must be at least 32 characters"),NEXTAUTH_SECRET:v.Z_8().min(32,"NextAuth secret must be at least 32 characters").optional(),NEXTAUTH_URL:v.Z_8().url("Invalid NextAuth URL").optional(),STRIPE_SECRET_KEY:v.Z_8().startsWith("sk_","Invalid Stripe secret key").optional(),STRIPE_PUBLISHABLE_KEY:v.Z_8().startsWith("pk_","Invalid Stripe publishable key").optional(),STRIPE_WEBHOOK_SECRET:v.Z_8().optional(),RAZORPAY_KEY_ID:v.Z_8().optional(),RAZORPAY_KEY_SECRET:v.Z_8().optional(),RAZORPAY_WEBHOOK_SECRET:v.Z_8().optional(),WEBHOOK_SECRET:v.Z_8().min(32,"Webhook secret must be at least 32 characters"),FACEBOOK_APP_ID:v.Z_8().optional(),FACEBOOK_APP_SECRET:v.Z_8().optional(),FACEBOOK_PAGE_CONFIG_ID:v.Z_8().optional(),INSTAGRAM_CONFIG_ID:v.Z_8().optional(),GOOGLE_CLIENT_ID:v.Z_8().optional(),GOOGLE_CLIENT_SECRET:v.Z_8().optional(),EVENTBRITE_CLIENT_ID:v.Z_8().optional(),EVENTBRITE_CLIENT_SECRET:v.Z_8().optional(),MEETUP_CLIENT_ID:v.Z_8().optional(),MEETUP_CLIENT_SECRET:v.Z_8().optional(),OAUTH_REDIRECT_BASE:v.Z_8().url("Invalid OAuth redirect base URL").optional(),GRAPH_API_BASE:v.Z_8().url("Invalid Graph API base URL").default("https://graph.facebook.com"),GOOGLE_BUSINESS_API_BASE:v.Z_8().url("Invalid Google Business Profile API base URL").default("https://mybusiness.googleapis.com"),ENCRYPTION_KEY:v.Z_8().length(64,"Encryption key must be 64 hex characters (32 bytes)").optional(),FEATURE_REAL_PROVIDERS:v.Z_8().transform(e=>"true"===e).default("false"),SMTP_HOST:v.Z_8().optional(),SMTP_PORT:v.Z_8().transform(Number).optional(),SMTP_USER:v.Z_8().optional(),SMTP_PASSWORD:v.Z_8().optional(),SMTP_FROM:v.Z_8().email("Invalid SMTP from email").optional(),TWILIO_ACCOUNT_SID:v.Z_8().optional(),TWILIO_AUTH_TOKEN:v.Z_8().optional(),TWILIO_PHONE_NUMBER:v.Z_8().optional(),AWS_ACCESS_KEY_ID:v.Z_8().optional(),AWS_SECRET_ACCESS_KEY:v.Z_8().optional(),AWS_REGION:v.Z_8().optional(),AWS_S3_BUCKET:v.Z_8().optional(),SENTRY_DSN:v.Z_8().url("Invalid Sentry DSN").optional(),NODE_ENV:v.KmV(["development","production","test"]).default("development"),PORT:v.Z_8().transform(Number).default("3000")}),y=(()=>{if("true"===process.env.SKIP_ENV_VALIDATION)return{DATABASE_URL:process.env.DATABASE_URL||"postgresql://dummy:dummy@localhost:5432/dummy",JWT_SECRET:process.env.JWT_SECRET||"dummy-jwt-secret-key-minimum-32-characters-long",WEBHOOK_SECRET:process.env.WEBHOOK_SECRET||"dummy-webhook-secret-key-minimum-32-characters-long",NODE_ENV:"production",PORT:process.env.PORT||"3000",FEATURE_REAL_PROVIDERS:!1,GRAPH_API_BASE:"https://graph.facebook.com",GOOGLE_BUSINESS_API_BASE:"https://mybusiness.googleapis.com"};try{return b.parse(process.env)}catch(e){if(e instanceof v.jmq&&e.errors){let t=e.errors.filter(e=>"invalid_type"===e.code&&"undefined"===e.received).map(e=>e.path.join(".")),n=e.errors.filter(e=>"invalid_type"!==e.code).map(e=>`${e.path.join(".")}: ${e.message}`),a="Environment validation failed:\n";throw t.length>0&&(a+=`
Missing required variables:
${t.map(e=>`  - ${e}`).join("\n")}`),n.length>0&&(a+=`
Invalid variables:
${n.map(e=>`  - ${e}`).join("\n")}`),Error(a)}throw e}})();y.NODE_ENV,y.NODE_ENV,y.NODE_ENV;var w=n(44976),j=n(10119),E=n(82561),N=n(48051),T=n(93095),C=n(825),R=n(88957),_=n(17103),k=n(83078),O=n(9815),S=n(45226),A=n(34214),D=n(52067),P=n(6009),[M,I]=(0,T.b)("Tooltip",[_.D7]),$=(0,_.D7)(),L="TooltipProvider",Z="tooltip.open",[z,B]=M(L),F=e=>{let{__scopeTooltip:t,delayDuration:n=700,skipDelayDuration:a=300,disableHoverableContent:i=!1,children:o}=e,l=s.useRef(!0),d=s.useRef(!1),c=s.useRef(0);return s.useEffect(()=>{let e=c.current;return()=>window.clearTimeout(e)},[]),(0,r.jsx)(z,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:s.useCallback(()=>{window.clearTimeout(c.current),l.current=!1},[]),onClose:s.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>l.current=!0,a)},[a]),isPointerInTransitRef:d,onPointerInTransitChange:s.useCallback(e=>{d.current=e},[]),disableHoverableContent:i,children:o})};F.displayName=L;var U="Tooltip",[V,W]=M(U),q=e=>{let{__scopeTooltip:t,children:n,open:a,defaultOpen:i,onOpenChange:o,disableHoverableContent:l,delayDuration:d}=e,c=B(U,e.__scopeTooltip),u=$(t),[m,p]=s.useState(null),h=(0,R.M)(),f=s.useRef(0),x=l??c.disableHoverableContent,g=d??c.delayDuration,v=s.useRef(!1),[b,y]=(0,D.T)({prop:a,defaultProp:i??!1,onChange:e=>{e?(c.onOpen(),document.dispatchEvent(new CustomEvent(Z))):c.onClose(),o?.(e)},caller:U}),w=s.useMemo(()=>b?v.current?"delayed-open":"instant-open":"closed",[b]),j=s.useCallback(()=>{window.clearTimeout(f.current),f.current=0,v.current=!1,y(!0)},[y]),E=s.useCallback(()=>{window.clearTimeout(f.current),f.current=0,y(!1)},[y]),N=s.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{v.current=!0,y(!0),f.current=0},g)},[g,y]);return s.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),(0,r.jsx)(_.fC,{...u,children:(0,r.jsx)(V,{scope:t,contentId:h,open:b,stateAttribute:w,trigger:m,onTriggerChange:p,onTriggerEnter:s.useCallback(()=>{c.isOpenDelayedRef.current?N():j()},[c.isOpenDelayedRef,N,j]),onTriggerLeave:s.useCallback(()=>{x?E():(window.clearTimeout(f.current),f.current=0)},[E,x]),onOpen:j,onClose:E,disableHoverableContent:x,children:n})})};q.displayName=U;var Y="TooltipTrigger",K=s.forwardRef((e,t)=>{let{__scopeTooltip:n,...a}=e,i=W(Y,n),o=B(Y,n),l=$(n),d=s.useRef(null),c=(0,N.e)(t,d,i.onTriggerChange),u=s.useRef(!1),m=s.useRef(!1),p=s.useCallback(()=>u.current=!1,[]);return s.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),(0,r.jsx)(_.ee,{asChild:!0,...l,children:(0,r.jsx)(S.WV.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...a,ref:c,onPointerMove:(0,E.Mj)(e.onPointerMove,e=>{"touch"===e.pointerType||m.current||o.isPointerInTransitRef.current||(i.onTriggerEnter(),m.current=!0)}),onPointerLeave:(0,E.Mj)(e.onPointerLeave,()=>{i.onTriggerLeave(),m.current=!1}),onPointerDown:(0,E.Mj)(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:(0,E.Mj)(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:(0,E.Mj)(e.onBlur,i.onClose),onClick:(0,E.Mj)(e.onClick,i.onClose)})})});K.displayName=Y;var H="TooltipPortal",[G,X]=M(H,{forceMount:void 0}),J=e=>{let{__scopeTooltip:t,forceMount:n,children:a,container:s}=e,i=W(H,t);return(0,r.jsx)(G,{scope:t,forceMount:n,children:(0,r.jsx)(O.z,{present:n||i.open,children:(0,r.jsx)(k.h,{asChild:!0,container:s,children:a})})})};J.displayName=H;var Q="TooltipContent",ee=s.forwardRef((e,t)=>{let n=X(Q,e.__scopeTooltip),{forceMount:a=n.forceMount,side:s="top",...i}=e,o=W(Q,e.__scopeTooltip);return(0,r.jsx)(O.z,{present:a||o.open,children:o.disableHoverableContent?(0,r.jsx)(es,{side:s,...i,ref:t}):(0,r.jsx)(et,{side:s,...i,ref:t})})}),et=s.forwardRef((e,t)=>{let n=W(Q,e.__scopeTooltip),a=B(Q,e.__scopeTooltip),i=s.useRef(null),o=(0,N.e)(t,i),[l,d]=s.useState(null),{trigger:c,onClose:u}=n,m=i.current,{onPointerInTransitChange:p}=a,h=s.useCallback(()=>{d(null),p(!1)},[p]),f=s.useCallback((e,t)=>{let n=e.currentTarget,a={x:e.clientX,y:e.clientY},r=function(e,t){let n=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,a,r,s)){case s:return"left";case r:return"right";case n:return"top";case a:return"bottom";default:throw Error("unreachable")}}(a,n.getBoundingClientRect());d(function(e){let t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();let t=[];for(let n=0;n<e.length;n++){let a=e[n];for(;t.length>=2;){let e=t[t.length-1],n=t[t.length-2];if((e.x-n.x)*(a.y-n.y)>=(e.y-n.y)*(a.x-n.x))t.pop();else break}t.push(a)}t.pop();let n=[];for(let t=e.length-1;t>=0;t--){let a=e[t];for(;n.length>=2;){let e=n[n.length-1],t=n[n.length-2];if((e.x-t.x)*(a.y-t.y)>=(e.y-t.y)*(a.x-t.x))n.pop();else break}n.push(a)}return(n.pop(),1===t.length&&1===n.length&&t[0].x===n[0].x&&t[0].y===n[0].y)?t:t.concat(n)}(t)}([...function(e,t,n=5){let a=[];switch(t){case"top":a.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":a.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":a.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":a.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n})}return a}(a,r),...function(e){let{top:t,right:n,bottom:a,left:r}=e;return[{x:r,y:t},{x:n,y:t},{x:n,y:a},{x:r,y:a}]}(t.getBoundingClientRect())])),p(!0)},[p]);return s.useEffect(()=>()=>h(),[h]),s.useEffect(()=>{if(c&&m){let e=e=>f(e,m),t=e=>f(e,c);return c.addEventListener("pointerleave",e),m.addEventListener("pointerleave",t),()=>{c.removeEventListener("pointerleave",e),m.removeEventListener("pointerleave",t)}}},[c,m,f,h]),s.useEffect(()=>{if(l){let e=e=>{let t=e.target,n={x:e.clientX,y:e.clientY},a=c?.contains(t)||m?.contains(t),r=!function(e,t){let{x:n,y:a}=e,r=!1;for(let e=0,s=t.length-1;e<t.length;s=e++){let i=t[e],o=t[s],l=i.x,d=i.y,c=o.x,u=o.y;d>a!=u>a&&n<(c-l)*(a-d)/(u-d)+l&&(r=!r)}return r}(n,l);a?h():r&&(h(),u())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[c,m,l,u,h]),(0,r.jsx)(es,{...e,ref:o})}),[en,ea]=M(U,{isInside:!1}),er=(0,A.sA)("TooltipContent"),es=s.forwardRef((e,t)=>{let{__scopeTooltip:n,children:a,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:l,...d}=e,c=W(Q,n),u=$(n),{onClose:m}=c;return s.useEffect(()=>(document.addEventListener(Z,m),()=>document.removeEventListener(Z,m)),[m]),s.useEffect(()=>{if(c.trigger){let e=e=>{let t=e.target;t?.contains(c.trigger)&&m()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[c.trigger,m]),(0,r.jsx)(C.XB,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:e=>e.preventDefault(),onDismiss:m,children:(0,r.jsxs)(_.VY,{"data-state":c.stateAttribute,...u,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,r.jsx)(er,{children:a}),(0,r.jsx)(en,{scope:n,isInside:!0,children:(0,r.jsx)(P.fC,{id:c.contentId,role:"tooltip",children:i||a})})]})})});ee.displayName=Q;var ei="TooltipArrow",eo=s.forwardRef((e,t)=>{let{__scopeTooltip:n,...a}=e,s=$(n);return ea(ei,n).isInside?null:(0,r.jsx)(_.Eh,{...s,...a,ref:t})});function el({delayDuration:e=0,...t}){return r.jsx(F,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function ed({...e}){return r.jsx(el,{children:r.jsx(q,{"data-slot":"tooltip",...e})})}function ec({...e}){return r.jsx(K,{"data-slot":"tooltip-trigger",...e})}function eu({className:e,sideOffset:t=0,children:n,...a}){return r.jsx(J,{children:(0,r.jsxs)(ee,{"data-slot":"tooltip-content",sideOffset:t,className:(0,p.cn)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...a,children:[n,r.jsx(eo,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}eo.displayName=ei;var em=n(62288),ep=n(43810),eh=n(7027),ef=n(21405),ex=n(12978),eg=n(37358);let ev=(0,n(62881).Z)("unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);var eb=n(39925);function ey(e){if(!e)return"Never";let t=Math.floor(Math.floor((new Date().getTime()-e.getTime())/1e3)/60),n=Math.floor(t/60),a=Math.floor(n/24);return a>0?`${a}d ago`:n>0?`${n}h ago`:t>0?`${t}m ago`:"Just now"}var ew=n(85999);function ej({account:e,businessId:t}){let[n,a]=(0,s.useState)(!1),i=(0,w.NL)(),l=y.FEATURE_REAL_PROVIDERS,u=(0,j.D)({mutationFn:async e=>{let n=await fetch("/api/integrations/reconnect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({businessId:t,provider:e})});if(!n.ok)throw Error("Failed to generate reconnect URL");return n.json()},onSuccess:e=>{window.location.href=e.reconnectUrl},onError:e=>{ew.Am.error("Failed to reconnect account",e.message)}}),m=(0,j.D)({mutationFn:async e=>{let t=await fetch("/api/integrations/disconnect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accountId:e})});if(!t.ok)throw Error("Failed to disconnect account");return t.json()},onSuccess:()=>{i.invalidateQueries({queryKey:g.integrations.accounts(t)}),ew.Am.success("Account disconnected successfully"),a(!1)},onError:e=>{ew.Am.error("Failed to disconnect account",e.message)}}),p=(0,j.D)({mutationFn:async e=>{let t=await fetch("/api/integrations/refresh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accountId:e})});if(!t.ok)throw Error("Failed to refresh token");return t.json()},onSuccess:()=>{i.invalidateQueries({queryKey:g.integrations.accounts(t)}),ew.Am.success("Token refreshed successfully")},onError:e=>{ew.Am.error("Failed to refresh token",e.message)}}),h=(0,j.D)({mutationFn:async e=>{let t=await fetch("/api/integrations/test-post",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accountId:e})});if(!t.ok)throw Error("Failed to send test post");return t.json()},onSuccess:()=>{i.invalidateQueries({queryKey:g.integrations.accounts(t)}),ew.Am.success("Test post sent successfully")},onError:e=>{ew.Am.error("Failed to send test post",e.message)}}),v=(0,j.D)({mutationFn:async e=>{let t=await fetch("/api/integrations/test-event",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accountId:e})});if(!t.ok)throw Error("Failed to send test event");return t.json()},onSuccess:()=>{i.invalidateQueries({queryKey:g.integrations.accounts(t)}),ew.Am.success("Test event sent successfully")},onError:e=>{ew.Am.error("Failed to send test event",e.message)}}),b=(0,eb.Q8)(e.provider),E=(0,eb.Ah)(e.provider),N=e.refreshToken&&"FACEBOOK_PAGE"!==e.provider&&"INSTAGRAM_BUSINESS"!==e.provider,T=(0,eb.H3)(e.provider),C=(0,eb.mh)(e.provider);return(0,r.jsxs)(o.Zb,{"data-testid":`integration-card-${e.provider.toLowerCase()}`,role:"group",children:[r.jsx(o.Ol,{className:"pb-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:E}),(0,r.jsxs)("div",{children:[r.jsx(o.ll,{className:"text-sm font-medium",children:b}),r.jsx("p",{className:"text-xs text-muted-foreground",children:e.accountName||e.accountId})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx(d.C,{className:`${(e=>{switch(e){case"CONNECTED":return"bg-green-500";case"EXPIRED":return"bg-yellow-500";case"ERROR":return"bg-red-500";default:return"bg-gray-500"}})(e.status)} text-white text-xs`,children:(e=>{switch(e){case"CONNECTED":return"Connected";case"EXPIRED":return"Expired";case"ERROR":return"Error";case"DISCONNECTED":return"Disconnected";default:return"Unknown"}})(e.status)}),r.jsx(el,{children:(0,r.jsxs)(ed,{children:[r.jsx(ec,{asChild:!0,children:r.jsx(c.z,{variant:"ghost",size:"sm",onClick:()=>{navigator.clipboard.writeText(e.id),ew.Am.success("Account ID copied to clipboard")},className:"h-6 w-6 p-0",children:r.jsx(ep.Z,{className:"h-3 w-3"})})}),r.jsx(eu,{children:r.jsx("p",{children:"Copy account ID"})})]})})]})]})}),(0,r.jsxs)(o.aY,{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Scopes:"}),r.jsx("span",{children:e.scopes?.length||0})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Expires:"}),r.jsx("span",{children:function(e){if(null===e)return"Never expires";if(e<=0)return"Expired";let t=Math.floor(e/86400),n=Math.floor(e%86400/3600),a=Math.floor(e%3600/60);return t>0?`${t}d ${n}h`:n>0?`${n}h ${a}m`:`${a}m`}(e.expiresInSec)})]}),e.lastSuccessAt&&(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Last success:"}),r.jsx("span",{children:ey(e.lastSuccessAt)})]}),e.lastErrorAt&&(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Last error:"}),r.jsx("span",{className:"text-red-500",children:ey(e.lastErrorAt)})]})]}),e.errorMessage&&r.jsx(f,{variant:"destructive",className:"py-2",children:r.jsx(x,{className:"text-xs",children:e.errorMessage})}),r.jsx("div",{className:"flex flex-wrap gap-1",children:"DISCONNECTED"===e.status?(0,r.jsxs)(c.z,{size:"sm",onClick:()=>u.mutate(e.provider.toLowerCase().replace("_","")),disabled:u.isPending,"data-testid":`btn-reconnect-${e.provider.toLowerCase()}`,children:[r.jsx(eh.Z,{className:"h-3 w-3 mr-1"}),"Connect"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(c.z,{size:"sm",variant:"outline",onClick:()=>u.mutate(e.provider.toLowerCase().replace("_","")),disabled:u.isPending,"data-testid":`btn-reconnect-${e.provider.toLowerCase()}`,children:[r.jsx(eh.Z,{className:"h-3 w-3 mr-1"}),"Reconnect"]}),N&&r.jsx(el,{children:(0,r.jsxs)(ed,{children:[r.jsx(ec,{asChild:!0,children:r.jsx(c.z,{size:"sm",variant:"outline",onClick:()=>p.mutate(e.id),disabled:p.isPending,"data-testid":`btn-refresh-${e.provider.toLowerCase()}`,children:r.jsx(ef.Z,{className:"h-3 w-3"})})}),r.jsx(eu,{children:r.jsx("p",{children:"Refresh token"})})]})}),T&&r.jsx(el,{children:(0,r.jsxs)(ed,{children:[r.jsx(ec,{asChild:!0,children:r.jsx(c.z,{size:"sm",variant:"outline",onClick:()=>h.mutate(e.id),disabled:h.isPending||!l,"data-testid":`btn-testpost-${e.provider.toLowerCase()}`,children:r.jsx(ex.Z,{className:"h-3 w-3"})})}),r.jsx(eu,{children:r.jsx("p",{children:l?"Send test post":"Real providers disabled"})})]})}),C&&r.jsx(el,{children:(0,r.jsxs)(ed,{children:[r.jsx(ec,{asChild:!0,children:r.jsx(c.z,{size:"sm",variant:"outline",onClick:()=>v.mutate(e.id),disabled:v.isPending||!l,"data-testid":`btn-testevent-${e.provider.toLowerCase()}`,children:r.jsx(eg.Z,{className:"h-3 w-3"})})}),r.jsx(eu,{children:r.jsx("p",{children:l?"Send test event":"Real providers disabled"})})]})}),(0,r.jsxs)(em.Vq,{open:n,onOpenChange:a,children:[r.jsx(em.hg,{asChild:!0,children:r.jsx(c.z,{size:"sm",variant:"outline","data-testid":`btn-disconnect-${e.provider.toLowerCase()}`,children:r.jsx(ev,{className:"h-3 w-3"})})}),(0,r.jsxs)(em.cZ,{children:[(0,r.jsxs)(em.fK,{children:[r.jsx(em.$N,{children:"Disconnect Account"}),(0,r.jsxs)(em.Be,{children:["Are you sure you want to disconnect this ",b," account? This will revoke access and stop all automated posting."]})]}),(0,r.jsxs)(em.cN,{children:[r.jsx(c.z,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),r.jsx(c.z,{variant:"destructive",onClick:()=>m.mutate(e.id),disabled:m.isPending,children:"Disconnect"})]})]})]})]})})]})]})}var eE=n(98958);let eN=s.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),eT=()=>{let e=s.useContext(eN);if(!e)throw Error("useDrawerContext must be used within a Drawer.Root");return e};function eC(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function eR(){return e_(/^iPhone/)||e_(/^iPad/)||e_(/^Mac/)&&navigator.maxTouchPoints>1}function e_(e){}!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}("[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(\n[data-state=closed]\n){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}");let ek=s.useEffect;function eO(...e){return(...t)=>{for(let n of e)"function"==typeof n&&n(...t)}}let eS="undefined"!=typeof document&&window.visualViewport;function eA(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function eD(e){for(eA(e)&&(e=e.parentElement);e&&!eA(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}let eP=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),eM=0;function eI(e,t,n,a){return e.addEventListener(t,n,a),()=>{e.removeEventListener(t,n,a)}}function e$(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let t=eD(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let n=t.getBoundingClientRect().top,a=e.getBoundingClientRect().top;e.getBoundingClientRect().bottom>t.getBoundingClientRect().bottom+24&&(t.scrollTop+=a-n)}e=t.parentElement}}function eL(e){return e instanceof HTMLInputElement&&!eP.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function eZ(...e){return s.useCallback(function(...e){return t=>e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}(...e),e)}let ez=new WeakMap;function eB(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let a={};Object.entries(t).forEach(([t,n])=>{if(t.startsWith("--")){e.style.setProperty(t,n);return}a[t]=e.style[t],e.style[t]=n}),n||ez.set(e,a)}let eF=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function eU(e,t){if(!e)return null;let n=window.getComputedStyle(e),a=n.transform||n.webkitTransform||n.mozTransform,r=a.match(/^matrix3d\((.+)\)$/);return r?parseFloat(r[1].split(", ")[eF(t)?13:12]):(r=a.match(/^matrix\((.+)\)$/))?parseFloat(r[1].split(", ")[eF(t)?5:4]):null}let eV={DURATION:.5,EASE:[.32,.72,0,1]},eW="vaul-dragging";function eq(e){let t=s.useRef(e);return s.useMemo(()=>(...e)=>null==t.current?void 0:t.current.call(t,...e),[])}function eY({prop:e,defaultProp:t,onChange:n=()=>{}}){let[a,r]=function({defaultProp:e,onChange:t}){let n=s.useState(e),[a]=n;return s.useRef(a),eq(t),n}({defaultProp:t,onChange:n}),i=void 0!==e,o=i?e:a,l=eq(n);return[o,s.useCallback(t=>{if(i){let n="function"==typeof t?t(e):t;n!==e&&l(n)}else r(t)},[i,e,r,l])]}let eK=null;function eH({open:e,onOpenChange:t,children:n,onDrag:r,onRelease:i,snapPoints:o,shouldScaleBackground:l=!1,setBackgroundColorOnScale:d=!0,closeThreshold:c=.25,scrollLockTimeout:u=100,dismissible:m=!0,handleOnly:p=!1,fadeFromIndex:h=o&&o.length-1,activeSnapPoint:f,setActiveSnapPoint:x,fixed:g,modal:v=!0,onClose:b,nested:y,noBodyStyles:w=!1,direction:j="bottom",defaultOpen:E=!1,disablePreventScroll:N=!0,snapToSequentialPoint:T=!1,preventScrollRestoration:C=!1,repositionInputs:R=!0,onAnimationEnd:_,container:k,autoFocus:O=!1}){var S,A;let[D=!1,P]=eY({defaultProp:E,prop:e,onChange:e=>{null==t||t(e),e||y||ed(),setTimeout(()=>{null==_||_(e)},1e3*eV.DURATION),e||(document.body.style.pointerEvents="auto")}}),[M,I]=s.useState(!1),[$,L]=s.useState(!1),[Z,z]=s.useState(!1),B=s.useRef(null),F=s.useRef(null),U=s.useRef(null),V=s.useRef(null),W=s.useRef(null),q=s.useRef(!1),Y=s.useRef(null),K=s.useRef(0),H=s.useRef(!1),G=s.useRef(!E);s.useRef(0);let X=s.useRef(null),J=s.useRef((null==(S=X.current)?void 0:S.getBoundingClientRect().height)||0),Q=s.useRef((null==(A=X.current)?void 0:A.getBoundingClientRect().width)||0);s.useRef(0);let ee=s.useCallback(e=>{o&&e===es.length-1&&(F.current=new Date)},[]),{activeSnapPoint:et,activeSnapPointIndex:en,setActiveSnapPoint:ea,onRelease:er,snapPointsOffset:es,onDrag:ei,shouldFade:eo,getPercentageDragged:el}=function({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:a,overlayRef:r,fadeFromIndex:i,onSnapPointChange:o,direction:l="bottom",container:d,snapToSequentialPoint:c}){let[u,m]=eY({prop:e,defaultProp:null==n?void 0:n[0],onChange:t}),[p,h]=s.useState(void 0),f=s.useMemo(()=>u===(null==n?void 0:n[n.length-1])||null,[n,u]),x=s.useMemo(()=>{var e;return null!=(e=null==n?void 0:n.findIndex(e=>e===u))?e:null},[n,u]),g=n&&n.length>0&&(i||0===i)&&!Number.isNaN(i)&&n[i]===u||!n,v=s.useMemo(()=>{var e;let t=d?{width:d.getBoundingClientRect().width,height:d.getBoundingClientRect().height}:{width:0,height:0};return null!=(e=null==n?void 0:n.map(e=>{let n="string"==typeof e,a=0;if(n&&(a=parseInt(e,10)),eF(l)){let r=n?a:p?e*t.height:0;return p?"bottom"===l?t.height-r:-t.height+r:r}let r=n?a:p?e*t.width:0;return p?"right"===l?t.width-r:-t.width+r:r}))?e:[]},[n,p,d]),b=s.useMemo(()=>null!==x?null==v?void 0:v[x]:null,[v,x]),y=s.useCallback(e=>{var t;let s=null!=(t=null==v?void 0:v.findIndex(t=>t===e))?t:null;o(s),eB(a.current,{transition:`transform ${eV.DURATION}s cubic-bezier(${eV.EASE.join(",")})`,transform:eF(l)?`translate3d(0, ${e}px, 0)`:`translate3d(${e}px, 0, 0)`}),v&&s!==v.length-1&&void 0!==i&&s!==i&&s<i?eB(r.current,{transition:`opacity ${eV.DURATION}s cubic-bezier(${eV.EASE.join(",")})`,opacity:"0"}):eB(r.current,{transition:`opacity ${eV.DURATION}s cubic-bezier(${eV.EASE.join(",")})`,opacity:"1"}),m(null==n?void 0:n[Math.max(s,0)])},[a.current,n,v,i,r,m]);return{isLastSnapPoint:f,activeSnapPoint:u,shouldFade:g,getPercentageDragged:function(e,t){if(!n||"number"!=typeof x||!v||void 0===i)return null;let a=x===i-1;if(x>=i&&t)return 0;if(a&&!t)return 1;if(!g&&!a)return null;let r=a?x+1:x-1,s=e/Math.abs(a?v[r]-v[r-1]:v[r+1]-v[r]);return a?1-s:s},setActiveSnapPoint:m,activeSnapPointIndex:x,onRelease:function({draggedDistance:e,closeDrawer:t,velocity:a,dismissible:s}){if(void 0===i)return;let o="bottom"===l||"right"===l?(null!=b?b:0)-e:(null!=b?b:0)+e,d=x===i-1,u=0===x,m=e>0;if(d&&eB(r.current,{transition:`opacity ${eV.DURATION}s cubic-bezier(${eV.EASE.join(",")})`}),!c&&a>2&&!m){s?t():y(v[0]);return}if(!c&&a>2&&m&&v&&n){y(v[n.length-1]);return}let p=null==v?void 0:v.reduce((e,t)=>"number"!=typeof e||"number"!=typeof t?e:Math.abs(t-o)<Math.abs(e-o)?t:e),h=eF(l)?window.innerHeight:window.innerWidth;if(a>.4&&Math.abs(e)<.4*h){let e=m?1:-1;if(e>0&&f&&n){y(v[n.length-1]);return}if(u&&e<0&&s&&t(),null===x)return;y(v[x+e]);return}y(p)},onDrag:function({draggedDistance:e}){if(null===b)return;let t="bottom"===l||"right"===l?b-e:b+e;("bottom"===l||"right"===l)&&t<v[v.length-1]||("top"===l||"left"===l)&&t>v[v.length-1]||eB(a.current,{transform:eF(l)?`translate3d(0, ${t}px, 0)`:`translate3d(${t}px, 0, 0)`})},snapPointsOffset:v}}({snapPoints:o,activeSnapPointProp:f,setActiveSnapPointProp:x,drawerRef:X,fadeFromIndex:h,overlayRef:B,onSnapPointChange:ee,direction:j,container:k,snapToSequentialPoint:T});!function(e={}){let{isDisabled:t}=e;ek(()=>{if(!t){var e,n,r;let t,s,i,o,l,d,c;return 1==++eM&&eR()&&(i=0,o=window.pageXOffset,l=window.pageYOffset,d=eO((e=document.documentElement,n="paddingRight",r=`${window.innerWidth-document.documentElement.clientWidth}px`,s=e.style[n],e.style[n]=r,()=>{e.style[n]=s})),window.scrollTo(0,0),c=eO(eI(document,"touchstart",e=>{((t=eD(e.target))!==document.documentElement||t!==document.body)&&(i=e.changedTouches[0].pageY)},{passive:!1,capture:!0}),eI(document,"touchmove",e=>{if(!t||t===document.documentElement||t===document.body){e.preventDefault();return}let n=e.changedTouches[0].pageY,a=t.scrollTop,r=t.scrollHeight-t.clientHeight;0!==r&&((a<=0&&n>i||a>=r&&n<i)&&e.preventDefault(),i=n)},{passive:!1,capture:!0}),eI(document,"touchend",e=>{let t=e.target;eL(t)&&t!==document.activeElement&&(e.preventDefault(),t.style.transform="translateY(-2000px)",t.focus(),requestAnimationFrame(()=>{t.style.transform=""}))},{passive:!1,capture:!0}),eI(document,"focus",e=>{let t=e.target;eL(t)&&(t.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{t.style.transform="",eS&&(eS.height<window.innerHeight?requestAnimationFrame(()=>{e$(t)}):eS.addEventListener("resize",()=>e$(t),{once:!0}))}))},!0),eI(window,"scroll",()=>{window.scrollTo(0,0)})),a=()=>{d(),c(),window.scrollTo(o,l)}),()=>{0==--eM&&(null==a||a())}}},[t])}({isDisabled:!D||$||!v||Z||!M||!R||!N});let{restorePositionSetting:ed}=function({isOpen:e,modal:t,nested:n,hasBeenOpened:a,preventScrollRestoration:r,noBodyStyles:i}){let[o,l]=s.useState(()=>""),d=s.useRef(0);return s.useCallback(()=>{if(eC()&&null===eK&&e&&!i){eK={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};let{scrollX:e,innerHeight:t}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-d.current}px`,left:`${-e}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{let e=t-window.innerHeight;e&&d.current>=t&&(document.body.style.top=`${-(d.current+e)}px`)}),300)}},[e]),{restorePositionSetting:s.useCallback(()=>{if(eC()&&null!==eK&&!i){let e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);Object.assign(document.body.style,eK),window.requestAnimationFrame(()=>{if(r&&o!==window.location.href){l(window.location.href);return}window.scrollTo(t,e)}),eK=null}},[o])}}({isOpen:D,modal:v,nested:null!=y&&y,hasBeenOpened:M,preventScrollRestoration:C,noBodyStyles:w});function ec(){return(window.innerWidth-26)/window.innerWidth}function eu(e,t){var n;let a=e,r=null==(n=window.getSelection())?void 0:n.toString(),s=X.current?eU(X.current,j):null,i=new Date;if("SELECT"===a.tagName||a.hasAttribute("data-vaul-no-drag")||a.closest("[data-vaul-no-drag]"))return!1;if("right"===j||"left"===j)return!0;if(F.current&&i.getTime()-F.current.getTime()<500)return!1;if(null!==s&&("bottom"===j?s>0:s<0))return!0;if(r&&r.length>0)return!1;if(W.current&&i.getTime()-W.current.getTime()<u&&0===s||t)return W.current=i,!1;for(;a;){if(a.scrollHeight>a.clientHeight){if(0!==a.scrollTop)return W.current=new Date,!1;if("dialog"===a.getAttribute("role"))break}a=a.parentNode}return!0}function em(e){$&&X.current&&(X.current.classList.remove(eW),q.current=!1,L(!1),V.current=new Date),null==b||b(),e||P(!1),setTimeout(()=>{o&&ea(o[0])},1e3*eV.DURATION)}function ep(){if(!X.current)return;let e=document.querySelector("[data-vaul-drawer-wrapper]"),t=eU(X.current,j);eB(X.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${eV.DURATION}s cubic-bezier(${eV.EASE.join(",")})`}),eB(B.current,{transition:`opacity ${eV.DURATION}s cubic-bezier(${eV.EASE.join(",")})`,opacity:"1"}),l&&t&&t>0&&D&&eB(e,{borderRadius:"8px",overflow:"hidden",...eF(j)?{transform:`scale(${ec()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${ec()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${eV.DURATION}s`,transitionTimingFunction:`cubic-bezier(${eV.EASE.join(",")})`},!0)}return s.createElement(eE.fC,{defaultOpen:E,onOpenChange:e=>{(m||e)&&(e?I(!0):em(!0),P(e))},open:D},s.createElement(eN.Provider,{value:{activeSnapPoint:et,snapPoints:o,setActiveSnapPoint:ea,drawerRef:X,overlayRef:B,onOpenChange:t,onPress:function(e){var t,n;(m||o)&&(!X.current||X.current.contains(e.target))&&(J.current=(null==(t=X.current)?void 0:t.getBoundingClientRect().height)||0,Q.current=(null==(n=X.current)?void 0:n.getBoundingClientRect().width)||0,L(!0),U.current=new Date,eR()&&window.addEventListener("touchend",()=>q.current=!1,{once:!0}),e.target.setPointerCapture(e.pointerId),K.current=eF(j)?e.pageY:e.pageX)},onRelease:function(e){var t,n;if(!$||!X.current)return;X.current.classList.remove(eW),q.current=!1,L(!1),V.current=new Date;let a=eU(X.current,j);if(!e||!eu(e.target,!1)||!a||Number.isNaN(a)||null===U.current)return;let r=V.current.getTime()-U.current.getTime(),s=K.current-(eF(j)?e.pageY:e.pageX),l=Math.abs(s)/r;if(l>.05&&(z(!0),setTimeout(()=>{z(!1)},200)),o){er({draggedDistance:s*("bottom"===j||"right"===j?1:-1),closeDrawer:em,velocity:l,dismissible:m}),null==i||i(e,!0);return}if("bottom"===j||"right"===j?s>0:s<0){ep(),null==i||i(e,!0);return}if(l>.4){em(),null==i||i(e,!1);return}let d=Math.min(null!=(t=X.current.getBoundingClientRect().height)?t:0,window.innerHeight),u=Math.min(null!=(n=X.current.getBoundingClientRect().width)?n:0,window.innerWidth);if(Math.abs(a)>=("left"===j||"right"===j?u:d)*c){em(),null==i||i(e,!1);return}null==i||i(e,!0),ep()},onDrag:function(e){if(X.current&&$){let t="bottom"===j||"right"===j?1:-1,n=(K.current-(eF(j)?e.pageY:e.pageX))*t,a=n>0,s=o&&!m&&!a;if(s&&0===en)return;let i=Math.abs(n),d=document.querySelector("[data-vaul-drawer-wrapper]"),c=i/("bottom"===j||"top"===j?J.current:Q.current),u=el(i,a);if(null!==u&&(c=u),s&&c>=1||!q.current&&!eu(e.target,a))return;if(X.current.classList.add(eW),q.current=!0,eB(X.current,{transition:"none"}),eB(B.current,{transition:"none"}),o&&ei({draggedDistance:n}),a&&!o){let e=Math.min(-(8*(Math.log(n+1)-2)*1),0)*t;eB(X.current,{transform:eF(j)?`translate3d(0, ${e}px, 0)`:`translate3d(${e}px, 0, 0)`});return}let p=1-c;if((eo||h&&en===h-1)&&(null==r||r(e,c),eB(B.current,{opacity:`${p}`,transition:"none"},!0)),d&&B.current&&l){let e=Math.min(ec()+c*(1-ec()),1),t=8-8*c,n=Math.max(0,14-14*c);eB(d,{borderRadius:`${t}px`,transform:eF(j)?`scale(${e}) translate3d(0, ${n}px, 0)`:`scale(${e}) translate3d(${n}px, 0, 0)`,transition:"none"},!0)}if(!o){let e=i*t;eB(X.current,{transform:eF(j)?`translate3d(0, ${e}px, 0)`:`translate3d(${e}px, 0, 0)`})}}},dismissible:m,shouldAnimate:G,handleOnly:p,isOpen:D,isDragging:$,shouldFade:eo,closeDrawer:em,onNestedDrag:function(e,t){if(t<0)return;let n=(window.innerWidth-16)/window.innerWidth,a=n+t*(1-n),r=-16+16*t;eB(X.current,{transform:eF(j)?`scale(${a}) translate3d(0, ${r}px, 0)`:`scale(${a}) translate3d(${r}px, 0, 0)`,transition:"none"})},onNestedOpenChange:function(e){let t=e?(window.innerWidth-16)/window.innerWidth:1,n=e?-16:0;Y.current&&window.clearTimeout(Y.current),eB(X.current,{transition:`transform ${eV.DURATION}s cubic-bezier(${eV.EASE.join(",")})`,transform:eF(j)?`scale(${t}) translate3d(0, ${n}px, 0)`:`scale(${t}) translate3d(${n}px, 0, 0)`}),!e&&X.current&&(Y.current=setTimeout(()=>{let e=eU(X.current,j);eB(X.current,{transition:"none",transform:eF(j)?`translate3d(0, ${e}px, 0)`:`translate3d(${e}px, 0, 0)`})},500))},onNestedRelease:function(e,t){let n=eF(j)?window.innerHeight:window.innerWidth,a=t?(n-16)/n:1,r=t?-16:0;t&&eB(X.current,{transition:`transform ${eV.DURATION}s cubic-bezier(${eV.EASE.join(",")})`,transform:eF(j)?`scale(${a}) translate3d(0, ${r}px, 0)`:`scale(${a}) translate3d(${r}px, 0, 0)`})},keyboardIsOpen:H,modal:v,snapPointsOffset:es,activeSnapPointIndex:en,direction:j,shouldScaleBackground:l,setBackgroundColorOnScale:d,noBodyStyles:w,container:k,autoFocus:O}},n))}let eG=s.forwardRef(function({...e},t){let{overlayRef:n,snapPoints:a,onRelease:r,shouldFade:i,isOpen:o,modal:l,shouldAnimate:d}=eT(),c=eZ(t,n),u=a&&a.length>0;if(!l)return null;let m=s.useCallback(e=>r(e),[r]);return s.createElement(eE.aV,{onMouseUp:m,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":o&&u?"true":"false","data-vaul-snap-points-overlay":o&&i?"true":"false","data-vaul-animate":(null==d?void 0:d.current)?"true":"false",...e})});eG.displayName="Drawer.Overlay";let eX=s.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...a},r){let{drawerRef:i,onPress:o,onRelease:l,onDrag:d,keyboardIsOpen:c,snapPointsOffset:u,activeSnapPointIndex:m,modal:p,isOpen:h,direction:f,snapPoints:x,container:g,handleOnly:v,shouldAnimate:b,autoFocus:y}=eT(),[w,j]=s.useState(!1),E=eZ(r,i),N=s.useRef(null),T=s.useRef(null),C=s.useRef(!1),R=x&&x.length>0;!function(){let{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:a,noBodyStyles:r}=eT();s.useRef(null),(0,s.useMemo)(()=>document.body.style.backgroundColor,[])}();let _=(e,t,n=0)=>{if(C.current)return!0;let a=Math.abs(e.y),r=Math.abs(e.x),s=r>a,i=["bottom","right"].includes(t)?1:-1;if("left"===t||"right"===t){if(!(e.x*i<0)&&r>=0&&r<=n)return s}else if(!(e.y*i<0)&&a>=0&&a<=n)return!s;return C.current=!0,!0};function k(e){N.current=null,C.current=!1,l(e)}return s.useEffect(()=>{R&&window.requestAnimationFrame(()=>{j(!0)})},[]),s.createElement(eE.VY,{"data-vaul-drawer-direction":f,"data-vaul-drawer":"","data-vaul-delayed-snap-points":w?"true":"false","data-vaul-snap-points":h&&R?"true":"false","data-vaul-custom-container":g?"true":"false","data-vaul-animate":(null==b?void 0:b.current)?"true":"false",...a,ref:E,style:u&&u.length>0?{"--snap-point-height":`${u[null!=m?m:0]}px`,...t}:t,onPointerDown:e=>{v||(null==a.onPointerDown||a.onPointerDown.call(a,e),N.current={x:e.pageX,y:e.pageY},o(e))},onOpenAutoFocus:e=>{null==n||n(e),y||e.preventDefault()},onPointerDownOutside:t=>{if(null==e||e(t),!p||t.defaultPrevented){t.preventDefault();return}c.current&&(c.current=!1)},onFocusOutside:e=>{if(!p){e.preventDefault();return}},onPointerMove:e=>{if(T.current=e,v||(null==a.onPointerMove||a.onPointerMove.call(a,e),!N.current))return;let t=e.pageY-N.current.y,n=e.pageX-N.current.x,r="touch"===e.pointerType?10:2;_({x:n,y:t},f,r)?d(e):(Math.abs(n)>r||Math.abs(t)>r)&&(N.current=null)},onPointerUp:e=>{null==a.onPointerUp||a.onPointerUp.call(a,e),N.current=null,C.current=!1,l(e)},onPointerOut:e=>{null==a.onPointerOut||a.onPointerOut.call(a,e),k(T.current)},onContextMenu:e=>{null==a.onContextMenu||a.onContextMenu.call(a,e),T.current&&k(T.current)}})});eX.displayName="Drawer.Content";let eJ=s.forwardRef(function({preventCycle:e=!1,children:t,...n},a){let{closeDrawer:r,isDragging:i,snapPoints:o,activeSnapPoint:l,setActiveSnapPoint:d,dismissible:c,handleOnly:u,isOpen:m,onPress:p,onDrag:h}=eT(),f=s.useRef(null),x=s.useRef(!1);function g(){f.current&&window.clearTimeout(f.current),x.current=!1}return s.createElement("div",{onClick:function(){if(x.current){g();return}window.setTimeout(()=>{(function(){if(i||e||x.current){g();return}if(g(),!o||0===o.length){c||r();return}if(l===o[o.length-1]&&c){r();return}let t=o.findIndex(e=>e===l);-1!==t&&d(o[t+1])})()},120)},onPointerCancel:g,onPointerDown:e=>{u&&p(e),f.current=window.setTimeout(()=>{x.current=!0},250)},onPointerMove:e=>{u&&h(e)},ref:a,"data-vaul-drawer-visible":m?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},s.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});eJ.displayName="Drawer.Handle";let eQ={Root:eH,NestedRoot:function({onDrag:e,onOpenChange:t,open:n,...a}){let{onNestedDrag:r,onNestedOpenChange:i,onNestedRelease:o}=eT();if(!r)throw Error("Drawer.NestedRoot must be placed in another drawer");return s.createElement(eH,{nested:!0,open:n,onClose:()=>{i(!1)},onDrag:(t,n)=>{r(t,n),null==e||e(t,n)},onOpenChange:e=>{e&&i(e),null==t||t(e)},onRelease:o,...a})},Content:eX,Overlay:eG,Trigger:eE.xz,Portal:function(e){let t=eT(),{container:n=t.container,...a}=e;return s.createElement(eE.h_,{container:n,...a})},Handle:eJ,Close:eE.x8,Title:eE.Dx,Description:eE.dk};function e0({...e}){return r.jsx(eQ.Root,{"data-slot":"drawer",...e})}function e1({...e}){return r.jsx(eQ.Trigger,{"data-slot":"drawer-trigger",...e})}function e2({...e}){return r.jsx(eQ.Portal,{"data-slot":"drawer-portal",...e})}function e3({className:e,...t}){return r.jsx(eQ.Overlay,{"data-slot":"drawer-overlay",className:(0,p.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function e5({className:e,children:t,...n}){return(0,r.jsxs)(e2,{"data-slot":"drawer-portal",children:[r.jsx(e3,{}),(0,r.jsxs)(eQ.Content,{"data-slot":"drawer-content",className:(0,p.cn)("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",e),...n,children:[r.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),t]})]})}function e8({className:e,...t}){return r.jsx("div",{"data-slot":"drawer-header",className:(0,p.cn)("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",e),...t})}function e4({className:e,...t}){return r.jsx(eQ.Title,{"data-slot":"drawer-title",className:(0,p.cn)("text-foreground font-semibold",e),...t})}var e7=n(15940),e6=n(34474),e9=n(69561),te=n(12714);function tt({logs:e}){let[t,n]=(0,s.useState)(null),[a,i]=(0,s.useState)("all"),l=e.filter(e=>"all"===a||e.type===a),u=e=>{if("number"==typeof e){if(e>=200&&e<300)return"bg-green-500";if(e>=400&&e<500)return"bg-yellow-500";if(e>=500)return"bg-red-500"}return"bg-gray-500"},m=e=>"number"==typeof e?e.toString():e,p=e=>"webhook"===e.type?e.eventType:e.action,h=e=>"webhook"===e.type?`Webhook ${e.endpointId||"Unknown"}`:`${e.entityType} ${e.entityId}`,f=e=>"webhook"===e.type?"System":`${e.actorType} ${e.actorId}`;return(0,r.jsxs)(o.Zb,{"data-testid":"logs-table",children:[r.jsx(o.Ol,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx(o.ll,{children:"Integration Logs"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(e9.Z,{className:"h-4 w-4"}),(0,r.jsxs)(e6.Ph,{value:a,onValueChange:i,children:[r.jsx(e6.i4,{className:"w-32","data-testid":"logs-filter-type",children:r.jsx(e6.ki,{})}),(0,r.jsxs)(e6.Bw,{children:[r.jsx(e6.Ql,{value:"all",children:"All"}),r.jsx(e6.Ql,{value:"webhook",children:"Webhook"}),r.jsx(e6.Ql,{value:"audit",children:"Audit"})]})]})]})]})}),r.jsx(o.aY,{children:0===l.length?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No logs found"}):(0,r.jsxs)(e7.iA,{children:[r.jsx(e7.xD,{children:(0,r.jsxs)(e7.SC,{children:[r.jsx(e7.ss,{children:"Time"}),r.jsx(e7.ss,{children:"Type"}),r.jsx(e7.ss,{children:"Action"}),r.jsx(e7.ss,{children:"Entity"}),r.jsx(e7.ss,{children:"Status"}),r.jsx(e7.ss,{children:"Actor"}),r.jsx(e7.ss,{children:"Actions"})]})}),r.jsx(e7.RM,{children:l.map(e=>(0,r.jsxs)(e7.SC,{children:[r.jsx(e7.pj,{className:"text-sm",children:ey(new Date(e.createdAt))}),r.jsx(e7.pj,{children:r.jsx(d.C,{variant:"outline",className:"text-xs",children:e.type})}),r.jsx(e7.pj,{className:"text-sm",children:p(e)}),r.jsx(e7.pj,{className:"text-sm",children:h(e)}),r.jsx(e7.pj,{children:r.jsx(d.C,{className:`${u(e.status)} text-white text-xs`,children:m(e.status)})}),r.jsx(e7.pj,{className:"text-sm",children:f(e)}),r.jsx(e7.pj,{children:(0,r.jsxs)(e0,{children:[r.jsx(e1,{asChild:!0,children:r.jsx(c.z,{variant:"ghost",size:"sm",onClick:()=>n(e),children:r.jsx(te.Z,{className:"h-4 w-4"})})}),(0,r.jsxs)(e5,{children:[r.jsx(e8,{children:(0,r.jsxs)(e4,{children:["webhook"===e.type?"Webhook Delivery":"Audit Log"," Details"]})}),(0,r.jsxs)("div",{className:"p-4 space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"ID"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e.id})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Created At"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(e.createdAt).toLocaleString()})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Type"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e.type})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Status"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:m(e.status)})]})]}),"webhook"===e.type?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Event Type"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e.eventType})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Duration"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.durationMs,"ms"]})]}),e.requestBody&&(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Request Body"}),r.jsx("pre",{className:"text-xs bg-muted p-2 rounded overflow-auto max-h-32",children:JSON.stringify(e.requestBody,null,2)})]}),e.responseBody&&(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Response Body"}),r.jsx("pre",{className:"text-xs bg-muted p-2 rounded overflow-auto max-h-32",children:JSON.stringify(e.responseBody,null,2)})]})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Action"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e.action})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Entity Type"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e.entityType})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Entity ID"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e.entityId})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Actor"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.actorType," (",e.actorId,")"]})]}),e.metadata&&(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Metadata"}),r.jsx("pre",{className:"text-xs bg-muted p-2 rounded overflow-auto max-h-32",children:JSON.stringify(e.metadata,null,2)})]})]})]})]})]})})]},e.id))})]})})]})}function tn(){let[e,t]=(0,s.useState)("connections"),n={id:"mock-user-id",email:"admin@tripfluence.com",firstName:"Admin",lastName:"User",businessId:"mock-business-id",isActive:!0,lastLoginAt:new Date}.businessId,{data:a,isLoading:m,error:p}=(0,i.a)({queryKey:g.integrations.accounts(n),queryFn:async()=>{let e=await fetch(`/api/integrations/accounts?businessId=${n}`);if(!e.ok)throw Error("Failed to fetch integration accounts");return e.json()}}),{data:h,isLoading:v,error:b}=(0,i.a)({queryKey:g.integrations.logs(n),queryFn:async()=>{let e=await fetch(`/api/integrations/logs?businessId=${n}&limit=50`);if(!e.ok)throw Error("Failed to fetch integration logs");return e.json()}}),w=a?.accounts||[],j=h?.logs||[];return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Integrations"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage your social media and event platform connections"})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(d.C,{variant:y.FEATURE_REAL_PROVIDERS?"default":"secondary",children:y.FEATURE_REAL_PROVIDERS?"Real Providers":"Mock Mode"})})]}),(0,r.jsxs)(l.mQ,{value:e,onValueChange:t,className:"space-y-4",children:[(0,r.jsxs)(l.dr,{children:[r.jsx(l.SP,{value:"connections",children:"Connections"}),r.jsx(l.SP,{value:"logs",children:"Logs"})]}),(0,r.jsxs)(l.nU,{value:"connections",className:"space-y-4",children:[p&&r.jsx(f,{variant:"destructive",children:(0,r.jsxs)(x,{children:["Failed to load integration accounts: ",p.message]})}),m?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:6}).map((e,t)=>(0,r.jsxs)(o.Zb,{children:[(0,r.jsxs)(o.Ol,{children:[r.jsx(u.O,{className:"h-4 w-3/4"}),r.jsx(u.O,{className:"h-3 w-1/2"})]}),r.jsx(o.aY,{children:(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(u.O,{className:"h-3 w-full"}),r.jsx(u.O,{className:"h-3 w-2/3"}),r.jsx(u.O,{className:"h-8 w-full"})]})})]},t))}):0===w.length?(0,r.jsxs)(o.Zb,{children:[(0,r.jsxs)(o.Ol,{children:[r.jsx(o.ll,{children:"No Connected Accounts"}),r.jsx(o.SZ,{children:"Connect your social media and event platform accounts to get started."})]}),r.jsx(o.aY,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{provider:"facebook",name:"Facebook Page",icon:"\uD83D\uDCD8"},{provider:"instagram",name:"Instagram Business",icon:"\uD83D\uDCF7"},{provider:"google",name:"Google Business",icon:"\uD83C\uDFE2"},{provider:"eventbrite",name:"Eventbrite",icon:"\uD83C\uDFAB"},{provider:"meetup",name:"Meetup",icon:"\uD83D\uDC65"}].map(e=>r.jsx(o.Zb,{className:"border-dashed",children:(0,r.jsxs)(o.aY,{className:"flex flex-col items-center justify-center p-6 text-center",children:[r.jsx("div",{className:"text-4xl mb-2",children:e.icon}),r.jsx("h3",{className:"font-semibold mb-1",children:e.name}),r.jsx(c.z,{size:"sm",onClick:()=>{window.location.href=`/api/auth/connect/${e.provider}?businessId=${n}`},children:"Connect"})]})},e.provider))})})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(e=>r.jsx(ej,{account:e,businessId:n},e.id))})]}),(0,r.jsxs)(l.nU,{value:"logs",className:"space-y-4",children:[b&&r.jsx(f,{variant:"destructive",children:(0,r.jsxs)(x,{children:["Failed to load integration logs: ",b.message]})}),v?(0,r.jsxs)(o.Zb,{children:[r.jsx(o.Ol,{children:r.jsx(u.O,{className:"h-4 w-1/4"})}),r.jsx(o.aY,{children:r.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((e,t)=>r.jsx(u.O,{className:"h-12 w-full"},t))})})]}):r.jsx(tt,{logs:j})]})]})]})}},33071:(e,t,n)=>{"use strict";n.d(t,{Ol:()=>o,SZ:()=>d,Zb:()=>i,aY:()=>c,ll:()=>l});var a=n(10326),r=n(17577),s=n(77863);let i=r.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let o=r.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let l=r.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let d=r.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:(0,s.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=r.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:(0,s.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",r.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:(0,s.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},62288:(e,t,n)=>{"use strict";n.d(t,{$N:()=>h,Be:()=>f,Vq:()=>o,cN:()=>p,cZ:()=>u,fK:()=>m,hg:()=>l});var a=n(10326);n(17577);var r=n(98958),s=n(94019),i=n(77863);function o({...e}){return a.jsx(r.fC,{"data-slot":"dialog",...e})}function l({...e}){return a.jsx(r.xz,{"data-slot":"dialog-trigger",...e})}function d({...e}){return a.jsx(r.h_,{"data-slot":"dialog-portal",...e})}function c({className:e,...t}){return a.jsx(r.aV,{"data-slot":"dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function u({className:e,children:t,showCloseButton:n=!0,...o}){return(0,a.jsxs)(d,{"data-slot":"dialog-portal",children:[a.jsx(c,{}),(0,a.jsxs)(r.VY,{"data-slot":"dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...o,children:[t,n&&(0,a.jsxs)(r.x8,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(s.Z,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function m({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function p({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-footer",className:(0,i.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function h({className:e,...t}){return a.jsx(r.Dx,{"data-slot":"dialog-title",className:(0,i.cn)("text-lg leading-none font-semibold",e),...t})}function f({className:e,...t}){return a.jsx(r.dk,{"data-slot":"dialog-description",className:(0,i.cn)("text-muted-foreground text-sm",e),...t})}},34474:(e,t,n)=>{"use strict";n.d(t,{Bw:()=>m,Ph:()=>d,Ql:()=>p,i4:()=>u,ki:()=>c});var a=n(10326);n(17577);var r=n(44875),s=n(941),i=n(32933),o=n(96633),l=n(77863);function d({...e}){return a.jsx(r.fC,{"data-slot":"select",...e})}function c({...e}){return a.jsx(r.B4,{"data-slot":"select-value",...e})}function u({className:e,size:t="default",children:n,...i}){return(0,a.jsxs)(r.xz,{"data-slot":"select-trigger","data-size":t,className:(0,l.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...i,children:[n,a.jsx(r.JO,{asChild:!0,children:a.jsx(s.Z,{className:"size-4 opacity-50"})})]})}function m({className:e,children:t,position:n="popper",...s}){return a.jsx(r.h_,{children:(0,a.jsxs)(r.VY,{"data-slot":"select-content",className:(0,l.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[a.jsx(h,{}),a.jsx(r.l_,{className:(0,l.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),a.jsx(f,{})]})})}function p({className:e,children:t,...n}){return(0,a.jsxs)(r.ck,{"data-slot":"select-item",className:(0,l.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[a.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:a.jsx(r.wU,{children:a.jsx(i.Z,{className:"size-4"})})}),a.jsx(r.eT,{children:t})]})}function h({className:e,...t}){return a.jsx(r.u_,{"data-slot":"select-scroll-up-button",className:(0,l.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(o.Z,{className:"size-4"})})}function f({className:e,...t}){return a.jsx(r.$G,{"data-slot":"select-scroll-down-button",className:(0,l.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(s.Z,{className:"size-4"})})}},65304:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});var a=n(10326),r=n(77863);function s({className:e,...t}){return a.jsx("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",e),...t})}},15940:(e,t,n)=>{"use strict";n.d(t,{RM:()=>o,SC:()=>l,iA:()=>s,pj:()=>c,ss:()=>d,xD:()=>i});var a=n(10326);n(17577);var r=n(77863);function s({className:e,...t}){return a.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:a.jsx("table",{"data-slot":"table",className:(0,r.cn)("w-full caption-bottom text-sm",e),...t})})}function i({className:e,...t}){return a.jsx("thead",{"data-slot":"table-header",className:(0,r.cn)("[&_tr]:border-b",e),...t})}function o({className:e,...t}){return a.jsx("tbody",{"data-slot":"table-body",className:(0,r.cn)("[&_tr:last-child]:border-0",e),...t})}function l({className:e,...t}){return a.jsx("tr",{"data-slot":"table-row",className:(0,r.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function d({className:e,...t}){return a.jsx("th",{"data-slot":"table-head",className:(0,r.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function c({className:e,...t}){return a.jsx("td",{"data-slot":"table-cell",className:(0,r.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}},73427:(e,t,n)=>{"use strict";n.d(t,{mQ:()=>k,nU:()=>A,dr:()=>O,SP:()=>S});var a=n(10326),r=n(17577),s=n(82561),i=n(93095),o=n(15594),l=n(9815),d=n(45226),c=n(17124),u=n(52067),m=n(88957),p="Tabs",[h,f]=(0,i.b)(p,[o.Pc]),x=(0,o.Pc)(),[g,v]=h(p),b=r.forwardRef((e,t)=>{let{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:h="automatic",...f}=e,x=(0,c.gm)(l),[v,b]=(0,u.T)({prop:r,onChange:s,defaultProp:i??"",caller:p});return(0,a.jsx)(g,{scope:n,baseId:(0,m.M)(),value:v,onValueChange:b,orientation:o,dir:x,activationMode:h,children:(0,a.jsx)(d.WV.div,{dir:x,"data-orientation":o,...f,ref:t})})});b.displayName=p;var y="TabsList",w=r.forwardRef((e,t)=>{let{__scopeTabs:n,loop:r=!0,...s}=e,i=v(y,n),l=x(n);return(0,a.jsx)(o.fC,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:r,children:(0,a.jsx)(d.WV.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});w.displayName=y;var j="TabsTrigger",E=r.forwardRef((e,t)=>{let{__scopeTabs:n,value:r,disabled:i=!1,...l}=e,c=v(j,n),u=x(n),m=C(c.baseId,r),p=R(c.baseId,r),h=r===c.value;return(0,a.jsx)(o.ck,{asChild:!0,...u,focusable:!i,active:h,children:(0,a.jsx)(d.WV.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":p,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:m,...l,ref:t,onMouseDown:(0,s.Mj)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(r)}),onKeyDown:(0,s.Mj)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(r)}),onFocus:(0,s.Mj)(e.onFocus,()=>{let e="manual"!==c.activationMode;h||i||!e||c.onValueChange(r)})})})});E.displayName=j;var N="TabsContent",T=r.forwardRef((e,t)=>{let{__scopeTabs:n,value:s,forceMount:i,children:o,...c}=e,u=v(N,n),m=C(u.baseId,s),p=R(u.baseId,s),h=s===u.value,f=r.useRef(h);return r.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(l.z,{present:i||h,children:({present:n})=>(0,a.jsx)(d.WV.div,{"data-state":h?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!n,id:p,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:n&&o})})});function C(e,t){return`${e}-trigger-${t}`}function R(e,t){return`${e}-content-${t}`}T.displayName=N;var _=n(77863);function k({className:e,...t}){return a.jsx(b,{"data-slot":"tabs",className:(0,_.cn)("flex flex-col gap-2",e),...t})}function O({className:e,...t}){return a.jsx(w,{"data-slot":"tabs-list",className:(0,_.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function S({className:e,...t}){return a.jsx(E,{"data-slot":"tabs-trigger",className:(0,_.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function A({className:e,...t}){return a.jsx(T,{"data-slot":"tabs-content",className:(0,_.cn)("flex-1 outline-none",e),...t})}},43810:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});let a=(0,n(62881).Z)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},7027:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});let a=(0,n(62881).Z)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},12714:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});let a=(0,n(62881).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},69561:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});let a=(0,n(62881).Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},21405:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});let a=(0,n(62881).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},12978:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});let a=(0,n(62881).Z)("test-tube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]])},50688:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let a=(0,n(68570).createProxy)(String.raw`/Users/kumar/Business admin/tripfluence-admin/app/(admin)/integrations/page.tsx#default`)},10119:(e,t,n)=>{"use strict";n.d(t,{D:()=>c});var a=n(17577),r=n(71180),s=n(12113),i=n(64351),o=n(3341),l=class extends i.l{#e;#t=void 0;#n;#a;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,o.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,o.Ym)(t.mutationKey)!==(0,o.Ym)(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#s()}mutate(e,t){return this.#a=t,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){let e=this.#n?.state??(0,r.R)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#s(e){s.Vr.batch(()=>{if(this.#a&&this.hasListeners()){let t=this.#t.variables,n=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#a.onSuccess?.(e.data,t,n,a),this.#a.onSettled?.(e.data,null,t,n,a)):e?.type==="error"&&(this.#a.onError?.(e.error,t,n,a),this.#a.onSettled?.(void 0,e.error,t,n,a))}this.listeners.forEach(e=>{e(this.#t)})})}},d=n(44976);function c(e,t){let n=(0,d.NL)(t),[r]=a.useState(()=>new l(n,e));a.useEffect(()=>{r.setOptions(e)},[r,e]);let i=a.useSyncExternalStore(a.useCallback(e=>r.subscribe(s.Vr.batchCalls(e)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),c=a.useCallback((e,t)=>{r.mutate(e,t).catch(o.ZT)},[r]);if(i.error&&(0,o.L3)(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:c,mutateAsync:i.mutate}}}};var t=require("../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),a=t.X(0,[8948,1365,354,6582,5403,260,1468,1724,1427],()=>n(45202));module.exports=a})();