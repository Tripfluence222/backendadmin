(()=>{var e={};e.id=6481,e.ids=[6481],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},64529:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d}),a(26644),a(75275),a(35866),a(11506);var s=a(23191),i=a(88716),r=a(37922),l=a.n(r),n=a(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(t,o);let d=["",{children:["(admin)",{children:["marketing",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,26644)),"/Users/kumar/Business admin/tripfluence-admin/app/(admin)/marketing/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,75275)),"/Users/kumar/Business admin/tripfluence-admin/app/(admin)/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,11506)),"/Users/kumar/Business admin/tripfluence-admin/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/kumar/Business admin/tripfluence-admin/app/(admin)/marketing/page.tsx"],m="/(admin)/marketing/page",u={require:a,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(admin)/marketing/page",pathname:"/marketing",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},33074:(e,t,a)=>{Promise.resolve().then(a.bind(a,99862))},99862:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ea});var s=a(10326),i=a(17577),r=a(44976),l=a(20108),n=a(10119),o=a(62881);let d=(0,o.Z)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var c=a(24061);let m=(0,o.Z)("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);var u=a(5932),x=a(83855),h=a(85999),p=a(90772),g=a(54432),y=a(33071),j=a(34474),f=a(73427),v=a(82089),N=a(11585);let b=[{id:"1",code:"WELCOME20",name:"Welcome Discount",description:"20% off for new customers",type:"percentage",value:20,minimumAmount:100,usageLimit:1e3,usageLimitPerCustomer:1,usageCount:234,validFrom:"2024-01-01T00:00:00Z",validUntil:"2024-12-31T23:59:59Z",applicableCategories:["Wellness","Retreat"],isActive:!0,status:"active",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-20T10:00:00Z"},{id:"2",code:"SAVE50",name:"Fixed Amount Discount",description:"$50 off any booking over $200",type:"fixed_amount",value:50,minimumAmount:200,usageLimit:500,usageLimitPerCustomer:2,usageCount:89,validFrom:"2024-02-01T00:00:00Z",validUntil:"2024-03-31T23:59:59Z",isActive:!0,status:"active",createdAt:"2024-01-15T00:00:00Z",updatedAt:"2024-01-25T14:30:00Z"}],w=[{id:"1",name:"Sarah Johnson",email:"sarah.johnson@email.com",phone:"+1-555-0123",commissionRate:15,paymentMethod:"paypal",paymentDetails:"sarah.johnson@email.com",isActive:!0,totalReferrals:45,totalCommissions:1250,uniqueLink:"https://tripfluence.com/ref/sarah-johnson",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-20T10:00:00Z"},{id:"2",name:"Travel Bloggers United",email:"contact@travelbloggers.com",commissionRate:20,paymentMethod:"bank_transfer",paymentDetails:"Account: 1234567890, Bank: Chase",isActive:!0,totalReferrals:78,totalCommissions:2100,uniqueLink:"https://tripfluence.com/ref/travel-bloggers",createdAt:"2024-01-10T00:00:00Z",updatedAt:"2024-01-22T16:45:00Z"}],k=[{id:"1",name:"First Booking Bonus",description:"Earn 100 points for your first booking",triggerType:"booking",triggerValue:1,rewardType:"points",rewardValue:100,isActive:!0,usageCount:156,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-20T10:00:00Z"},{id:"2",name:"Spend $500 Get 10% Off",description:"Get 10% discount when you spend $500 or more",triggerType:"spend",triggerValue:500,rewardType:"discount",rewardValue:10,isActive:!0,usageCount:23,createdAt:"2024-01-05T00:00:00Z",updatedAt:"2024-01-18T14:30:00Z"}],C=[{id:"1",name:"Welcome Series",subject:"Welcome to Tripfluence!",content:"Thank you for joining us...",recipientType:"all",scheduledAt:"2024-02-01T09:00:00Z",isActive:!0,status:"scheduled",recipientCount:1250,openRate:0,clickRate:0,createdAt:"2024-01-25T10:00:00Z",updatedAt:"2024-01-25T10:00:00Z"},{id:"2",name:"Monthly Newsletter",subject:"February Highlights & New Experiences",content:"Discover our latest offerings...",recipientType:"segment",recipientSegment:"active_customers",sentAt:"2024-01-15T10:00:00Z",isActive:!0,status:"sent",recipientCount:890,openRate:24.5,clickRate:8.2,createdAt:"2024-01-10T00:00:00Z",updatedAt:"2024-01-15T10:00:00Z"}],A={getCoupons:async()=>(await new Promise(e=>setTimeout(e,500)),[...b]),getCouponById:async e=>(await new Promise(e=>setTimeout(e,300)),b.find(t=>t.id===e)||null),async createCoupon(e){await new Promise(e=>setTimeout(e,800));let t={id:(b.length+1).toString(),usageCount:0,status:"active",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...e,validFrom:e.validFrom.toISOString(),validUntil:e.validUntil.toISOString()};return b.push(t),t},async updateCoupon(e,t){await new Promise(e=>setTimeout(e,600));let a=b.findIndex(t=>t.id===e);if(-1===a)throw Error("Coupon not found");return b[a]={...b[a],...t,validFrom:t.validFrom?t.validFrom.toISOString():b[a].validFrom,validUntil:t.validUntil?t.validUntil.toISOString():b[a].validUntil,updatedAt:new Date().toISOString()},b[a]},async deleteCoupon(e){await new Promise(e=>setTimeout(e,400));let t=b.findIndex(t=>t.id===e);if(-1===t)throw Error("Coupon not found");b.splice(t,1)},getAffiliates:async()=>(await new Promise(e=>setTimeout(e,500)),[...w]),getAffiliateById:async e=>(await new Promise(e=>setTimeout(e,300)),w.find(t=>t.id===e)||null),async createAffiliate(e){await new Promise(e=>setTimeout(e,800));let t={id:(w.length+1).toString(),totalReferrals:0,totalCommissions:0,uniqueLink:`https://tripfluence.com/ref/${e.name.toLowerCase().replace(/\s+/g,"-")}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...e};return w.push(t),t},async updateAffiliate(e,t){await new Promise(e=>setTimeout(e,600));let a=w.findIndex(t=>t.id===e);if(-1===a)throw Error("Affiliate not found");return w[a]={...w[a],...t,updatedAt:new Date().toISOString()},w[a]},async deleteAffiliate(e){await new Promise(e=>setTimeout(e,400));let t=w.findIndex(t=>t.id===e);if(-1===t)throw Error("Affiliate not found");w.splice(t,1)},getLoyaltyRules:async()=>(await new Promise(e=>setTimeout(e,500)),[...k]),async createLoyaltyRule(e){await new Promise(e=>setTimeout(e,800));let t={id:(k.length+1).toString(),usageCount:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...e};return k.push(t),t},async updateLoyaltyRule(e,t){await new Promise(e=>setTimeout(e,600));let a=k.findIndex(t=>t.id===e);if(-1===a)throw Error("Loyalty rule not found");return k[a]={...k[a],...t,updatedAt:new Date().toISOString()},k[a]},async deleteLoyaltyRule(e){await new Promise(e=>setTimeout(e,400));let t=k.findIndex(t=>t.id===e);if(-1===t)throw Error("Loyalty rule not found");k.splice(t,1)},getEmailCampaigns:async()=>(await new Promise(e=>setTimeout(e,500)),[...C]),async createEmailCampaign(e){await new Promise(e=>setTimeout(e,800));let t={id:(C.length+1).toString(),status:e.scheduledAt?"scheduled":"draft",recipientCount:0,openRate:0,clickRate:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...e,scheduledAt:e.scheduledAt?e.scheduledAt.toISOString():void 0};return C.push(t),t},async updateEmailCampaign(e,t){await new Promise(e=>setTimeout(e,600));let a=C.findIndex(t=>t.id===e);if(-1===a)throw Error("Email campaign not found");return C[a]={...C[a],...t,scheduledAt:t.scheduledAt?t.scheduledAt.toISOString():C[a].scheduledAt,updatedAt:new Date().toISOString()},C[a]},async deleteEmailCampaign(e){await new Promise(e=>setTimeout(e,400));let t=C.findIndex(t=>t.id===e);if(-1===t)throw Error("Email campaign not found");C.splice(t,1)}};var S=a(49969);let Z=S.Ryn({code:S.Z_8().min(3).max(20),description:S.Z_8().max(200).optional(),type:S.KmV(["percentage","fixed","free_shipping"]),value:S.Rxh().positive(),minOrderAmount:S.Rxh().positive().optional(),maxUses:S.Rxh().int().positive().optional(),maxUsesPerCustomer:S.Rxh().int().positive().optional(),validFrom:S.Z_8().datetime(),validUntil:S.Z_8().datetime(),isActive:S.O72().default(!0)}),R=S.Ryn({code:S.Z_8().min(3).max(20).optional(),description:S.Z_8().max(200).optional(),type:S.KmV(["percentage","fixed","free_shipping"]).optional(),value:S.Rxh().positive().optional(),minOrderAmount:S.Rxh().positive().optional(),maxUses:S.Rxh().int().positive().optional(),maxUsesPerCustomer:S.Rxh().int().positive().optional(),validFrom:S.Z_8().datetime().optional(),validUntil:S.Z_8().datetime().optional(),isActive:S.O72().optional()}),_=S.Ryn({name:S.Z_8().min(1).max(100),email:S.Z_8().email(),commissionRate:S.Rxh().min(0).max(100),trackingCode:S.Z_8().min(3).max(20),isActive:S.O72().default(!0)}),V=S.Ryn({name:S.Z_8().min(1).max(100).optional(),email:S.Z_8().email().optional(),commissionRate:S.Rxh().min(0).max(100).optional(),trackingCode:S.Z_8().min(3).max(20).optional(),isActive:S.O72().optional()}),T=S.Ryn({name:S.Z_8().min(1).max(100),description:S.Z_8().max(500).optional(),type:S.KmV(["points_per_dollar","points_per_visit","bonus_points"]),value:S.Rxh().positive(),conditions:S.Ryn({minOrderAmount:S.Rxh().positive().optional(),categories:S.IXX(S.Z_8()).optional(),validDays:S.IXX(S.Rxh().min(0).max(6)).optional()}).optional(),isActive:S.O72().default(!0)}),I=S.Ryn({name:S.Z_8().min(1).max(100).optional(),description:S.Z_8().max(500).optional(),type:S.KmV(["points_per_dollar","points_per_visit","bonus_points"]).optional(),value:S.Rxh().positive().optional(),conditions:S.Ryn({minOrderAmount:S.Rxh().positive().optional(),categories:S.IXX(S.Z_8()).optional(),validDays:S.IXX(S.Rxh().min(0).max(6)).optional()}).optional(),isActive:S.O72().optional()}),D=S.Ryn({name:S.Z_8().min(1).max(100),subject:S.Z_8().min(1).max(200),content:S.Z_8().min(1),template:S.Z_8().optional(),recipientType:S.KmV(["all","segment","list"]),recipientIds:S.IXX(S.Z_8()).optional(),scheduledAt:S.Z_8().datetime().optional(),isActive:S.O72().default(!0)}),P=S.Ryn({name:S.Z_8().min(1).max(100).optional(),subject:S.Z_8().min(1).max(200).optional(),content:S.Z_8().min(1).optional(),template:S.Z_8().optional(),recipientType:S.KmV(["all","segment","list"]).optional(),recipientIds:S.IXX(S.Z_8()).optional(),scheduledAt:S.Z_8().datetime().optional(),isActive:S.O72().optional()});S.Ryn({code:S.Z_8().optional(),type:S.KmV(["percentage","fixed","free_shipping"]).optional(),isActive:S.O72().optional(),page:S.Rxh().int().positive().default(1),limit:S.Rxh().int().positive().max(100).default(20)}),S.Ryn({name:S.Z_8().optional(),email:S.Z_8().email().optional(),isActive:S.O72().optional(),page:S.Rxh().int().positive().default(1),limit:S.Rxh().int().positive().max(100).default(20)}),S.Ryn({name:S.Z_8().optional(),type:S.KmV(["points_per_dollar","points_per_visit","bonus_points"]).optional(),isActive:S.O72().optional(),page:S.Rxh().int().positive().default(1),limit:S.Rxh().int().positive().max(100).default(20)}),S.Ryn({name:S.Z_8().optional(),recipientType:S.KmV(["all","segment","list"]).optional(),isActive:S.O72().optional(),page:S.Rxh().int().positive().default(1),limit:S.Rxh().int().positive().max(100).default(20)});var M=a(12969);let E=(0,o.Z)("percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);var F=a(71821),K=a(15919),O=a(43810),L=a(69508),q=a(98091),U=a(45079),z=a(567),Q=a(60097);let X=({onEdit:e,onDelete:t})=>[{accessorKey:"code",header:({column:e})=>(0,s.jsxs)(p.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Coupon Code",s.jsx(M.Z,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{let t=e.getValue("code"),a=e.original.name;return(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("div",{className:"font-mono font-medium",children:t}),s.jsx("div",{className:"text-sm text-muted-foreground",children:a})]})}},{accessorKey:"type",header:"Type",cell:({row:e})=>{let t=e.getValue("type"),a=e.original.value;return(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(z.C,{className:{percentage:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",fixed_amount:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",free_shipping:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",buy_one_get_one:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300"}[t]||"bg-gray-100 text-gray-800",children:t.replace("_"," ")}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:["percentage"===t?s.jsx(E,{className:"h-3 w-3"}):s.jsx(F.Z,{className:"h-3 w-3"}),(0,s.jsxs)("span",{children:[a,"percentage"===t?"%":""]})]})]})}},{accessorKey:"usageCount",header:({column:e})=>(0,s.jsxs)(p.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Usage",s.jsx(M.Z,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{let t=e.getValue("usageCount"),a=e.original.usageLimit;return(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("div",{className:"font-medium",children:t.toLocaleString()}),a&&(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:["of ",a.toLocaleString()]})]})}},{accessorKey:"validFrom",header:"Valid Period",cell:({row:e})=>{let t=e.getValue("validFrom"),a=e.original.validUntil,i=new Date,r=new Date(a)<i,l=new Date(t)<=i&&new Date(a)>=i;return(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-sm",children:(0,U.WU)(new Date(t),"MMM dd, yyyy")}),(0,s.jsxs)("div",{className:"text-sm",children:["to ",(0,U.WU)(new Date(a),"MMM dd, yyyy")]}),s.jsx(z.C,{variant:r?"destructive":l?"default":"secondary",className:"text-xs",children:r?"Expired":l?"Active":"Future"})]})}},{accessorKey:"status",header:"Status",cell:({row:e})=>{let t=e.getValue("status");return s.jsx(z.C,{className:{active:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",inactive:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300",expired:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",exhausted:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300"}[t]||"bg-gray-100 text-gray-800",children:t.charAt(0).toUpperCase()+t.slice(1)})}},{accessorKey:"createdAt",header:({column:e})=>(0,s.jsxs)(p.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Created",s.jsx(M.Z,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{let t=e.getValue("createdAt");return s.jsx("div",{className:"text-sm",children:(0,U.WU)(new Date(t),"MMM dd, yyyy")})}},{id:"actions",enableHiding:!1,cell:({row:a})=>{let i=a.original;return(0,s.jsxs)(Q.h_,{children:[s.jsx(Q.$F,{asChild:!0,children:(0,s.jsxs)(p.z,{variant:"ghost",className:"h-8 w-8 p-0",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx(K.Z,{className:"h-4 w-4"})]})}),(0,s.jsxs)(Q.AW,{align:"end",children:[s.jsx(Q.Ju,{children:"Actions"}),(0,s.jsxs)(Q.Xi,{onClick:()=>navigator.clipboard.writeText(i.code),children:[s.jsx(O.Z,{className:"mr-2 h-4 w-4"}),"Copy Code"]}),s.jsx(Q.VD,{}),(0,s.jsxs)(Q.Xi,{onClick:()=>e(i),children:[s.jsx(L.Z,{className:"mr-2 h-4 w-4"}),"Edit"]}),s.jsx(Q.VD,{}),(0,s.jsxs)(Q.Xi,{onClick:()=>t(i.id),className:"text-red-600",children:[s.jsx(q.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})}}];var W=a(7027);let B=({onEdit:e,onDelete:t})=>[{accessorKey:"name",header:({column:e})=>(0,s.jsxs)(p.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Affiliate",s.jsx(M.Z,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{let t=e.getValue("name"),a=e.original.email;return(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("div",{className:"font-medium",children:t}),s.jsx("div",{className:"text-sm text-muted-foreground",children:a})]})}},{accessorKey:"commissionRate",header:({column:e})=>(0,s.jsxs)(p.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Commission Rate",s.jsx(M.Z,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{let t=e.getValue("commissionRate");return s.jsx("div",{className:"flex items-center gap-1",children:(0,s.jsxs)("span",{className:"font-medium",children:[t,"%"]})})}},{accessorKey:"totalReferrals",header:({column:e})=>(0,s.jsxs)(p.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Referrals",s.jsx(M.Z,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{let t=e.getValue("totalReferrals");return(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[s.jsx(c.Z,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:t})]})}},{accessorKey:"totalCommissions",header:({column:e})=>(0,s.jsxs)(p.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Total Commissions",s.jsx(M.Z,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{let t=e.getValue("totalCommissions");return(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[s.jsx(F.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsxs)("span",{className:"font-medium",children:["$",t.toLocaleString()]})]})}},{accessorKey:"paymentMethod",header:"Payment Method",cell:({row:e})=>{let t=e.getValue("paymentMethod");return s.jsx(z.C,{className:{paypal:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",bank_transfer:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",crypto:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300"}[t]||"bg-gray-100 text-gray-800",children:t.replace("_"," ")})}},{accessorKey:"isActive",header:"Status",cell:({row:e})=>{let t=e.getValue("isActive");return s.jsx(z.C,{variant:t?"default":"secondary",children:t?"Active":"Inactive"})}},{accessorKey:"createdAt",header:({column:e})=>(0,s.jsxs)(p.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Joined",s.jsx(M.Z,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{let t=e.getValue("createdAt");return s.jsx("div",{className:"text-sm",children:(0,U.WU)(new Date(t),"MMM dd, yyyy")})}},{id:"actions",enableHiding:!1,cell:({row:a})=>{let i=a.original;return(0,s.jsxs)(Q.h_,{children:[s.jsx(Q.$F,{asChild:!0,children:(0,s.jsxs)(p.z,{variant:"ghost",className:"h-8 w-8 p-0",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx(K.Z,{className:"h-4 w-4"})]})}),(0,s.jsxs)(Q.AW,{align:"end",children:[s.jsx(Q.Ju,{children:"Actions"}),(0,s.jsxs)(Q.Xi,{onClick:()=>navigator.clipboard.writeText(i.uniqueLink),children:[s.jsx(O.Z,{className:"mr-2 h-4 w-4"}),"Copy Referral Link"]}),(0,s.jsxs)(Q.Xi,{onClick:()=>window.open(i.uniqueLink,"_blank"),children:[s.jsx(W.Z,{className:"mr-2 h-4 w-4"}),"View Link"]}),s.jsx(Q.VD,{}),(0,s.jsxs)(Q.Xi,{onClick:()=>e(i),children:[s.jsx(L.Z,{className:"mr-2 h-4 w-4"}),"Edit"]}),s.jsx(Q.VD,{}),(0,s.jsxs)(Q.Xi,{onClick:()=>t(i.id),className:"text-red-600",children:[s.jsx(q.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})}}],$=(0,o.Z)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),H=({onEdit:e,onDelete:t})=>[{accessorKey:"name",header:({column:e})=>(0,s.jsxs)(p.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Rule Name",s.jsx(M.Z,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{let t=e.getValue("name"),a=e.original.description;return(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("div",{className:"font-medium",children:t}),a&&s.jsx("div",{className:"text-sm text-muted-foreground truncate max-w-[200px]",children:a})]})}},{accessorKey:"triggerType",header:"Trigger",cell:({row:e})=>{let t=e.getValue("triggerType"),a=e.original.triggerValue;return(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx(z.C,{className:{booking:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",spend:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",frequency:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",referral:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300"}[t]||"bg-gray-100 text-gray-800",children:t}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"spend"===t?`$${a}`:a})]})}},{accessorKey:"rewardType",header:"Reward",cell:({row:e})=>{let t=e.getValue("rewardType"),a=e.original.rewardValue;return(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx(z.C,{className:{points:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",discount:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",free_item:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",upgrade:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300"}[t]||"bg-gray-100 text-gray-800",children:t.replace("_"," ")}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"discount"===t?`${a}%`:a})]})}},{accessorKey:"usageCount",header:({column:e})=>(0,s.jsxs)(p.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Times Used",s.jsx(M.Z,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{let t=e.getValue("usageCount");return(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[s.jsx($,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:t})]})}},{accessorKey:"isActive",header:"Status",cell:({row:e})=>{let t=e.getValue("isActive");return s.jsx(z.C,{variant:t?"default":"secondary",children:t?"Active":"Inactive"})}},{accessorKey:"createdAt",header:({column:e})=>(0,s.jsxs)(p.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Created",s.jsx(M.Z,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{let t=e.getValue("createdAt");return s.jsx("div",{className:"text-sm",children:(0,U.WU)(new Date(t),"MMM dd, yyyy")})}},{id:"actions",enableHiding:!1,cell:({row:a})=>{let i=a.original;return(0,s.jsxs)(Q.h_,{children:[s.jsx(Q.$F,{asChild:!0,children:(0,s.jsxs)(p.z,{variant:"ghost",className:"h-8 w-8 p-0",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx(K.Z,{className:"h-4 w-4"})]})}),(0,s.jsxs)(Q.AW,{align:"end",children:[s.jsx(Q.Ju,{children:"Actions"}),s.jsx(Q.Xi,{onClick:()=>navigator.clipboard.writeText(i.id),children:"Copy rule ID"}),s.jsx(Q.VD,{}),(0,s.jsxs)(Q.Xi,{onClick:()=>e(i),children:[s.jsx(L.Z,{className:"mr-2 h-4 w-4"}),"Edit"]}),s.jsx(Q.VD,{}),(0,s.jsxs)(Q.Xi,{onClick:()=>t(i.id),className:"text-red-600",children:[s.jsx(q.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})}}];var G=a(12714);let J=(0,o.Z)("mouse-pointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);var Y=a(69436),ee=a(37358);let et=({onEdit:e,onDelete:t})=>[{accessorKey:"name",header:({column:e})=>(0,s.jsxs)(p.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Campaign",s.jsx(M.Z,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{let t=e.getValue("name"),a=e.original.subject;return(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("div",{className:"font-medium",children:t}),s.jsx("div",{className:"text-sm text-muted-foreground truncate max-w-[200px]",children:a})]})}},{accessorKey:"status",header:"Status",cell:({row:e})=>{let t=e.getValue("status");return s.jsx(z.C,{className:{draft:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300",scheduled:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",sent:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",failed:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"}[t]||"bg-gray-100 text-gray-800",children:t.charAt(0).toUpperCase()+t.slice(1)})}},{accessorKey:"recipientCount",header:({column:e})=>(0,s.jsxs)(p.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Recipients",s.jsx(M.Z,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{let t=e.getValue("recipientCount");return(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[s.jsx(c.Z,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:t.toLocaleString()})]})}},{accessorKey:"openRate",header:({column:e})=>(0,s.jsxs)(p.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Open Rate",s.jsx(M.Z,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{let t=e.getValue("openRate");return(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[s.jsx(G.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsxs)("span",{className:"font-medium",children:[t,"%"]})]})}},{accessorKey:"clickRate",header:({column:e})=>(0,s.jsxs)(p.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Click Rate",s.jsx(M.Z,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{let t=e.getValue("clickRate");return(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[s.jsx(J,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsxs)("span",{className:"font-medium",children:[t,"%"]})]})}},{accessorKey:"scheduledAt",header:({column:e})=>(0,s.jsxs)(p.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Scheduled/Sent",s.jsx(M.Z,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{let t=e.getValue("scheduledAt"),a=e.original.sentAt,i=t||a;return i?(0,s.jsxs)("div",{className:"text-sm",children:[(0,U.WU)(new Date(i),"MMM dd, yyyy"),s.jsx("div",{className:"text-xs text-muted-foreground",children:(0,U.WU)(new Date(i),"h:mm a")})]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}},{accessorKey:"createdAt",header:({column:e})=>(0,s.jsxs)(p.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),children:["Created",s.jsx(M.Z,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{let t=e.getValue("createdAt");return s.jsx("div",{className:"text-sm",children:(0,U.WU)(new Date(t),"MMM dd, yyyy")})}},{id:"actions",enableHiding:!1,cell:({row:a})=>{let i=a.original;return(0,s.jsxs)(Q.h_,{children:[s.jsx(Q.$F,{asChild:!0,children:(0,s.jsxs)(p.z,{variant:"ghost",className:"h-8 w-8 p-0",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx(K.Z,{className:"h-4 w-4"})]})}),(0,s.jsxs)(Q.AW,{align:"end",children:[s.jsx(Q.Ju,{children:"Actions"}),s.jsx(Q.Xi,{onClick:()=>navigator.clipboard.writeText(i.id),children:"Copy campaign ID"}),s.jsx(Q.VD,{}),(0,s.jsxs)(Q.Xi,{onClick:()=>e(i),children:[s.jsx(L.Z,{className:"mr-2 h-4 w-4"}),"Edit"]}),"draft"===i.status&&(0,s.jsxs)(Q.Xi,{children:[s.jsx(Y.Z,{className:"mr-2 h-4 w-4"}),"Send Now"]}),"scheduled"===i.status&&(0,s.jsxs)(Q.Xi,{children:[s.jsx(ee.Z,{className:"mr-2 h-4 w-4"}),"Reschedule"]}),s.jsx(Q.VD,{}),(0,s.jsxs)(Q.Xi,{onClick:()=>t(i.id),className:"text-red-600",children:[s.jsx(q.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})}}];function ea(){let[e,t]=(0,i.useState)("coupons"),[a,o]=(0,i.useState)(null),[b,w]=(0,i.useState)(null),[k,C]=(0,i.useState)(null),[S,M]=(0,i.useState)(null),E=(0,r.NL)(),{data:F=[]}=(0,l.a)({queryKey:["coupons"],queryFn:A.getCoupons}),{data:K=[]}=(0,l.a)({queryKey:["affiliates"],queryFn:A.getAffiliates}),{data:O=[]}=(0,l.a)({queryKey:["loyalty-rules"],queryFn:A.getLoyaltyRules}),{data:L=[]}=(0,l.a)({queryKey:["email-campaigns"],queryFn:A.getEmailCampaigns}),q=(0,n.D)({mutationFn:A.createCoupon,onSuccess:()=>{E.invalidateQueries({queryKey:["coupons"]}),h.Am.success("Coupon created successfully")},onError:()=>{h.Am.error("Failed to create coupon")}}),U=(0,n.D)({mutationFn:({id:e,data:t})=>A.updateCoupon(e,t),onSuccess:()=>{E.invalidateQueries({queryKey:["coupons"]}),h.Am.success("Coupon updated successfully"),o(null)},onError:()=>{h.Am.error("Failed to update coupon")}}),z=(0,n.D)({mutationFn:A.deleteCoupon,onSuccess:()=>{E.invalidateQueries({queryKey:["coupons"]}),h.Am.success("Coupon deleted successfully")},onError:()=>{h.Am.error("Failed to delete coupon")}}),Q=(0,n.D)({mutationFn:A.createAffiliate,onSuccess:()=>{E.invalidateQueries({queryKey:["affiliates"]}),h.Am.success("Affiliate created successfully")},onError:()=>{h.Am.error("Failed to create affiliate")}}),W=(0,n.D)({mutationFn:({id:e,data:t})=>A.updateAffiliate(e,t),onSuccess:()=>{E.invalidateQueries({queryKey:["affiliates"]}),h.Am.success("Affiliate updated successfully"),w(null)},onError:()=>{h.Am.error("Failed to update affiliate")}}),$=(0,n.D)({mutationFn:A.deleteAffiliate,onSuccess:()=>{E.invalidateQueries({queryKey:["affiliates"]}),h.Am.success("Affiliate deleted successfully")},onError:()=>{h.Am.error("Failed to delete affiliate")}}),G=(0,n.D)({mutationFn:A.createLoyaltyRule,onSuccess:()=>{E.invalidateQueries({queryKey:["loyalty-rules"]}),h.Am.success("Loyalty rule created successfully")},onError:()=>{h.Am.error("Failed to create loyalty rule")}}),J=(0,n.D)({mutationFn:({id:e,data:t})=>A.updateLoyaltyRule(e,t),onSuccess:()=>{E.invalidateQueries({queryKey:["loyalty-rules"]}),h.Am.success("Loyalty rule updated successfully"),C(null)},onError:()=>{h.Am.error("Failed to update loyalty rule")}}),Y=(0,n.D)({mutationFn:A.deleteLoyaltyRule,onSuccess:()=>{E.invalidateQueries({queryKey:["loyalty-rules"]}),h.Am.success("Loyalty rule deleted successfully")},onError:()=>{h.Am.error("Failed to delete loyalty rule")}}),ee=(0,n.D)({mutationFn:A.createEmailCampaign,onSuccess:()=>{E.invalidateQueries({queryKey:["email-campaigns"]}),h.Am.success("Email campaign created successfully")},onError:()=>{h.Am.error("Failed to create email campaign")}}),ea=(0,n.D)({mutationFn:({id:e,data:t})=>A.updateEmailCampaign(e,t),onSuccess:()=>{E.invalidateQueries({queryKey:["email-campaigns"]}),h.Am.success("Email campaign updated successfully"),M(null)},onError:()=>{h.Am.error("Failed to update email campaign")}}),es=(0,n.D)({mutationFn:A.deleteEmailCampaign,onSuccess:()=>{E.invalidateQueries({queryKey:["email-campaigns"]}),h.Am.success("Email campaign deleted successfully")},onError:()=>{h.Am.error("Failed to delete email campaign")}}),ei=F.length,er=F.filter(e=>e.isActive).length,el=K.length,en=K.reduce((e,t)=>e+t.totalCommissions,0),eo=O.length,ed=O.filter(e=>e.isActive).length,ec=L.length,em=L.filter(e=>"sent"===e.status).length;return(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Marketing Tools"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage coupons, affiliates, loyalty programs, and email campaigns"})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)(y.Zb,{children:[(0,s.jsxs)(y.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(y.ll,{className:"text-sm font-medium",children:"Active Coupons"}),s.jsx(d,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(y.aY,{children:[s.jsx("div",{className:"text-2xl font-bold",children:er}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[ei," total coupons"]})]})]}),(0,s.jsxs)(y.Zb,{children:[(0,s.jsxs)(y.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(y.ll,{className:"text-sm font-medium",children:"Total Affiliates"}),s.jsx(c.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(y.aY,{children:[s.jsx("div",{className:"text-2xl font-bold",children:el}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["$",en.toLocaleString()," paid out"]})]})]}),(0,s.jsxs)(y.Zb,{children:[(0,s.jsxs)(y.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(y.ll,{className:"text-sm font-medium",children:"Loyalty Rules"}),s.jsx(m,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(y.aY,{children:[s.jsx("div",{className:"text-2xl font-bold",children:ed}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[eo," total rules"]})]})]}),(0,s.jsxs)(y.Zb,{children:[(0,s.jsxs)(y.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(y.ll,{className:"text-sm font-medium",children:"Email Campaigns"}),s.jsx(u.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(y.aY,{children:[s.jsx("div",{className:"text-2xl font-bold",children:em}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[ec," total campaigns"]})]})]})]}),(0,s.jsxs)(f.mQ,{value:e,onValueChange:t,className:"w-full",children:[(0,s.jsxs)(f.dr,{className:"grid w-full grid-cols-4",children:[s.jsx(f.SP,{value:"coupons",children:"Coupons"}),s.jsx(f.SP,{value:"affiliates",children:"Affiliates"}),s.jsx(f.SP,{value:"loyalty",children:"Loyalty"}),s.jsx(f.SP,{value:"email",children:"Email"})]}),(0,s.jsxs)(f.nU,{value:"coupons",className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Coupons & Promo Codes"}),(0,s.jsxs)(p.z,{onClick:()=>o({}),children:[s.jsx(x.Z,{className:"mr-2 h-4 w-4"}),"Create Coupon"]})]}),s.jsx(v.w,{columns:X({onEdit:o,onDelete:e=>{confirm("Are you sure you want to delete this coupon?")&&z.mutate(e)}}),data:F,searchKey:"code",searchPlaceholder:"Search coupons..."})]}),(0,s.jsxs)(f.nU,{value:"affiliates",className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Affiliates & Referrals"}),(0,s.jsxs)(p.z,{onClick:()=>w({}),children:[s.jsx(x.Z,{className:"mr-2 h-4 w-4"}),"Add Affiliate"]})]}),s.jsx(v.w,{columns:B({onEdit:w,onDelete:e=>{confirm("Are you sure you want to delete this affiliate?")&&$.mutate(e)}}),data:K,searchKey:"name",searchPlaceholder:"Search affiliates..."})]}),(0,s.jsxs)(f.nU,{value:"loyalty",className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Loyalty Program"}),(0,s.jsxs)(p.z,{onClick:()=>C({}),children:[s.jsx(x.Z,{className:"mr-2 h-4 w-4"}),"Create Rule"]})]}),s.jsx(v.w,{columns:H({onEdit:C,onDelete:e=>{confirm("Are you sure you want to delete this loyalty rule?")&&Y.mutate(e)}}),data:O,searchKey:"name",searchPlaceholder:"Search loyalty rules..."})]}),(0,s.jsxs)(f.nU,{value:"email",className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Email Campaigns"}),(0,s.jsxs)(p.z,{onClick:()=>M({}),children:[s.jsx(x.Z,{className:"mr-2 h-4 w-4"}),"Create Campaign"]})]}),s.jsx(v.w,{columns:et({onEdit:M,onDelete:e=>{confirm("Are you sure you want to delete this email campaign?")&&es.mutate(e)}}),data:L,searchKey:"name",searchPlaceholder:"Search campaigns..."})]})]}),a&&s.jsx(N.aN,{isOpen:!!a,onClose:()=>o(null),title:a.id?"Edit Coupon":"Create Coupon",description:"Manage coupon settings and restrictions",schema:a.id?R:Z,defaultValues:a.id?a:void 0,onSubmit:a.id?e=>{a&&U.mutate({id:a.id,data:e})}:e=>{q.mutate(e)},isLoading:a.id?U.isPending:q.isPending,children:e=>(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Coupon Code"}),s.jsx(g.I,{...e.register("code"),placeholder:"WELCOME20"}),e.formState.errors.code&&s.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.code.message})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Coupon Name"}),s.jsx(g.I,{...e.register("name"),placeholder:"Welcome Discount"}),e.formState.errors.name&&s.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.name.message})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Description"}),s.jsx("textarea",{...e.register("description"),className:"w-full p-2 border rounded-md",rows:3,placeholder:"Coupon description..."})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Type"}),(0,s.jsxs)(j.Ph,{onValueChange:t=>e.setValue("type",t),children:[s.jsx(j.i4,{children:s.jsx(j.ki,{placeholder:"Select type"})}),(0,s.jsxs)(j.Bw,{children:[s.jsx(j.Ql,{value:"percentage",children:"Percentage"}),s.jsx(j.Ql,{value:"fixed_amount",children:"Fixed Amount"}),s.jsx(j.Ql,{value:"free_shipping",children:"Free Shipping"}),s.jsx(j.Ql,{value:"buy_one_get_one",children:"Buy One Get One"})]})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Value"}),s.jsx(g.I,{...e.register("value",{valueAsNumber:!0}),type:"number",placeholder:"20"}),e.formState.errors.value&&s.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.value.message})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Valid From"}),s.jsx(g.I,{...e.register("validFrom",{valueAsDate:!0}),type:"date"}),e.formState.errors.validFrom&&s.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.validFrom.message})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Valid Until"}),s.jsx(g.I,{...e.register("validUntil",{valueAsDate:!0}),type:"date"}),e.formState.errors.validUntil&&s.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.validUntil.message})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Usage Limit (Optional)"}),s.jsx(g.I,{...e.register("usageLimit",{valueAsNumber:!0}),type:"number",placeholder:"1000"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Per Customer Limit (Optional)"}),s.jsx(g.I,{...e.register("usageLimitPerCustomer",{valueAsNumber:!0}),type:"number",placeholder:"1"})]})]})]})}),b&&s.jsx(N.aN,{isOpen:!!b,onClose:()=>w(null),title:b.id?"Edit Affiliate":"Add Affiliate",description:"Manage affiliate settings and commission rates",schema:b.id?V:_,defaultValues:b.id?b:void 0,onSubmit:b.id?e=>{b&&W.mutate({id:b.id,data:e})}:e=>{Q.mutate(e)},isLoading:b.id?W.isPending:Q.isPending,children:e=>(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Name"}),s.jsx(g.I,{...e.register("name"),placeholder:"Affiliate Name"}),e.formState.errors.name&&s.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.name.message})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Email"}),s.jsx(g.I,{...e.register("email"),type:"email",placeholder:"affiliate@email.com"}),e.formState.errors.email&&s.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.email.message})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Phone (Optional)"}),s.jsx(g.I,{...e.register("phone"),placeholder:"+1-555-0123"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Commission Rate (%)"}),s.jsx(g.I,{...e.register("commissionRate",{valueAsNumber:!0}),type:"number",min:"0",max:"100",placeholder:"15"}),e.formState.errors.commissionRate&&s.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.commissionRate.message})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Payment Method"}),(0,s.jsxs)(j.Ph,{onValueChange:t=>e.setValue("paymentMethod",t),children:[s.jsx(j.i4,{children:s.jsx(j.ki,{placeholder:"Select method"})}),(0,s.jsxs)(j.Bw,{children:[s.jsx(j.Ql,{value:"paypal",children:"PayPal"}),s.jsx(j.Ql,{value:"bank_transfer",children:"Bank Transfer"}),s.jsx(j.Ql,{value:"crypto",children:"Cryptocurrency"})]})]})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Payment Details"}),s.jsx(g.I,{...e.register("paymentDetails"),placeholder:"Payment details..."})]})]})}),k&&s.jsx(N.aN,{isOpen:!!k,onClose:()=>C(null),title:k.id?"Edit Loyalty Rule":"Create Loyalty Rule",description:"Define loyalty program rules and rewards",schema:k.id?I:T,defaultValues:k.id?k:void 0,onSubmit:k.id?e=>{k&&J.mutate({id:k.id,data:e})}:e=>{G.mutate(e)},isLoading:k.id?J.isPending:G.isPending,children:e=>(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Rule Name"}),s.jsx(g.I,{...e.register("name"),placeholder:"First Booking Bonus"}),e.formState.errors.name&&s.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.name.message})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Description"}),s.jsx("textarea",{...e.register("description"),className:"w-full p-2 border rounded-md",rows:3,placeholder:"Rule description..."})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Trigger Type"}),(0,s.jsxs)(j.Ph,{onValueChange:t=>e.setValue("triggerType",t),children:[s.jsx(j.i4,{children:s.jsx(j.ki,{placeholder:"Select trigger"})}),(0,s.jsxs)(j.Bw,{children:[s.jsx(j.Ql,{value:"booking",children:"Booking"}),s.jsx(j.Ql,{value:"spend",children:"Spend Amount"}),s.jsx(j.Ql,{value:"frequency",children:"Frequency"}),s.jsx(j.Ql,{value:"referral",children:"Referral"})]})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Trigger Value"}),s.jsx(g.I,{...e.register("triggerValue",{valueAsNumber:!0}),type:"number",placeholder:"1"}),e.formState.errors.triggerValue&&s.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.triggerValue.message})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Reward Type"}),(0,s.jsxs)(j.Ph,{onValueChange:t=>e.setValue("rewardType",t),children:[s.jsx(j.i4,{children:s.jsx(j.ki,{placeholder:"Select reward"})}),(0,s.jsxs)(j.Bw,{children:[s.jsx(j.Ql,{value:"points",children:"Points"}),s.jsx(j.Ql,{value:"discount",children:"Discount"}),s.jsx(j.Ql,{value:"free_item",children:"Free Item"}),s.jsx(j.Ql,{value:"upgrade",children:"Upgrade"})]})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Reward Value"}),s.jsx(g.I,{...e.register("rewardValue",{valueAsNumber:!0}),type:"number",placeholder:"100"}),e.formState.errors.rewardValue&&s.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.rewardValue.message})]})]})]})}),S&&s.jsx(N.aN,{isOpen:!!S,onClose:()=>M(null),title:S.id?"Edit Email Campaign":"Create Email Campaign",description:"Create and manage email marketing campaigns",schema:S.id?P:D,defaultValues:S.id?S:void 0,onSubmit:S.id?e=>{S&&ea.mutate({id:S.id,data:e})}:e=>{ee.mutate(e)},isLoading:S.id?ea.isPending:ee.isPending,children:e=>(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Campaign Name"}),s.jsx(g.I,{...e.register("name"),placeholder:"Welcome Series"}),e.formState.errors.name&&s.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.name.message})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Subject Line"}),s.jsx(g.I,{...e.register("subject"),placeholder:"Welcome to Tripfluence!"}),e.formState.errors.subject&&s.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.subject.message})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Email Content"}),s.jsx("textarea",{...e.register("content"),className:"w-full p-2 border rounded-md",rows:8,placeholder:"Write your email content here..."}),e.formState.errors.content&&s.jsx("p",{className:"text-sm text-red-500",children:e.formState.errors.content.message})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Recipient Type"}),(0,s.jsxs)(j.Ph,{onValueChange:t=>e.setValue("recipientType",t),children:[s.jsx(j.i4,{children:s.jsx(j.ki,{placeholder:"Select recipient type"})}),(0,s.jsxs)(j.Bw,{children:[s.jsx(j.Ql,{value:"all",children:"All Customers"}),s.jsx(j.Ql,{value:"segment",children:"Customer Segment"}),s.jsx(j.Ql,{value:"list",children:"Custom List"})]})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Schedule Date (Optional)"}),s.jsx(g.I,{...e.register("scheduledAt",{valueAsDate:!0}),type:"datetime-local"})]})]})})]})}},11585:(e,t,a)=>{"use strict";a.d(t,{aN:()=>d});var s=a(10326),i=a(17577),r=a(74723),l=a(74064),n=a(62288),o=a(90772);function d({isOpen:e,onClose:t,title:a,description:i,schema:d,defaultValues:c,onSubmit:m,children:u,submitLabel:x="Save",cancelLabel:h="Cancel",isLoading:p=!1}){let g=(0,r.cI)({resolver:(0,l.F)(d),defaultValues:c}),y=async e=>{try{await m(e),g.reset(),t()}catch(e){console.error("Form submission error:",e)}};return s.jsx(n.Vq,{open:e,onOpenChange:t,children:(0,s.jsxs)(n.cZ,{className:"sm:max-w-[425px]",children:[(0,s.jsxs)(n.fK,{children:[s.jsx(n.$N,{children:a}),i&&s.jsx(n.Be,{children:i})]}),s.jsx(r.RV,{...g,children:(0,s.jsxs)("div",{"data-testid":"form",className:"space-y-4",children:[u(g),(0,s.jsxs)(n.cN,{children:[s.jsx(o.z,{type:"button",variant:"outline",onClick:t,disabled:p,children:h}),s.jsx(o.z,{type:"button",disabled:p,onClick:()=>g.handleSubmit(y)(),children:p?"Saving...":x})]})]})})]})})}a(31048),a(54432),a(87673),a(34474)},33071:(e,t,a)=>{"use strict";a.d(t,{Ol:()=>n,SZ:()=>d,Zb:()=>l,aY:()=>c,ll:()=>o});var s=a(10326),i=a(17577),r=a(77863);let l=i.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));l.displayName="Card";let n=i.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...t}));n.displayName="CardHeader";let o=i.forwardRef(({className:e,...t},a)=>s.jsx("h3",{ref:a,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle";let d=i.forwardRef(({className:e,...t},a)=>s.jsx("p",{ref:a,className:(0,r.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=i.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,r.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",i.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,r.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},73427:(e,t,a)=>{"use strict";a.d(t,{mQ:()=>R,nU:()=>T,dr:()=>_,SP:()=>V});var s=a(10326),i=a(17577),r=a(82561),l=a(93095),n=a(15594),o=a(9815),d=a(45226),c=a(17124),m=a(52067),u=a(88957),x="Tabs",[h,p]=(0,l.b)(x,[n.Pc]),g=(0,n.Pc)(),[y,j]=h(x),f=i.forwardRef((e,t)=>{let{__scopeTabs:a,value:i,onValueChange:r,defaultValue:l,orientation:n="horizontal",dir:o,activationMode:h="automatic",...p}=e,g=(0,c.gm)(o),[j,f]=(0,m.T)({prop:i,onChange:r,defaultProp:l??"",caller:x});return(0,s.jsx)(y,{scope:a,baseId:(0,u.M)(),value:j,onValueChange:f,orientation:n,dir:g,activationMode:h,children:(0,s.jsx)(d.WV.div,{dir:g,"data-orientation":n,...p,ref:t})})});f.displayName=x;var v="TabsList",N=i.forwardRef((e,t)=>{let{__scopeTabs:a,loop:i=!0,...r}=e,l=j(v,a),o=g(a);return(0,s.jsx)(n.fC,{asChild:!0,...o,orientation:l.orientation,dir:l.dir,loop:i,children:(0,s.jsx)(d.WV.div,{role:"tablist","aria-orientation":l.orientation,...r,ref:t})})});N.displayName=v;var b="TabsTrigger",w=i.forwardRef((e,t)=>{let{__scopeTabs:a,value:i,disabled:l=!1,...o}=e,c=j(b,a),m=g(a),u=A(c.baseId,i),x=S(c.baseId,i),h=i===c.value;return(0,s.jsx)(n.ck,{asChild:!0,...m,focusable:!l,active:h,children:(0,s.jsx)(d.WV.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":x,"data-state":h?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:u,...o,ref:t,onMouseDown:(0,r.Mj)(e.onMouseDown,e=>{l||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(i)}),onKeyDown:(0,r.Mj)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(i)}),onFocus:(0,r.Mj)(e.onFocus,()=>{let e="manual"!==c.activationMode;h||l||!e||c.onValueChange(i)})})})});w.displayName=b;var k="TabsContent",C=i.forwardRef((e,t)=>{let{__scopeTabs:a,value:r,forceMount:l,children:n,...c}=e,m=j(k,a),u=A(m.baseId,r),x=S(m.baseId,r),h=r===m.value,p=i.useRef(h);return i.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,s.jsx)(o.z,{present:l||h,children:({present:a})=>(0,s.jsx)(d.WV.div,{"data-state":h?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":u,hidden:!a,id:x,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:a&&n})})});function A(e,t){return`${e}-trigger-${t}`}function S(e,t){return`${e}-content-${t}`}C.displayName=k;var Z=a(77863);function R({className:e,...t}){return s.jsx(f,{"data-slot":"tabs",className:(0,Z.cn)("flex flex-col gap-2",e),...t})}function _({className:e,...t}){return s.jsx(N,{"data-slot":"tabs-list",className:(0,Z.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function V({className:e,...t}){return s.jsx(w,{"data-slot":"tabs-trigger",className:(0,Z.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function T({className:e,...t}){return s.jsx(C,{"data-slot":"tabs-content",className:(0,Z.cn)("flex-1 outline-none",e),...t})}},12969:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]])},43810:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},15919:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},7027:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},12714:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5932:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},83855:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},69436:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},69508:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},98091:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},26644:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(68570).createProxy)(String.raw`/Users/kumar/Business admin/tripfluence-admin/app/(admin)/marketing/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[8948,1365,354,6582,5403,260,1468,1724,2880,5079,6179,1427,3708],()=>a(64529));module.exports=s})();