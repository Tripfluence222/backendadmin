(()=>{var e={};e.id=9159,e.ids=[9159],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},86339:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>o,routeModule:()=>m,tree:()=>d}),t(86537),t(75275),t(35866),t(11506);var s=t(23191),n=t(88716),r=t(37922),i=t.n(r),l=t(95231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(a,c);let d=["",{children:["(admin)",{children:["space-pricing",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,86537)),"/Users/kumar/Business admin/tripfluence-admin/app/(admin)/space-pricing/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,75275)),"/Users/kumar/Business admin/tripfluence-admin/app/(admin)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,11506)),"/Users/kumar/Business admin/tripfluence-admin/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/kumar/Business admin/tripfluence-admin/app/(admin)/space-pricing/page.tsx"],u="/(admin)/space-pricing/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(admin)/space-pricing/page",pathname:"/space-pricing",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},77391:(e,a,t)=>{Promise.resolve().then(t.bind(t,77449))},77449:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>P});var s=t(10326),n=t(17577),r=t(44976),i=t(20108),l=t(10119),c=t(83855),d=t(69561),o=t(85999),u=t(90772),p=t(54432),m=t(33071),h=t(34474),x=t(82089),g=t(11585),y=t(83093),f=t(27100),j=t(567),v=t(48998),b=t(37358),R=t(33734),N=t(71821),w=t(69508);let k=({onEdit:e})=>[{accessorKey:"spaceTitle",header:"Space",cell:({row:e})=>{let a=e.getValue("spaceTitle");return s.jsx("div",{className:"font-medium",children:a})}},{accessorKey:"kind",header:"Type",cell:({row:e})=>{let a=e.getValue("kind"),t="HOURLY"===a?v.Z:"DAILY"===a?b.Z:"PEAK"===a?R.Z:N.Z;return(0,s.jsxs)(j.C,{variant:"HOURLY"===a?"default":"DAILY"===a?"secondary":"PEAK"===a?"destructive":"CLEANING_FEE"===a?"outline":"secondary",className:"flex items-center gap-1",children:[s.jsx(t,{className:"h-3 w-3"}),a.replace("_"," ")]})}},{accessorKey:"amount",header:"Amount",cell:({row:e})=>{let a=e.getValue("amount"),t=e.original.currency;return(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[s.jsx(N.Z,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:a}),s.jsx("span",{className:"text-sm text-muted-foreground",children:t})]})}},{accessorKey:"dow",header:"Days of Week",cell:({row:e})=>{let a=e.getValue("dow"),t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return 0===a.length?s.jsx("span",{className:"text-muted-foreground",children:"All days"}):s.jsx("div",{className:"flex flex-wrap gap-1",children:a.map(e=>s.jsx(j.C,{variant:"outline",className:"text-xs",children:t[e]},e))})}},{accessorKey:"startHour",header:"Time Range",cell:({row:e})=>{let a=e.getValue("startHour"),t=e.original.endHour;if(!a||!t)return s.jsx("span",{className:"text-muted-foreground",children:"All hours"});let n=e=>0===e?"12 AM":e<12?`${e} AM`:12===e?"12 PM":`${e-12} PM`;return(0,s.jsxs)("div",{className:"text-sm",children:[n(a)," - ",n(t)]})}},{id:"actions",header:"Actions",cell:({row:a})=>{let t={id:a.original.spaceId,title:a.original.spaceTitle,slug:a.original.spaceSlug};return s.jsx(u.z,{variant:"ghost",size:"sm",onClick:()=>e(t),children:s.jsx(w.Z,{className:"h-4 w-4"})})}}];var I=t(98091),_=t(31048),Z=t(68762);function E({space:e,onSubmit:a,isLoading:t}){let[r,i]=(0,n.useState)(e.pricingRules||[]),[l,d]=(0,n.useState)({kind:"HOURLY",amount:0,currency:"USD",dow:[],startHour:void 0,endHour:void 0}),x=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],g=e=>{i(a=>a.filter((a,t)=>t!==e))},y=e=>{d(a=>({...a,dow:a.dow?.includes(e)?a.dow.filter(a=>a!==e):[...a.dow||[],e]}))},f=e=>{switch(e){case"HOURLY":return v.Z;case"DAILY":return b.Z;case"PEAK":return R.Z;default:return N.Z}},w=e=>{switch(e){case"HOURLY":return"default";case"DAILY":default:return"secondary";case"PEAK":return"destructive";case"CLEANING_FEE":return"outline"}};return(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx(m.Zb,{children:s.jsx(m.Ol,{children:(0,s.jsxs)(m.ll,{children:["Space: ",e.title]})})}),r.length>0&&(0,s.jsxs)(m.Zb,{children:[s.jsx(m.Ol,{children:s.jsx(m.ll,{children:"Current Pricing Rules"})}),s.jsx(m.aY,{className:"space-y-3",children:r.map((e,a)=>{let t=f(e.kind);return(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx(t,{className:"h-4 w-4"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(j.C,{variant:w(e.kind),children:e.kind.replace("_"," ")}),(0,s.jsxs)("span",{className:"font-medium",children:["$",e.amount," ",e.currency]})]}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.dow.length>0?e.dow.map(e=>x[e]).join(", "):"All days",void 0!==e.startHour&&void 0!==e.endHour&&` â€¢ ${e.startHour}:00 - ${e.endHour}:00`]})]})]}),s.jsx(u.z,{variant:"ghost",size:"sm",onClick:()=>g(a),children:s.jsx(I.Z,{className:"h-4 w-4"})})]},e.id)})})]}),(0,s.jsxs)(m.Zb,{children:[s.jsx(m.Ol,{children:s.jsx(m.ll,{children:"Add Pricing Rule"})}),(0,s.jsxs)(m.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(_._,{children:"Pricing Type"}),(0,s.jsxs)(h.Ph,{value:l.kind,onValueChange:e=>d(a=>({...a,kind:e})),children:[s.jsx(h.i4,{children:s.jsx(h.ki,{placeholder:"Select type"})}),(0,s.jsxs)(h.Bw,{children:[s.jsx(h.Ql,{value:"HOURLY",children:"Hourly Rate"}),s.jsx(h.Ql,{value:"DAILY",children:"Daily Rate"}),s.jsx(h.Ql,{value:"PEAK",children:"Peak Pricing"}),s.jsx(h.Ql,{value:"CLEANING_FEE",children:"Cleaning Fee"}),s.jsx(h.Ql,{value:"SECURITY_DEPOSIT",children:"Security Deposit"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(_._,{children:"Amount"}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx(N.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(p.I,{type:"number",value:l.amount||"",onChange:e=>d(a=>({...a,amount:Number(e.target.value)})),className:"pl-10",min:"0",step:"0.01"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(_._,{children:"Days of Week"}),s.jsx("div",{className:"grid grid-cols-7 gap-2",children:x.map((e,a)=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(Z.X,{id:`day-${a}`,checked:l.dow?.includes(a)||!1,onCheckedChange:()=>y(a)}),s.jsx(_._,{htmlFor:`day-${a}`,className:"text-xs",children:e.slice(0,3)})]},a))})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(_._,{children:"Start Hour (24h format)"}),s.jsx(p.I,{type:"number",value:l.startHour||"",onChange:e=>d(a=>({...a,startHour:Number(e.target.value)})),min:"0",max:"23",placeholder:"e.g., 9"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(_._,{children:"End Hour (24h format)"}),s.jsx(p.I,{type:"number",value:l.endHour||"",onChange:e=>d(a=>({...a,endHour:Number(e.target.value)})),min:"0",max:"23",placeholder:"e.g., 17"})]})]}),(0,s.jsxs)(u.z,{type:"button",onClick:()=>{if(l.kind&&l.amount&&l.amount>0){let a={id:`temp-${Date.now()}`,spaceId:e.id,kind:l.kind,amount:l.amount,currency:l.currency||"USD",dow:l.dow||[],startHour:l.startHour,endHour:l.endHour};i(e=>[...e,a]),d({kind:"HOURLY",amount:0,currency:"USD",dow:[],startHour:void 0,endHour:void 0})}},className:"w-full",children:[s.jsx(c.Z,{className:"mr-2 h-4 w-4"}),"Add Rule"]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(u.z,{onClick:()=>{if(0===r.length){o.Am.error("Please add at least one pricing rule");return}a({rules:r})},disabled:t||0===r.length,children:t?"Saving...":"Save Pricing Rules"})})]})}function P(){let[e,a]=(0,n.useState)(!1),[t,j]=(0,n.useState)(!1),[v,b]=(0,n.useState)(null),[R,N]=(0,n.useState)({search:"",spaceId:"all",kind:"all"}),w=(0,r.NL)(),{data:I,isLoading:_}=(0,i.a)({queryKey:["spaces","pricing"],queryFn:()=>y.r.list({})}),Z=(0,l.D)({mutationFn:y.r.updatePricingRules,onSuccess:()=>{w.invalidateQueries({queryKey:["spaces"]}),j(!1),b(null),o.Am.success("Pricing rules updated successfully")},onError:e=>{o.Am.error(e.message||"Failed to update pricing rules")}}),P=e=>{v&&Z.mutate({spaceId:v.id,rules:e.rules})},S=I?.spaces?.flatMap(e=>e.pricingRules?.map(a=>({...a,spaceId:e.id,spaceTitle:e.title,spaceSlug:e.slug}))||[])||[],q=k({onEdit:e=>{b(e),j(!0)}});return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Space Pricing"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage pricing rules for your rental spaces"})]}),(0,s.jsxs)(u.z,{onClick:()=>a(!0),children:[s.jsx(c.Z,{className:"mr-2 h-4 w-4"}),"Add Pricing Rule"]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-4 p-4 border rounded-lg bg-muted/50",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(d.Z,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Filters:"})]}),s.jsx(p.I,{placeholder:"Search spaces...",value:R.search,onChange:e=>N(a=>({...a,search:e.target.value})),className:"w-64"}),(0,s.jsxs)(h.Ph,{value:R.spaceId,onValueChange:e=>N(a=>({...a,spaceId:e})),children:[s.jsx(h.i4,{className:"w-48",children:s.jsx(h.ki,{placeholder:"Select space"})}),(0,s.jsxs)(h.Bw,{children:[s.jsx(h.Ql,{value:"all",children:"All Spaces"}),I?.spaces?.map(e=>s.jsx(h.Ql,{value:e.id,children:e.title},e.id))]})]}),(0,s.jsxs)(h.Ph,{value:R.kind,onValueChange:e=>N(a=>({...a,kind:e})),children:[s.jsx(h.i4,{className:"w-40",children:s.jsx(h.ki,{placeholder:"Pricing Type"})}),(0,s.jsxs)(h.Bw,{children:[s.jsx(h.Ql,{value:"all",children:"All Types"}),s.jsx(h.Ql,{value:"HOURLY",children:"Hourly"}),s.jsx(h.Ql,{value:"DAILY",children:"Daily"}),s.jsx(h.Ql,{value:"PEAK",children:"Peak"}),s.jsx(h.Ql,{value:"CLEANING_FEE",children:"Cleaning Fee"}),s.jsx(h.Ql,{value:"SECURITY_DEPOSIT",children:"Security Deposit"})]})]})]}),(0,s.jsxs)(m.Zb,{children:[(0,s.jsxs)(m.Ol,{children:[s.jsx(m.ll,{children:"Pricing Rules"}),s.jsx(m.SZ,{children:"Manage pricing rules for different time periods and conditions"})]}),s.jsx(m.aY,{children:s.jsx(x.w,{columns:q,data:S,isLoading:_,pagination:{page:1,limit:50,total:S.length}})})]}),s.jsx(g.aN,{isOpen:t,onClose:()=>{j(!1),b(null)},title:"Edit Pricing Rules",description:"Update pricing rules for this space",schema:f.QU,onSubmit:P,isLoading:Z.isPending,children:e=>v&&s.jsx(E,{space:v,onSubmit:P,isLoading:Z.isPending})})]})}},11585:(e,a,t)=>{"use strict";t.d(a,{aN:()=>d});var s=t(10326),n=t(17577),r=t(74723),i=t(74064),l=t(62288),c=t(90772);function d({isOpen:e,onClose:a,title:t,description:n,schema:d,defaultValues:o,onSubmit:u,children:p,submitLabel:m="Save",cancelLabel:h="Cancel",isLoading:x=!1}){let g=(0,r.cI)({resolver:(0,i.F)(d),defaultValues:o}),y=async e=>{try{await u(e),g.reset(),a()}catch(e){console.error("Form submission error:",e)}};return s.jsx(l.Vq,{open:e,onOpenChange:a,children:(0,s.jsxs)(l.cZ,{className:"sm:max-w-[425px]",children:[(0,s.jsxs)(l.fK,{children:[s.jsx(l.$N,{children:t}),n&&s.jsx(l.Be,{children:n})]}),s.jsx(r.RV,{...g,children:(0,s.jsxs)("div",{"data-testid":"form",className:"space-y-4",children:[p(g),(0,s.jsxs)(l.cN,{children:[s.jsx(c.z,{type:"button",variant:"outline",onClick:a,disabled:x,children:h}),s.jsx(c.z,{type:"button",disabled:x,onClick:()=>g.handleSubmit(y)(),children:x?"Saving...":m})]})]})})]})})}t(31048),t(54432),t(87673),t(34474)},33071:(e,a,t)=>{"use strict";t.d(a,{Ol:()=>l,SZ:()=>d,Zb:()=>i,aY:()=>o,ll:()=>c});var s=t(10326),n=t(17577),r=t(77863);let i=n.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));i.displayName="Card";let l=n.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...a}));l.displayName="CardHeader";let c=n.forwardRef(({className:e,...a},t)=>s.jsx("h3",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));c.displayName="CardTitle";let d=n.forwardRef(({className:e,...a},t)=>s.jsx("p",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",e),...a}));d.displayName="CardDescription";let o=n.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,r.cn)("p-6 pt-0",e),...a}));o.displayName="CardContent",n.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter"},68762:(e,a,t)=>{"use strict";t.d(a,{X:()=>P});var s=t(10326),n=t(17577),r=t(48051),i=t(93095),l=t(82561),c=t(52067),d=t(53405),o=t(2566),u=t(9815),p=t(45226),m="Checkbox",[h,x]=(0,i.b)(m),[g,y]=h(m);function f(e){let{__scopeCheckbox:a,checked:t,children:r,defaultChecked:i,disabled:l,form:d,name:o,onCheckedChange:u,required:p,value:h="on",internal_do_not_use_render:x}=e,[y,f]=(0,c.T)({prop:t,defaultProp:i??!1,onChange:u,caller:m}),[j,v]=n.useState(null),[b,R]=n.useState(null),N=n.useRef(!1),w=!j||!!d||!!j.closest("form"),k={checked:y,disabled:l,setChecked:f,control:j,setControl:v,name:o,form:d,value:h,hasConsumerStoppedPropagationRef:N,required:p,defaultChecked:!I(i)&&i,isFormControl:w,bubbleInput:b,setBubbleInput:R};return(0,s.jsx)(g,{scope:a,...k,children:"function"==typeof x?x(k):r})}var j="CheckboxTrigger",v=n.forwardRef(({__scopeCheckbox:e,onKeyDown:a,onClick:t,...i},c)=>{let{control:d,value:o,disabled:u,checked:m,required:h,setControl:x,setChecked:g,hasConsumerStoppedPropagationRef:f,isFormControl:v,bubbleInput:b}=y(j,e),R=(0,r.e)(c,x),N=n.useRef(m);return n.useEffect(()=>{let e=d?.form;if(e){let a=()=>g(N.current);return e.addEventListener("reset",a),()=>e.removeEventListener("reset",a)}},[d,g]),(0,s.jsx)(p.WV.button,{type:"button",role:"checkbox","aria-checked":I(m)?"mixed":m,"aria-required":h,"data-state":_(m),"data-disabled":u?"":void 0,disabled:u,value:o,...i,ref:R,onKeyDown:(0,l.Mj)(a,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,l.Mj)(t,e=>{g(e=>!!I(e)||!e),b&&v&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())})})});v.displayName=j;var b=n.forwardRef((e,a)=>{let{__scopeCheckbox:t,name:n,checked:r,defaultChecked:i,required:l,disabled:c,value:d,onCheckedChange:o,form:u,...p}=e;return(0,s.jsx)(f,{__scopeCheckbox:t,checked:r,defaultChecked:i,disabled:c,required:l,onCheckedChange:o,name:n,form:u,value:d,internal_do_not_use_render:({isFormControl:e})=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v,{...p,ref:a,__scopeCheckbox:t}),e&&(0,s.jsx)(k,{__scopeCheckbox:t})]})})});b.displayName=m;var R="CheckboxIndicator",N=n.forwardRef((e,a)=>{let{__scopeCheckbox:t,forceMount:n,...r}=e,i=y(R,t);return(0,s.jsx)(u.z,{present:n||I(i.checked)||!0===i.checked,children:(0,s.jsx)(p.WV.span,{"data-state":_(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{pointerEvents:"none",...e.style}})})});N.displayName=R;var w="CheckboxBubbleInput",k=n.forwardRef(({__scopeCheckbox:e,...a},t)=>{let{control:i,hasConsumerStoppedPropagationRef:l,checked:c,defaultChecked:u,required:m,disabled:h,name:x,value:g,form:f,bubbleInput:j,setBubbleInput:v}=y(w,e),b=(0,r.e)(t,v),R=(0,d.D)(c),N=(0,o.t)(i);n.useEffect(()=>{if(!j)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,a=!l.current;if(R!==c&&e){let t=new Event("click",{bubbles:a});j.indeterminate=I(c),e.call(j,!I(c)&&c),j.dispatchEvent(t)}},[j,R,c,l]);let k=n.useRef(!I(c)&&c);return(0,s.jsx)(p.WV.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??k.current,required:m,disabled:h,name:x,value:g,form:f,...a,tabIndex:-1,ref:b,style:{...a.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function I(e){return"indeterminate"===e}function _(e){return I(e)?"indeterminate":e?"checked":"unchecked"}k.displayName=w;var Z=t(32933),E=t(77863);let P=n.forwardRef(({className:e,...a},t)=>s.jsx(b,{ref:t,className:(0,E.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...a,children:s.jsx(N,{className:(0,E.cn)("flex items-center justify-center text-current"),children:s.jsx(Z.Z,{className:"h-4 w-4"})})}));P.displayName=b.displayName},83093:(e,a,t)=>{"use strict";t.d(a,{r:()=>i}),t(85999);class s extends Error{constructor(e,a,t){super(e),this.status=a,this.response=t,this.name="ApiError"}}class n{constructor(e="/api"){this.baseUrl=e,this.defaultHeaders={"Content-Type":"application/json"}}async request(e,a={}){let t=`${this.baseUrl}${e}`,n=new AbortController,r=setTimeout(()=>n.abort(),3e4);try{let e=await fetch(t,{...a,headers:{...this.defaultHeaders,...a.headers},signal:n.signal});if(clearTimeout(r),!e.ok){let a=await e.json().catch(()=>({}));throw new s(a.message||`HTTP ${e.status}`,e.status,e)}return await e.json()}catch(e){if(clearTimeout(r),e instanceof s)throw e;if(e instanceof Error&&"AbortError"===e.name)throw new s("Request timeout",408);throw new s(e instanceof Error?e.message:"Unknown error",500)}}async get(e,a){let t=new URL(e,this.baseUrl);return a&&Object.entries(a).forEach(([e,a])=>{null!=a&&t.searchParams.append(e,String(a))}),this.request(t.pathname+t.search,{method:"GET"})}async post(e,a,t){return this.request(e,{method:"POST",body:a?JSON.stringify(a):void 0,headers:t})}async patch(e,a,t){return this.request(e,{method:"PATCH",body:a?JSON.stringify(a):void 0,headers:t})}async delete(e,a){return this.request(e,{method:"DELETE",headers:a})}}let r=new n,i={list:async(e={})=>{let a=new URLSearchParams;return Object.entries(e).forEach(([e,t])=>{null!=t&&a.append(e,String(t))}),r.get(`/space?${a}`)},get:async e=>r.get(`/space/${e}`),create:async e=>r.post("/space",e),update:async(e,a)=>r.patch(`/space/${e}`,a),delete:async e=>r.delete(`/space/${e}`),publish:async e=>r.post(`/space/${e}/publish`),archive:async e=>r.post(`/space/${e}/archive`),updatePricingRules:async e=>r.post(`/space/${e.spaceId}/pricing`,e),updateAvailability:async e=>r.post(`/space/${e.spaceId}/availability`,e),listRequests:async(e={})=>{let a=new URLSearchParams;return Object.entries(e).forEach(([e,t])=>{null!=t&&a.append(e,String(t))}),r.get(`/space/requests?${a}`)},getRequest:async e=>r.get(`/space/requests/${e}`),quoteRequest:async e=>r.post(`/space/requests/${e.requestId}/quote`,e),approveRequest:async e=>r.post(`/space/requests/${e.requestId}/approve`,e),declineRequest:async e=>r.post(`/space/requests/${e.requestId}/decline`,e),cancelRequest:async e=>r.post(`/space/requests/${e.requestId}/cancel`,e),sendMessage:async e=>r.post(`/space/requests/${e.spaceReqId}/messages`,e),getStats:async()=>r.get("/space/stats"),publicList:async(e={})=>{let a=new URLSearchParams;return Object.entries(e).forEach(([e,t])=>{null!=t&&a.append(e,String(t))}),r.get(`/public/space?${a}`)},publicGet:async e=>r.get(`/public/space/${e}`),publicCheckAvailability:async e=>r.post(`/public/space/${e.spaceId}/availability`,e),publicGetQuote:async e=>r.post(`/public/space/${e.spaceId}/quote`,e)}},27100:(e,a,t)=>{"use strict";t.d(a,{IZ:()=>r,QU:()=>l,Xu:()=>d,qe:()=>n});var s=t(49969);let n=s.Ryn({title:s.Z_8().min(1,"Title is required").max(100,"Title too long"),slug:s.Z_8().min(1,"Slug is required").max(50,"Slug too long").regex(/^[a-z0-9-]+$/,"Slug must contain only lowercase letters, numbers, and hyphens"),description:s.Z_8().min(10,"Description must be at least 10 characters").max(1e3,"Description too long"),photos:s.IXX(s.Z_8().url("Invalid photo URL")).max(10,"Maximum 10 photos allowed"),location:s.Ryn({address:s.Z_8().min(1,"Address is required"),lat:s.Rxh().min(-90).max(90),lng:s.Rxh().min(-180).max(180)}),capacity:s.Rxh().int().min(1,"Capacity must be at least 1").max(1e3,"Capacity too large"),floorAreaM2:s.Rxh().int().min(1).max(1e4).optional(),amenities:s.IXX(s.Ryn({label:s.Z_8().min(1,"Amenity label is required"),category:s.Z_8().optional()})).max(20,"Maximum 20 amenities allowed"),rules:s.IXX(s.Ryn({label:s.Z_8().min(1,"Rule label is required"),required:s.O72()})).max(10,"Maximum 10 rules allowed")}),r=n.partial().extend({id:s.Z_8().cuid()});s.Ryn({id:s.Z_8().cuid()});let i=s.Ryn({kind:s.KmV(["HOURLY","DAILY","PEAK","CLEANING_FEE","SECURITY_DEPOSIT"]),amount:s.Rxh().int().min(0,"Amount must be positive"),currency:s.Z_8().length(3,"Currency must be 3 characters"),dow:s.IXX(s.Rxh().int().min(0).max(6)).default([]),startHour:s.Rxh().int().min(0).max(23).optional(),endHour:s.Rxh().int().min(0).max(23).optional()}).refine(e=>void 0===e.startHour||void 0===e.endHour||e.startHour<e.endHour,{message:"Start hour must be before end hour",path:["endHour"]}),l=s.Ryn({spaceId:s.Z_8().cuid(),rules:s.IXX(i).max(10,"Maximum 10 pricing rules allowed")}),c=s.Ryn({spaceId:s.Z_8().cuid(),start:s.oQ2.date(),end:s.oQ2.date(),isBlocked:s.O72().default(!1),notes:s.Z_8().max(500).optional()}).refine(e=>e.start<e.end,{message:"Start time must be before end time",path:["end"]});s.Ryn({spaceId:s.Z_8().cuid(),blocks:s.IXX(c.omit({spaceId:!0})).max(50,"Maximum 50 availability blocks allowed")}),s.Ryn({spaceId:s.Z_8().cuid(),title:s.Z_8().min(1,"Title is required").max(100,"Title too long"),description:s.Z_8().max(500).optional(),attendees:s.Rxh().int().min(1,"At least 1 attendee required").max(1e3,"Too many attendees"),start:s.oQ2.date(),end:s.oQ2.date(),organizerId:s.Z_8().min(1,"Organizer ID is required")}).refine(e=>e.start<e.end,{message:"Start time must be before end time",path:["end"]}).refine(e=>e.end.getTime()-e.start.getTime()<=864e5,{message:"Booking duration cannot exceed 24 hours",path:["end"]});let d=s.Ryn({requestId:s.Z_8().cuid(),quoteAmount:s.Rxh().int().min(0,"Quote amount must be positive"),depositAmount:s.Rxh().int().min(0).optional(),cleaningFee:s.Rxh().int().min(0).optional(),pricingBreakdown:s.IMB(s.YjB())});s.Ryn({requestId:s.Z_8().cuid(),decision:s.KmV(["approve","decline"]),message:s.Z_8().max(500).optional()}),s.Ryn({requestId:s.Z_8().cuid(),reason:s.Z_8().max(200).optional()}),s.Ryn({spaceReqId:s.Z_8().cuid(),body:s.Z_8().min(1,"Message body is required").max(1e3,"Message too long"),attachments:s.IXX(s.Z_8().url("Invalid attachment URL")).max(5,"Maximum 5 attachments allowed").optional()}),s.Ryn({requestId:s.Z_8().cuid(),paymentMethodId:s.Z_8().min(1,"Payment method is required"),idempotencyKey:s.Z_8().uuid("Invalid idempotency key")}),s.Ryn({businessId:s.Z_8().cuid(),returnUrl:s.Z_8().url("Invalid return URL").optional(),refreshUrl:s.Z_8().url("Invalid refresh URL").optional()}),s.Ryn({city:s.Z_8().optional(),priceMin:s.oQ2.number().int().min(0).optional(),priceMax:s.oQ2.number().int().min(0).optional(),capacity:s.oQ2.number().int().min(1).optional(),amenities:s.IXX(s.Z_8()).optional(),from:s.oQ2.date().optional(),to:s.oQ2.date().optional(),page:s.oQ2.number().int().min(1).default(1),limit:s.oQ2.number().int().min(1).max(50).default(24),sort:s.KmV(["relevance","price_asc","price_desc","capacity","distance"]).default("relevance"),lat:s.oQ2.number().optional(),lng:s.oQ2.number().optional(),radius:s.oQ2.number().int().min(1).max(100).default(50)}),s.Ryn({spaceId:s.Z_8().cuid(),from:s.oQ2.date(),to:s.oQ2.date()}),s.Ryn({spaceId:s.Z_8().cuid(),start:s.oQ2.date(),end:s.oQ2.date(),attendees:s.Rxh().int().min(1).max(1e3)}),s.Ryn({q:s.Z_8().min(1,"Search query is required").max(100,"Query too long"),filters:s.Ryn({city:s.Z_8().optional(),priceRange:s.bcc([s.Rxh(),s.Rxh()]).optional(),capacity:s.Rxh().int().min(1).optional(),amenities:s.IXX(s.Z_8()).optional()}).optional(),page:s.oQ2.number().int().min(1).default(1),limit:s.oQ2.number().int().min(1).max(50).default(20)}),s.Ryn({status:s.KmV(["DRAFT","PUBLISHED","ARCHIVED"]).optional(),city:s.Z_8().optional(),capacity:s.oQ2.number().int().min(1).optional(),q:s.Z_8().optional(),page:s.oQ2.number().int().min(1).default(1),limit:s.oQ2.number().int().min(1).max(100).default(20)}),s.Ryn({status:s.KmV(["PENDING","APPROVED","DECLINED","CANCELLED"]).optional(),spaceId:s.Z_8().cuid().optional(),from:s.oQ2.date().optional(),to:s.oQ2.date().optional(),page:s.oQ2.number().int().min(1).default(1),limit:s.oQ2.number().int().min(1).max(100).default(20)})},69561:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(62881).Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},83855:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(62881).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},69508:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(62881).Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},98091:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(62881).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},86537:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});let s=(0,t(68570).createProxy)(String.raw`/Users/kumar/Business admin/tripfluence-admin/app/(admin)/space-pricing/page.tsx#default`)}};var a=require("../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[8948,1365,354,6582,5403,260,1468,1724,2880,6179,1427,3708],()=>t(86339));module.exports=s})();