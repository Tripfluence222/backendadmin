(()=>{var e={};e.id=1626,e.ids=[1626],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},63636:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>r.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>o,routeModule:()=>p,tree:()=>d}),t(54539),t(75275),t(35866),t(11506);var a=t(23191),n=t(88716),i=t(37922),r=t.n(i),l=t(95231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let d=["",{children:["(admin)",{children:["space-requests",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,54539)),"/Users/kumar/Business admin/tripfluence-admin/app/(admin)/space-requests/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,75275)),"/Users/kumar/Business admin/tripfluence-admin/app/(admin)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,11506)),"/Users/kumar/Business admin/tripfluence-admin/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/kumar/Business admin/tripfluence-admin/app/(admin)/space-requests/page.tsx"],m="/(admin)/space-requests/page",u={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(admin)/space-requests/page",pathname:"/space-requests",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},58882:(e,s,t)=>{Promise.resolve().then(t.bind(t,48569))},48569:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>F});var a=t(10326),n=t(17577),i=t(44976),r=t(20108),l=t(10119),c=t(69561),d=t(85999),o=t(54432),m=t(33071),u=t(34474),p=t(82089),x=t(83093),h=t(567),g=t(90772),j=t(60097),y=t(24061),f=t(37358),N=t(71821),v=t(40617),b=t(12714),q=t(15919),w=t(30361),R=t(69669),A=t(45079);let Z=({onViewDetails:e,onQuote:s,onApprove:t,onDecline:n})=>[{accessorKey:"title",header:"Request",cell:({row:e})=>{let s=e.original;return(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-medium",children:s.title}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[s.organizerName," â€¢ ",s.organizerEmail]})]})}},{accessorKey:"status",header:"Status",cell:({row:e})=>{let s=e.getValue("status");return a.jsx(h.C,{variant:"CONFIRMED"===s?"default":"PENDING"===s?"secondary":"NEEDS_PAYMENT"===s?"outline":"DECLINED"===s||"EXPIRED"===s||"CANCELLED"===s?"destructive":"secondary",children:s.replace("_"," ")})}},{accessorKey:"attendees",header:"Attendees",cell:({row:e})=>{let s=e.getValue("attendees");return(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(y.Z,{className:"h-4 w-4 text-muted-foreground"}),s]})}},{accessorKey:"start",header:"Date & Time",cell:({row:e})=>{let s=e.original;return(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(f.Z,{className:"h-3 w-3"}),(0,A.WU)(new Date(s.start),"MMM d, yyyy")]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(0,A.WU)(new Date(s.start),"h:mm a")," - ",(0,A.WU)(new Date(s.end),"h:mm a")]})]})}},{accessorKey:"quoteAmount",header:"Quote",cell:({row:e})=>{let s=e.original;return s.quoteAmount?(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(N.Z,{className:"h-3 w-3"}),s.quoteAmount]}),s.depositAmount&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Deposit: $",s.depositAmount]})]}):a.jsx("span",{className:"text-muted-foreground",children:"No quote"})}},{accessorKey:"messages",header:"Messages",cell:({row:e})=>{let s=e.original,t=s.messages?.length||0;return(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(v.Z,{className:"h-4 w-4 text-muted-foreground"}),t]})}},{accessorKey:"createdAt",header:"Requested",cell:({row:e})=>{let s=e.getValue("createdAt");return(0,A.WU)(new Date(s),"MMM d, yyyy")}},{id:"actions",header:"Actions",cell:({row:i})=>{let r=i.original;return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(g.z,{variant:"ghost",size:"sm",onClick:()=>e(r),children:a.jsx(b.Z,{className:"h-4 w-4"})}),(0,a.jsxs)(j.h_,{children:[a.jsx(j.$F,{asChild:!0,children:a.jsx(g.z,{variant:"ghost",size:"sm",children:a.jsx(q.Z,{className:"h-4 w-4"})})}),(0,a.jsxs)(j.AW,{align:"end",children:["PENDING"===r.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(j.Xi,{onClick:()=>s(r),children:[a.jsx(N.Z,{className:"mr-2 h-4 w-4"}),"Send Quote"]}),(0,a.jsxs)(j.Xi,{onClick:()=>t(r),children:[a.jsx(w.Z,{className:"mr-2 h-4 w-4"}),"Approve"]}),(0,a.jsxs)(j.Xi,{onClick:()=>n(r),children:[a.jsx(R.Z,{className:"mr-2 h-4 w-4"}),"Decline"]})]}),"NEEDS_PAYMENT"===r.status&&(0,a.jsxs)(j.Xi,{onClick:()=>e(r),children:[a.jsx(v.Z,{className:"mr-2 h-4 w-4"}),"View Details"]}),a.jsx(j.VD,{}),(0,a.jsxs)(j.Xi,{onClick:()=>e(r),children:[a.jsx(b.Z,{className:"mr-2 h-4 w-4"}),"View Details"]})]})]})]})}}];var E=t(69436),I=t(62288),_=t(87673);function D({isOpen:e,onClose:s,request:t}){let[r,c]=(0,n.useState)(""),o=(0,i.NL)(),u=(0,l.D)({mutationFn:x.r.sendMessage,onSuccess:()=>{o.invalidateQueries({queryKey:["space-requests"]}),c(""),d.Am.success("Message sent successfully")},onError:e=>{d.Am.error(e.message||"Failed to send message")}});return t?a.jsx(I.Vq,{open:e,onOpenChange:s,children:(0,a.jsxs)(I.cZ,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(I.fK,{children:[(0,a.jsxs)(I.$N,{className:"flex items-center gap-2",children:[a.jsx("span",{children:t.title}),a.jsx(h.C,{variant:(e=>{switch(e){case"CONFIRMED":return"default";case"PENDING":default:return"secondary";case"NEEDS_PAYMENT":return"outline";case"DECLINED":case"EXPIRED":case"CANCELLED":return"destructive"}})(t.status),children:t.status.replace("_"," ")})]}),a.jsx(I.Be,{children:"Booking request details and communication"})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(m.Zb,{children:[a.jsx(m.Ol,{children:a.jsx(m.ll,{children:"Request Information"})}),(0,a.jsxs)(m.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(f.Z,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"font-medium",children:"Date & Time"})]}),a.jsx("div",{className:"text-sm",children:(0,A.WU)(new Date(t.start),"EEEE, MMMM d, yyyy")}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,A.WU)(new Date(t.start),"h:mm a")," - ",(0,A.WU)(new Date(t.end),"h:mm a")]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(y.Z,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"font-medium",children:"Attendees"})]}),(0,a.jsxs)("div",{className:"text-sm",children:[t.attendees," people"]})]})]}),t.description&&(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("span",{className:"font-medium",children:"Description"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("span",{className:"font-medium",children:"Organizer"}),(0,a.jsxs)("div",{className:"text-sm",children:[t.organizerName," (",t.organizerEmail,")"]})]})]})]}),t.quoteAmount&&(0,a.jsxs)(m.Zb,{children:[a.jsx(m.Ol,{children:a.jsx(m.ll,{children:"Pricing"})}),(0,a.jsxs)(m.aY,{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Quote Amount:"}),(0,a.jsxs)("span",{className:"font-medium",children:["$",t.quoteAmount]})]}),t.depositAmount&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Deposit:"}),(0,a.jsxs)("span",{className:"font-medium",children:["$",t.depositAmount]})]}),t.cleaningFee&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Cleaning Fee:"}),(0,a.jsxs)("span",{className:"font-medium",children:["$",t.cleaningFee]})]}),t.pricingBreakdown&&(0,a.jsxs)("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Pricing Breakdown:"}),a.jsx("pre",{className:"text-xs mt-2 text-muted-foreground",children:JSON.stringify(t.pricingBreakdown,null,2)})]})]})]}),(0,a.jsxs)(m.Zb,{children:[a.jsx(m.Ol,{children:a.jsx(m.ll,{children:"Messages"})}),(0,a.jsxs)(m.aY,{className:"space-y-4",children:[t.messages&&t.messages.length>0?a.jsx("div",{className:"space-y-3",children:t.messages.map(e=>(0,a.jsxs)("div",{className:`p-3 rounded-lg ${e.isFromHost?"bg-primary/10 ml-8":"bg-muted mr-8"}`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium",children:e.isFromHost?"You":t.organizerName}),a.jsx("span",{className:"text-xs text-muted-foreground",children:(0,A.WU)(new Date(e.createdAt),"MMM d, h:mm a")})]}),a.jsx("p",{className:"text-sm",children:e.body}),e.attachments&&e.attachments.length>0&&(0,a.jsxs)("div",{className:"mt-2",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:"Attachments:"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.attachments.map((e,s)=>(0,a.jsxs)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline",children:["Attachment ",s+1]},s))})]})]},e.id))}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"No messages yet"}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(_.g,{value:r,onChange:e=>c(e.target.value),placeholder:"Type your message...",rows:3}),a.jsx("div",{className:"flex justify-end",children:(0,a.jsxs)(g.z,{onClick:()=>{t&&r.trim()&&u.mutate({spaceReqId:t.id,body:r.trim()})},disabled:!r.trim()||u.isPending,size:"sm",children:[a.jsx(E.Z,{className:"mr-2 h-4 w-4"}),"Send Message"]})})]})]})]})]})]})}):null}var k=t(74723),C=t(74064);let S=(0,t(62881).Z)("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);var M=t(31048),P=t(27100);function Q({isOpen:e,onClose:s,request:t,onSubmit:n,isLoading:i}){let{register:r,handleSubmit:l,formState:{errors:c},watch:d,setValue:u}=(0,k.cI)({resolver:(0,C.F)(P.Xu.omit({requestId:!0})),defaultValues:{quoteAmount:0,depositAmount:0,cleaningFee:0,pricingBreakdown:{}}}),p=d("quoteAmount"),x=d("depositAmount"),h=d("cleaningFee"),j=()=>x||Math.round(.2*p);return t?a.jsx(I.Vq,{open:e,onOpenChange:s,children:(0,a.jsxs)(I.cZ,{className:"max-w-2xl",children:[(0,a.jsxs)(I.fK,{children:[(0,a.jsxs)(I.$N,{className:"flex items-center gap-2",children:[a.jsx(S,{className:"h-5 w-5"}),"Send Quote"]}),a.jsx(I.Be,{children:"Provide pricing details for the booking request"})]}),(0,a.jsxs)("form",{onSubmit:l(e=>{n(e)}),className:"space-y-6",children:[(0,a.jsxs)(m.Zb,{children:[a.jsx(m.Ol,{children:a.jsx(m.ll,{className:"text-lg",children:"Request Summary"})}),a.jsx(m.aY,{className:"space-y-2",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"Event:"})," ",t.title]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"Attendees:"})," ",t.attendees]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(t.start).toLocaleDateString()]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"Duration:"})," ",Math.round((new Date(t.end).getTime()-new Date(t.start).getTime())/36e5*10)/10," hours"]})]})})]}),(0,a.jsxs)(m.Zb,{children:[a.jsx(m.Ol,{children:a.jsx(m.ll,{className:"text-lg",children:"Pricing Details"})}),(0,a.jsxs)(m.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(M._,{htmlFor:"quoteAmount",children:"Base Quote Amount *"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(N.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(o.I,{id:"quoteAmount",type:"number",...r("quoteAmount",{valueAsNumber:!0}),className:"pl-10",min:"0",step:"0.01"})]}),c.quoteAmount&&a.jsx("p",{className:"text-sm text-destructive",children:c.quoteAmount.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(M._,{htmlFor:"depositAmount",children:"Security Deposit"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(N.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(o.I,{id:"depositAmount",type:"number",...r("depositAmount",{valueAsNumber:!0}),className:"pl-10",min:"0",step:"0.01",placeholder:`${j()} (20% of quote)`})]}),c.depositAmount&&a.jsx("p",{className:"text-sm text-destructive",children:c.depositAmount.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(M._,{htmlFor:"cleaningFee",children:"Cleaning Fee"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(N.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(o.I,{id:"cleaningFee",type:"number",...r("cleaningFee",{valueAsNumber:!0}),className:"pl-10",min:"0",step:"0.01"})]}),c.cleaningFee&&a.jsx("p",{className:"text-sm text-destructive",children:c.cleaningFee.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(M._,{htmlFor:"pricingBreakdown",children:"Pricing Breakdown (JSON)"}),a.jsx(_.g,{id:"pricingBreakdown",...r("pricingBreakdown"),placeholder:'{"hourly_rate": 50, "duration_hours": 3, "base_amount": 150}',rows:4}),c.pricingBreakdown&&a.jsx("p",{className:"text-sm text-destructive",children:c.pricingBreakdown.message})]})]})]}),(0,a.jsxs)(m.Zb,{children:[a.jsx(m.Ol,{children:a.jsx(m.ll,{className:"text-lg",children:"Quote Summary"})}),a.jsx(m.aY,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Base Quote:"}),(0,a.jsxs)("span",{children:["$",p||0]})]}),h>0&&(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Cleaning Fee:"}),(0,a.jsxs)("span",{children:["$",h]})]}),(0,a.jsxs)("div",{className:"flex justify-between font-medium border-t pt-2",children:[a.jsx("span",{children:"Total Amount:"}),(0,a.jsxs)("span",{children:["$",p+(h||0)]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm text-muted-foreground",children:[a.jsx("span",{children:"Security Deposit:"}),(0,a.jsxs)("span",{children:["$",j()]})]})]})})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[a.jsx(g.z,{type:"button",variant:"outline",onClick:s,children:"Cancel"}),a.jsx(g.z,{type:"submit",disabled:i,children:i?"Sending...":"Send Quote"})]})]})]})}):null}function F(){let[e,s]=(0,n.useState)(null),[t,h]=(0,n.useState)(!1),[g,j]=(0,n.useState)(!1),[y,f]=(0,n.useState)({search:"",status:"all",spaceId:""}),N=(0,i.NL)(),{data:v,isLoading:b}=(0,r.a)({queryKey:["space-requests",y],queryFn:()=>x.r.listRequests({status:"all"===y.status?void 0:y.status,spaceId:y.spaceId||void 0})}),q=(0,l.D)({mutationFn:x.r.quoteRequest,onSuccess:()=>{N.invalidateQueries({queryKey:["space-requests"]}),j(!1),s(null),d.Am.success("Quote sent successfully")},onError:e=>{d.Am.error(e.message||"Failed to send quote")}}),w=(0,l.D)({mutationFn:({requestId:e,message:s})=>x.r.approveRequest({requestId:e,decision:"approve",message:s}),onSuccess:()=>{N.invalidateQueries({queryKey:["space-requests"]}),d.Am.success("Request approved successfully")},onError:e=>{d.Am.error(e.message||"Failed to approve request")}}),R=(0,l.D)({mutationFn:({requestId:e,message:s})=>x.r.declineRequest({requestId:e,decision:"decline",message:s}),onSuccess:()=>{N.invalidateQueries({queryKey:["space-requests"]}),d.Am.success("Request declined")},onError:e=>{d.Am.error(e.message||"Failed to decline request")}}),A=Z({onViewDetails:e=>{s(e),h(!0)},onQuote:e=>{s(e),j(!0)},onApprove:e=>{confirm(`Approve request for "${e.title}"?`)&&w.mutate({requestId:e.id})},onDecline:e=>{let s=prompt("Reason for declining (optional):");R.mutate({requestId:e.id,message:s||void 0})}});return(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Space Requests"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage booking requests and quotes for your spaces"})]})}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 p-4 border rounded-lg bg-muted/50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(c.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Filters:"})]}),a.jsx(o.I,{placeholder:"Search requests...",value:y.search,onChange:e=>f(s=>({...s,search:e.target.value})),className:"w-64"}),(0,a.jsxs)(u.Ph,{value:y.status,onValueChange:e=>f(s=>({...s,status:e})),children:[a.jsx(u.i4,{className:"w-40",children:a.jsx(u.ki,{placeholder:"Status"})}),(0,a.jsxs)(u.Bw,{children:[a.jsx(u.Ql,{value:"all",children:"All Status"}),a.jsx(u.Ql,{value:"PENDING",children:"Pending"}),a.jsx(u.Ql,{value:"NEEDS_PAYMENT",children:"Needs Payment"}),a.jsx(u.Ql,{value:"PAID_HOLD",children:"Paid Hold"}),a.jsx(u.Ql,{value:"CONFIRMED",children:"Confirmed"}),a.jsx(u.Ql,{value:"DECLINED",children:"Declined"}),a.jsx(u.Ql,{value:"EXPIRED",children:"Expired"}),a.jsx(u.Ql,{value:"CANCELLED",children:"Cancelled"})]})]})]}),(0,a.jsxs)(m.Zb,{children:[(0,a.jsxs)(m.Ol,{children:[a.jsx(m.ll,{children:"Booking Requests"}),a.jsx(m.SZ,{children:"Review and manage space booking requests"})]}),a.jsx(m.aY,{children:a.jsx(p.w,{columns:A,data:v?.requests||[],isLoading:b,pagination:{page:v?.page||1,limit:v?.limit||20,total:v?.total||0}})})]}),a.jsx(D,{isOpen:t,onClose:()=>{h(!1),s(null)},request:e}),a.jsx(Q,{isOpen:g,onClose:()=>{j(!1),s(null)},request:e,onSubmit:s=>{e&&q.mutate({requestId:e.id,...s})},isLoading:q.isPending})]})}},33071:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>l,SZ:()=>d,Zb:()=>r,aY:()=>o,ll:()=>c});var a=t(10326),n=t(17577),i=t(77863);let r=n.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));r.displayName="Card";let l=n.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...s}));l.displayName="CardHeader";let c=n.forwardRef(({className:e,...s},t)=>a.jsx("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));c.displayName="CardTitle";let d=n.forwardRef(({className:e,...s},t)=>a.jsx("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let o=n.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent",n.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},83093:(e,s,t)=>{"use strict";t.d(s,{r:()=>r}),t(85999);class a extends Error{constructor(e,s,t){super(e),this.status=s,this.response=t,this.name="ApiError"}}class n{constructor(e="/api"){this.baseUrl=e,this.defaultHeaders={"Content-Type":"application/json"}}async request(e,s={}){let t=`${this.baseUrl}${e}`,n=new AbortController,i=setTimeout(()=>n.abort(),3e4);try{let e=await fetch(t,{...s,headers:{...this.defaultHeaders,...s.headers},signal:n.signal});if(clearTimeout(i),!e.ok){let s=await e.json().catch(()=>({}));throw new a(s.message||`HTTP ${e.status}`,e.status,e)}return await e.json()}catch(e){if(clearTimeout(i),e instanceof a)throw e;if(e instanceof Error&&"AbortError"===e.name)throw new a("Request timeout",408);throw new a(e instanceof Error?e.message:"Unknown error",500)}}async get(e,s){let t=new URL(e,this.baseUrl);return s&&Object.entries(s).forEach(([e,s])=>{null!=s&&t.searchParams.append(e,String(s))}),this.request(t.pathname+t.search,{method:"GET"})}async post(e,s,t){return this.request(e,{method:"POST",body:s?JSON.stringify(s):void 0,headers:t})}async patch(e,s,t){return this.request(e,{method:"PATCH",body:s?JSON.stringify(s):void 0,headers:t})}async delete(e,s){return this.request(e,{method:"DELETE",headers:s})}}let i=new n,r={list:async(e={})=>{let s=new URLSearchParams;return Object.entries(e).forEach(([e,t])=>{null!=t&&s.append(e,String(t))}),i.get(`/space?${s}`)},get:async e=>i.get(`/space/${e}`),create:async e=>i.post("/space",e),update:async(e,s)=>i.patch(`/space/${e}`,s),delete:async e=>i.delete(`/space/${e}`),publish:async e=>i.post(`/space/${e}/publish`),archive:async e=>i.post(`/space/${e}/archive`),updatePricingRules:async e=>i.post(`/space/${e.spaceId}/pricing`,e),updateAvailability:async e=>i.post(`/space/${e.spaceId}/availability`,e),listRequests:async(e={})=>{let s=new URLSearchParams;return Object.entries(e).forEach(([e,t])=>{null!=t&&s.append(e,String(t))}),i.get(`/space/requests?${s}`)},getRequest:async e=>i.get(`/space/requests/${e}`),quoteRequest:async e=>i.post(`/space/requests/${e.requestId}/quote`,e),approveRequest:async e=>i.post(`/space/requests/${e.requestId}/approve`,e),declineRequest:async e=>i.post(`/space/requests/${e.requestId}/decline`,e),cancelRequest:async e=>i.post(`/space/requests/${e.requestId}/cancel`,e),sendMessage:async e=>i.post(`/space/requests/${e.spaceReqId}/messages`,e),getStats:async()=>i.get("/space/stats"),publicList:async(e={})=>{let s=new URLSearchParams;return Object.entries(e).forEach(([e,t])=>{null!=t&&s.append(e,String(t))}),i.get(`/public/space?${s}`)},publicGet:async e=>i.get(`/public/space/${e}`),publicCheckAvailability:async e=>i.post(`/public/space/${e.spaceId}/availability`,e),publicGetQuote:async e=>i.post(`/public/space/${e.spaceId}/quote`,e)}},27100:(e,s,t)=>{"use strict";t.d(s,{IZ:()=>i,QU:()=>l,Xu:()=>d,qe:()=>n});var a=t(49969);let n=a.Ryn({title:a.Z_8().min(1,"Title is required").max(100,"Title too long"),slug:a.Z_8().min(1,"Slug is required").max(50,"Slug too long").regex(/^[a-z0-9-]+$/,"Slug must contain only lowercase letters, numbers, and hyphens"),description:a.Z_8().min(10,"Description must be at least 10 characters").max(1e3,"Description too long"),photos:a.IXX(a.Z_8().url("Invalid photo URL")).max(10,"Maximum 10 photos allowed"),location:a.Ryn({address:a.Z_8().min(1,"Address is required"),lat:a.Rxh().min(-90).max(90),lng:a.Rxh().min(-180).max(180)}),capacity:a.Rxh().int().min(1,"Capacity must be at least 1").max(1e3,"Capacity too large"),floorAreaM2:a.Rxh().int().min(1).max(1e4).optional(),amenities:a.IXX(a.Ryn({label:a.Z_8().min(1,"Amenity label is required"),category:a.Z_8().optional()})).max(20,"Maximum 20 amenities allowed"),rules:a.IXX(a.Ryn({label:a.Z_8().min(1,"Rule label is required"),required:a.O72()})).max(10,"Maximum 10 rules allowed")}),i=n.partial().extend({id:a.Z_8().cuid()});a.Ryn({id:a.Z_8().cuid()});let r=a.Ryn({kind:a.KmV(["HOURLY","DAILY","PEAK","CLEANING_FEE","SECURITY_DEPOSIT"]),amount:a.Rxh().int().min(0,"Amount must be positive"),currency:a.Z_8().length(3,"Currency must be 3 characters"),dow:a.IXX(a.Rxh().int().min(0).max(6)).default([]),startHour:a.Rxh().int().min(0).max(23).optional(),endHour:a.Rxh().int().min(0).max(23).optional()}).refine(e=>void 0===e.startHour||void 0===e.endHour||e.startHour<e.endHour,{message:"Start hour must be before end hour",path:["endHour"]}),l=a.Ryn({spaceId:a.Z_8().cuid(),rules:a.IXX(r).max(10,"Maximum 10 pricing rules allowed")}),c=a.Ryn({spaceId:a.Z_8().cuid(),start:a.oQ2.date(),end:a.oQ2.date(),isBlocked:a.O72().default(!1),notes:a.Z_8().max(500).optional()}).refine(e=>e.start<e.end,{message:"Start time must be before end time",path:["end"]});a.Ryn({spaceId:a.Z_8().cuid(),blocks:a.IXX(c.omit({spaceId:!0})).max(50,"Maximum 50 availability blocks allowed")}),a.Ryn({spaceId:a.Z_8().cuid(),title:a.Z_8().min(1,"Title is required").max(100,"Title too long"),description:a.Z_8().max(500).optional(),attendees:a.Rxh().int().min(1,"At least 1 attendee required").max(1e3,"Too many attendees"),start:a.oQ2.date(),end:a.oQ2.date(),organizerId:a.Z_8().min(1,"Organizer ID is required")}).refine(e=>e.start<e.end,{message:"Start time must be before end time",path:["end"]}).refine(e=>e.end.getTime()-e.start.getTime()<=864e5,{message:"Booking duration cannot exceed 24 hours",path:["end"]});let d=a.Ryn({requestId:a.Z_8().cuid(),quoteAmount:a.Rxh().int().min(0,"Quote amount must be positive"),depositAmount:a.Rxh().int().min(0).optional(),cleaningFee:a.Rxh().int().min(0).optional(),pricingBreakdown:a.IMB(a.YjB())});a.Ryn({requestId:a.Z_8().cuid(),decision:a.KmV(["approve","decline"]),message:a.Z_8().max(500).optional()}),a.Ryn({requestId:a.Z_8().cuid(),reason:a.Z_8().max(200).optional()}),a.Ryn({spaceReqId:a.Z_8().cuid(),body:a.Z_8().min(1,"Message body is required").max(1e3,"Message too long"),attachments:a.IXX(a.Z_8().url("Invalid attachment URL")).max(5,"Maximum 5 attachments allowed").optional()}),a.Ryn({requestId:a.Z_8().cuid(),paymentMethodId:a.Z_8().min(1,"Payment method is required"),idempotencyKey:a.Z_8().uuid("Invalid idempotency key")}),a.Ryn({businessId:a.Z_8().cuid(),returnUrl:a.Z_8().url("Invalid return URL").optional(),refreshUrl:a.Z_8().url("Invalid refresh URL").optional()}),a.Ryn({city:a.Z_8().optional(),priceMin:a.oQ2.number().int().min(0).optional(),priceMax:a.oQ2.number().int().min(0).optional(),capacity:a.oQ2.number().int().min(1).optional(),amenities:a.IXX(a.Z_8()).optional(),from:a.oQ2.date().optional(),to:a.oQ2.date().optional(),page:a.oQ2.number().int().min(1).default(1),limit:a.oQ2.number().int().min(1).max(50).default(24),sort:a.KmV(["relevance","price_asc","price_desc","capacity","distance"]).default("relevance"),lat:a.oQ2.number().optional(),lng:a.oQ2.number().optional(),radius:a.oQ2.number().int().min(1).max(100).default(50)}),a.Ryn({spaceId:a.Z_8().cuid(),from:a.oQ2.date(),to:a.oQ2.date()}),a.Ryn({spaceId:a.Z_8().cuid(),start:a.oQ2.date(),end:a.oQ2.date(),attendees:a.Rxh().int().min(1).max(1e3)}),a.Ryn({q:a.Z_8().min(1,"Search query is required").max(100,"Query too long"),filters:a.Ryn({city:a.Z_8().optional(),priceRange:a.bcc([a.Rxh(),a.Rxh()]).optional(),capacity:a.Rxh().int().min(1).optional(),amenities:a.IXX(a.Z_8()).optional()}).optional(),page:a.oQ2.number().int().min(1).default(1),limit:a.oQ2.number().int().min(1).max(50).default(20)}),a.Ryn({status:a.KmV(["DRAFT","PUBLISHED","ARCHIVED"]).optional(),city:a.Z_8().optional(),capacity:a.oQ2.number().int().min(1).optional(),q:a.Z_8().optional(),page:a.oQ2.number().int().min(1).default(1),limit:a.oQ2.number().int().min(1).max(100).default(20)}),a.Ryn({status:a.KmV(["PENDING","APPROVED","DECLINED","CANCELLED"]).optional(),spaceId:a.Z_8().cuid().optional(),from:a.oQ2.date().optional(),to:a.oQ2.date().optional(),page:a.oQ2.number().int().min(1).default(1),limit:a.oQ2.number().int().min(1).max(100).default(20)})},30361:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},69669:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},15919:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},12714:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},69561:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},69436:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},54539:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`/Users/kumar/Business admin/tripfluence-admin/app/(admin)/space-requests/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[8948,1365,354,6582,5403,260,1468,1724,2880,5079,6179,1427,3708],()=>t(63636));module.exports=a})();