"use strict";(()=>{var e={};e.id=8198,e.ids=[8198],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},92048:e=>{e.exports=require("fs")},55315:e=>{e.exports=require("path")},92943:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>j,patchFetch:()=>v,requestAsyncStorage:()=>g,routeModule:()=>m,serverHooks:()=>h,staticGenerationAsyncStorage:()=>x});var s={};r.r(s),r.d(s,{POST:()=>f});var a=r(49303),o=r(88716),i=r(60670),n=r(87070);let u=require("fs/promises");var p=r(55315),l=r(92048);let d=(0,p.join)(process.cwd(),"public","uploads"),c=["image/jpeg","image/jpg","image/png","image/webp","image/avif"];async function f(e){try{(0,l.existsSync)(d)||await (0,u.mkdir)(d,{recursive:!0});let t=(await e.formData()).getAll("files");if(!t||0===t.length)return n.NextResponse.json({error:"No files provided"},{status:400});if(t.length>10)return n.NextResponse.json({error:"Maximum 10 files allowed"},{status:400});let r=[];for(let e of t){if(!c.includes(e.type))return n.NextResponse.json({error:`Invalid file type: ${e.type}. Allowed: ${c.join(", ")}`},{status:400});if(e.size>5242880)return n.NextResponse.json({error:`File too large: ${e.name}. Maximum size: 5MB`},{status:400});let t=Date.now(),s=Math.random().toString(36).substring(2,15),a=e.name.split(".").pop(),o=`${t}-${s}.${a}`,i=await e.arrayBuffer(),l=Buffer.from(i),f=(0,p.join)(d,o);await (0,u.writeFile)(f,l),r.push(`/uploads/${o}`)}return n.NextResponse.json({urls:r})}catch(e){return console.error("Upload error:",e),n.NextResponse.json({error:"Failed to upload files"},{status:500})}}let m=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/uploads/route",pathname:"/api/uploads",filename:"route",bundlePath:"app/api/uploads/route"},resolvedPagePath:"/Users/kumar/Business admin/tripfluence-admin/app/api/uploads/route.ts",nextConfigOutput:"standalone",userland:s}),{requestAsyncStorage:g,staticGenerationAsyncStorage:x,serverHooks:h}=m,j="/api/uploads/route";function v(){return(0,i.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:x})}},38238:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReflectAdapter",{enumerable:!0,get:function(){return r}});class r{static get(e,t,r){let s=Reflect.get(e,t,r);return"function"==typeof s?s.bind(e):s}static set(e,t,r,s){return Reflect.set(e,t,r,s)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,5972],()=>r(92943));module.exports=s})();